var xA=Object.defineProperty;var bA=(t,e,s)=>e in t?xA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var qt=(t,e,s)=>bA(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var aV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ox={exports:{}},_f={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function vA(){if(Xv)return _f;Xv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:t,type:a,key:c,ref:r!==void 0?r:null,props:o}}return _f.Fragment=e,_f.jsx=s,_f.jsxs=s,_f}var Kv;function wA(){return Kv||(Kv=1,Ox.exports=vA()),Ox.exports}var n=wA(),Rx={exports:{}},Ns={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function NA(){if(Zv)return Ns;Zv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function k(B,me,M){this.props=B,this.context=me,this.refs=_,this.updater=M||y}k.prototype.isReactComponent={},k.prototype.setState=function(B,me){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,me,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=k.prototype;function D(B,me,M){this.props=B,this.context=me,this.refs=_,this.updater=M||y}var L=D.prototype=new C;L.constructor=D,N(L,k.prototype),L.isPureReactComponent=!0;var $=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function ee(B,me,M,T,q,Y){return M=Y.ref,{$$typeof:t,type:B,key:me,ref:M!==void 0?M:null,props:Y}}function U(B,me){return ee(B.type,me,void 0,void 0,void 0,B.props)}function oe(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function re(B){var me={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(M){return me[M]})}var O=/\/+/g;function R(B,me){return typeof B=="object"&&B!==null&&B.key!=null?re(""+B.key):me.toString(36)}function ie(){}function X(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ie,ie):(B.status="pending",B.then(function(me){B.status==="pending"&&(B.status="fulfilled",B.value=me)},function(me){B.status==="pending"&&(B.status="rejected",B.reason=me)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function se(B,me,M,T,q){var Y=typeof B;(Y==="undefined"||Y==="boolean")&&(B=null);var I=!1;if(B===null)I=!0;else switch(Y){case"bigint":case"string":case"number":I=!0;break;case"object":switch(B.$$typeof){case t:case e:I=!0;break;case p:return I=B._init,se(I(B._payload),me,M,T,q)}}if(I)return q=q(B),I=T===""?"."+R(B,0):T,$(q)?(M="",I!=null&&(M=I.replace(O,"$&/")+"/"),se(q,me,M,"",function(pe){return pe})):q!=null&&(oe(q)&&(q=U(q,M+(q.key==null||B&&B.key===q.key?"":(""+q.key).replace(O,"$&/")+"/")+I)),me.push(q)),1;I=0;var G=T===""?".":T+":";if($(B))for(var ce=0;ce<B.length;ce++)T=B[ce],Y=G+R(T,ce),I+=se(T,me,M,Y,q);else if(ce=v(B),typeof ce=="function")for(B=ce.call(B),ce=0;!(T=B.next()).done;)T=T.value,Y=G+R(T,ce++),I+=se(T,me,M,Y,q);else if(Y==="object"){if(typeof B.then=="function")return se(X(B),me,M,T,q);throw me=String(B),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return I}function z(B,me,M){if(B==null)return B;var T=[],q=0;return se(B,T,"","",function(Y){return me.call(M,Y,q++)}),T}function J(B){if(B._status===-1){var me=B._result;me=me(),me.then(function(M){(B._status===0||B._status===-1)&&(B._status=1,B._result=M)},function(M){(B._status===0||B._status===-1)&&(B._status=2,B._result=M)}),B._status===-1&&(B._status=0,B._result=me)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function xe(){}return Ns.Children={map:z,forEach:function(B,me,M){z(B,function(){me.apply(this,arguments)},M)},count:function(B){var me=0;return z(B,function(){me++}),me},toArray:function(B){return z(B,function(me){return me})||[]},only:function(B){if(!oe(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ns.Component=k,Ns.Fragment=s,Ns.Profiler=r,Ns.PureComponent=D,Ns.StrictMode=a,Ns.Suspense=h,Ns.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ns.__COMPILER_RUNTIME={__proto__:null,c:function(B){return W.H.useMemoCache(B)}},Ns.cache=function(B){return function(){return B.apply(null,arguments)}},Ns.cloneElement=function(B,me,M){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var T=N({},B.props),q=B.key,Y=void 0;if(me!=null)for(I in me.ref!==void 0&&(Y=void 0),me.key!==void 0&&(q=""+me.key),me)!le.call(me,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&me.ref===void 0||(T[I]=me[I]);var I=arguments.length-2;if(I===1)T.children=M;else if(1<I){for(var G=Array(I),ce=0;ce<I;ce++)G[ce]=arguments[ce+2];T.children=G}return ee(B.type,q,void 0,void 0,Y,T)},Ns.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Ns.createElement=function(B,me,M){var T,q={},Y=null;if(me!=null)for(T in me.key!==void 0&&(Y=""+me.key),me)le.call(me,T)&&T!=="key"&&T!=="__self"&&T!=="__source"&&(q[T]=me[T]);var I=arguments.length-2;if(I===1)q.children=M;else if(1<I){for(var G=Array(I),ce=0;ce<I;ce++)G[ce]=arguments[ce+2];q.children=G}if(B&&B.defaultProps)for(T in I=B.defaultProps,I)q[T]===void 0&&(q[T]=I[T]);return ee(B,Y,void 0,void 0,null,q)},Ns.createRef=function(){return{current:null}},Ns.forwardRef=function(B){return{$$typeof:d,render:B}},Ns.isValidElement=oe,Ns.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:J}},Ns.memo=function(B,me){return{$$typeof:f,type:B,compare:me===void 0?null:me}},Ns.startTransition=function(B){var me=W.T,M={};W.T=M;try{var T=B(),q=W.S;q!==null&&q(M,T),typeof T=="object"&&T!==null&&typeof T.then=="function"&&T.then(xe,Q)}catch(Y){Q(Y)}finally{W.T=me}},Ns.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ns.use=function(B){return W.H.use(B)},Ns.useActionState=function(B,me,M){return W.H.useActionState(B,me,M)},Ns.useCallback=function(B,me){return W.H.useCallback(B,me)},Ns.useContext=function(B){return W.H.useContext(B)},Ns.useDebugValue=function(){},Ns.useDeferredValue=function(B,me){return W.H.useDeferredValue(B,me)},Ns.useEffect=function(B,me,M){var T=W.H;if(typeof M=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return T.useEffect(B,me)},Ns.useId=function(){return W.H.useId()},Ns.useImperativeHandle=function(B,me,M){return W.H.useImperativeHandle(B,me,M)},Ns.useInsertionEffect=function(B,me){return W.H.useInsertionEffect(B,me)},Ns.useLayoutEffect=function(B,me){return W.H.useLayoutEffect(B,me)},Ns.useMemo=function(B,me){return W.H.useMemo(B,me)},Ns.useOptimistic=function(B,me){return W.H.useOptimistic(B,me)},Ns.useReducer=function(B,me,M){return W.H.useReducer(B,me,M)},Ns.useRef=function(B){return W.H.useRef(B)},Ns.useState=function(B){return W.H.useState(B)},Ns.useSyncExternalStore=function(B,me,M){return W.H.useSyncExternalStore(B,me,M)},Ns.useTransition=function(){return W.H.useTransition()},Ns.version="19.1.0",Ns}var Jv;function Ty(){return Jv||(Jv=1,Rx.exports=NA()),Rx.exports}var P=Ty();const Ea=yA(P);var Fx={exports:{}},Af={},Bx={exports:{}},zx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function jA(){return Qv||(Qv=1,function(t){function e(z,J){var Q=z.length;z.push(J);e:for(;0<Q;){var xe=Q-1>>>1,B=z[xe];if(0<r(B,J))z[xe]=J,z[Q]=B,Q=xe;else break e}}function s(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var J=z[0],Q=z.pop();if(Q!==J){z[0]=Q;e:for(var xe=0,B=z.length,me=B>>>1;xe<me;){var M=2*(xe+1)-1,T=z[M],q=M+1,Y=z[q];if(0>r(T,Q))q<B&&0>r(Y,T)?(z[xe]=Y,z[q]=Q,xe=q):(z[xe]=T,z[M]=Q,xe=M);else if(q<B&&0>r(Y,Q))z[xe]=Y,z[q]=Q,xe=q;else break e}}return J}function r(z,J){var Q=z.sortIndex-J.sortIndex;return Q!==0?Q:z.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,x=null,v=3,y=!1,N=!1,_=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(z){for(var J=s(f);J!==null;){if(J.callback===null)a(f);else if(J.startTime<=z)a(f),J.sortIndex=J.expirationTime,e(h,J);else break;J=s(f)}}function W(z){if(_=!1,$(z),!N)if(s(h)!==null)N=!0,le||(le=!0,R());else{var J=s(f);J!==null&&se(W,J.startTime-z)}}var le=!1,ee=-1,U=5,oe=-1;function re(){return k?!0:!(t.unstable_now()-oe<U)}function O(){if(k=!1,le){var z=t.unstable_now();oe=z;var J=!0;try{e:{N=!1,_&&(_=!1,D(ee),ee=-1),y=!0;var Q=v;try{t:{for($(z),x=s(h);x!==null&&!(x.expirationTime>z&&re());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,v=x.priorityLevel;var B=xe(x.expirationTime<=z);if(z=t.unstable_now(),typeof B=="function"){x.callback=B,$(z),J=!0;break t}x===s(h)&&a(h),$(z)}else a(h);x=s(h)}if(x!==null)J=!0;else{var me=s(f);me!==null&&se(W,me.startTime-z),J=!1}}break e}finally{x=null,v=Q,y=!1}J=void 0}}finally{J?R():le=!1}}}var R;if(typeof L=="function")R=function(){L(O)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,X=ie.port2;ie.port1.onmessage=O,R=function(){X.postMessage(null)}}else R=function(){C(O,0)};function se(z,J){ee=C(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(z){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var Q=v;v=J;try{return z()}finally{v=Q}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=v;v=z;try{return J()}finally{v=Q}},t.unstable_scheduleCallback=function(z,J,Q){var xe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?xe+Q:xe):Q=xe,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,z={id:p++,callback:J,priorityLevel:z,startTime:Q,expirationTime:B,sortIndex:-1},Q>xe?(z.sortIndex=Q,e(f,z),s(h)===null&&z===s(f)&&(_?(D(ee),ee=-1):_=!0,se(W,Q-xe))):(z.sortIndex=B,e(h,z),N||y||(N=!0,le||(le=!0,R()))),z},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(z){var J=v;return function(){var Q=v;v=J;try{return z.apply(this,arguments)}finally{v=Q}}}}(zx)),zx}var e5;function SA(){return e5||(e5=1,Bx.exports=jA()),Bx.exports}var Ix={exports:{}},Za={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t5;function _A(){if(t5)return Za;t5=1;var t=Ty();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:x==null?null:""+x,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Za.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,p)},Za.flushSync=function(h){var f=c.T,p=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=f,a.p=p,a.d.f()}},Za.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,a.d.C(h,f))},Za.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Za.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?a.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:y}):p==="script"&&a.d.X(h,{crossOrigin:x,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Za.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);a.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&a.d.M(h)},Za.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin);a.d.L(h,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Za.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);a.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else a.d.m(h)},Za.requestFormReset=function(h){a.d.r(h)},Za.unstable_batchedUpdates=function(h,f){return h(f)},Za.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},Za.useFormStatus=function(){return c.H.useHostTransitionStatus()},Za.version="19.1.0",Za}var s5;function AA(){if(s5)return Ix.exports;s5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ix.exports=_A(),Ix.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5;function CA(){if(n5)return Af;n5=1;var t=SA(),e=Ty(),s=AA();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(a(188))}function h(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,m=l;;){var b=u.return;if(b===null)break;var j=b.alternate;if(j===null){if(m=b.return,m!==null){u=m;continue}break}if(b.child===j.child){for(j=b.child;j;){if(j===u)return d(b),i;if(j===m)return d(b),l;j=j.sibling}throw Error(a(188))}if(u.return!==m.return)u=b,m=j;else{for(var F=!1,ne=b.child;ne;){if(ne===u){F=!0,u=b,m=j;break}if(ne===m){F=!0,m=b,u=j;break}ne=ne.sibling}if(!F){for(ne=j.child;ne;){if(ne===u){F=!0,u=j,m=b;break}if(ne===m){F=!0,m=j,u=b;break}ne=ne.sibling}if(!F)throw Error(a(189))}}if(u.alternate!==m)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function f(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=f(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ie?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case W:return"Suspense";case le:return"SuspenseList";case oe:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case L:return(i.displayName||"Context")+".Provider";case D:return(i._context.displayName||"Context")+".Consumer";case $:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ee:return l=i.displayName||null,l!==null?l:X(i.type)||"Memo";case U:l=i._payload,i=i._init;try{return X(i(l))}catch{}}return null}var se=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},xe=[],B=-1;function me(i){return{current:i}}function M(i){0>B||(i.current=xe[B],xe[B]=null,B--)}function T(i,l){B++,xe[B]=i.current,i.current=l}var q=me(null),Y=me(null),I=me(null),G=me(null);function ce(i,l){switch(T(I,l),T(Y,i),T(q,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?jv(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=jv(l),i=Sv(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}M(q),T(q,i)}function pe(){M(q),M(Y),M(I)}function de(i){i.memoizedState!==null&&T(G,i);var l=q.current,u=Sv(l,i.type);l!==u&&(T(Y,i),T(q,u))}function Ne(i){Y.current===i&&(M(q),M(Y)),G.current===i&&(M(G),vf._currentValue=Q)}var be=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,Ee=t.unstable_shouldYield,ue=t.unstable_requestPaint,gt=t.unstable_now,ut=t.unstable_getCurrentPriorityLevel,Ve=t.unstable_ImmediatePriority,Ze=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,ve=t.unstable_LowPriority,Ye=t.unstable_IdlePriority,ht=t.log,pt=t.unstable_setDisableYieldValue,St=null,rt=null;function Dt(i){if(typeof ht=="function"&&pt(i),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(St,i)}catch{}}var fe=Math.clz32?Math.clz32:Pt,nt=Math.log,Xe=Math.LN2;function Pt(i){return i>>>=0,i===0?32:31-(nt(i)/Xe|0)|0}var Nt=256,ss=4194304;function Re(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qe(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var b=0,j=i.suspendedLanes,F=i.pingedLanes;i=i.warmLanes;var ne=m&134217727;return ne!==0?(m=ne&~j,m!==0?b=Re(m):(F&=ne,F!==0?b=Re(F):u||(u=ne&~i,u!==0&&(b=Re(u))))):(ne=m&~j,ne!==0?b=Re(ne):F!==0?b=Re(F):u||(u=m&~i,u!==0&&(b=Re(u)))),b===0?0:l!==0&&l!==b&&(l&j)===0&&(j=b&-b,u=l&-l,j>=u||j===32&&(u&4194048)!==0)?l:b}function He(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Pe(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yt(){var i=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),i}function vt(){var i=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),i}function Mt(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Zt(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Gt(i,l,u,m,b,j){var F=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var ne=i.entanglements,ye=i.expirationTimes,Ue=i.hiddenUpdates;for(u=F&~u;0<u;){var st=31-fe(u),ft=1<<st;ne[st]=0,ye[st]=-1;var $e=Ue[st];if($e!==null)for(Ue[st]=null,st=0;st<$e.length;st++){var We=$e[st];We!==null&&(We.lane&=-536870913)}u&=~ft}m!==0&&Rt(i,m,0),j!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=j&~(F&~l))}function Rt(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-fe(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&4194090}function jt(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-fe(u),b=1<<m;b&l|i[m]&l&&(i[m]|=l),u&=~b}}function js(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Os(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xn(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:Vv(i.type))}function jn(i,l){var u=J.p;try{return J.p=i,l()}finally{J.p=u}}var Ot=Math.random().toString(36).slice(2),vs="__reactFiber$"+Ot,cs="__reactProps$"+Ot,Fe="__reactContainer$"+Ot,ke="__reactEvents$"+Ot,Ft="__reactListeners$"+Ot,Wt="__reactHandles$"+Ot,Et="__reactResources$"+Ot,hs="__reactMarker$"+Ot;function we(i){delete i[vs],delete i[cs],delete i[ke],delete i[Ft],delete i[Wt]}function mt(i){var l=i[vs];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Fe]||u[vs]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=kv(i);i!==null;){if(u=i[vs])return u;i=kv(i)}return l}i=u,u=i.parentNode}return null}function kt(i){if(i=i[vs]||i[Fe]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function is(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function ps(i){var l=i[Et];return l||(l=i[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bs(i){i[hs]=!0}var Wn=new Set,la={};function bn(i,l){je(i,l),je(i+"Capture",l)}function je(i,l){for(la[i]=l,i=0;i<l.length;i++)Wn.add(l[i])}var _t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ut={},ns={};function ds(i){return be.call(ns,i)?!0:be.call(Ut,i)?!1:_t.test(i)?ns[i]=!0:(Ut[i]=!0,!1)}function gs(i,l,u){if(ds(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Ss(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function rn(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}var ca,Ma;function Bn(i){if(ca===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ca=l&&l[1]||"",Ma=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+i+Ma}var Sa=!1;function xa(i,l){if(!i||Sa)return"";Sa=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(We){var $e=We}Reflect.construct(i,[],ft)}else{try{ft.call()}catch(We){$e=We}i.call(ft.prototype)}}else{try{throw Error()}catch(We){$e=We}(ft=i())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(We){if(We&&$e&&typeof We.stack=="string")return[We.stack,$e.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=m.DetermineComponentFrameRoot(),F=j[0],ne=j[1];if(F&&ne){var ye=F.split(`
`),Ue=ne.split(`
`);for(b=m=0;m<ye.length&&!ye[m].includes("DetermineComponentFrameRoot");)m++;for(;b<Ue.length&&!Ue[b].includes("DetermineComponentFrameRoot");)b++;if(m===ye.length||b===Ue.length)for(m=ye.length-1,b=Ue.length-1;1<=m&&0<=b&&ye[m]!==Ue[b];)b--;for(;1<=m&&0<=b;m--,b--)if(ye[m]!==Ue[b]){if(m!==1||b!==1)do if(m--,b--,0>b||ye[m]!==Ue[b]){var st=`
`+ye[m].replace(" at new "," at ");return i.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",i.displayName)),st}while(1<=m&&0<=b);break}}}finally{Sa=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Bn(u):""}function qi(i){switch(i.tag){case 26:case 27:case 5:return Bn(i.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return xa(i.type,!1);case 11:return xa(i.type.render,!1);case 1:return xa(i.type,!0);case 31:return Bn("Activity");default:return""}}function Gs(i){try{var l="";do l+=qi(i),i=i.return;while(i);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yr(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function gi(i){var l=Yr(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,j=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(F){m=""+F,j.call(this,F)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(F){m=""+F},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function $a(i){i._valueTracker||(i._valueTracker=gi(i))}function xi(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=Yr(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function zn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ar=/[\n"\\]/g;function zs(i){return i.replace(Ar,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function hr(i,l,u,m,b,j,F,ne){i.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.type=F:i.removeAttribute("type"),l!=null?F==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Dn(l)):i.value!==""+Dn(l)&&(i.value=""+Dn(l)):F!=="submit"&&F!=="reset"||i.removeAttribute("value"),l!=null?Gr(i,F,Dn(l)):u!=null?Gr(i,F,Dn(u)):m!=null&&i.removeAttribute("value"),b==null&&j!=null&&(i.defaultChecked=!!j),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?i.name=""+Dn(ne):i.removeAttribute("name")}function Wr(i,l,u,m,b,j,F,ne){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),l!=null||u!=null){if(!(j!=="submit"&&j!=="reset"||l!=null))return;u=u!=null?""+Dn(u):"",l=l!=null?""+Dn(l):u,ne||l===i.value||(i.value=l),i.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=ne?i.checked:!!m,i.defaultChecked=!!m,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(i.name=F)}function Gr(i,l,u){l==="number"&&zn(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Pa(i,l,u,m){if(i=i.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=l.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Dn(u),l=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function fr(i,l,u){if(l!=null&&(l=""+Dn(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+Dn(u):""}function yo(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(a(92));if(se(m)){if(1<m.length)throw Error(a(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Dn(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m)}function Xr(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||vo.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function fl(i,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&u[b]!==m&&hl(i,b,m)}else for(var j in l)l.hasOwnProperty(j)&&hl(i,j,l[j])}function wo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ui=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(i){return Ui.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Vi=null;function En(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Kr=null,Dr=null;function Jt(i){var l=kt(i);if(l&&(i=l.stateNode)){var u=i[cs]||null;e:switch(i=l.stateNode,l.type){case"input":if(hr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+zs(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var b=m[cs]||null;if(!b)throw Error(a(90));hr(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&xi(m)}break e;case"textarea":fr(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Pa(i,!!u.multiple,l,!1)}}}var No=!1;function ml(i,l,u){if(No)return i(l,u);No=!0;try{var m=i(l);return m}finally{if(No=!1,(Kr!==null||Dr!==null)&&(fp(),Kr&&(l=Kr,i=Dr,Dr=Kr=null,Jt(l),i)))for(l=0;l<i.length;l++)Jt(i[l])}}function ba(i,l){var u=i.stateNode;if(u===null)return null;var m=u[cs]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wt=!1;if(Oa)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){wt=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{wt=!1}var Zs=null,ld=null,Ql=null;function gu(){if(Ql)return Ql;var i,l=ld,u=l.length,m,b="value"in Zs?Zs.value:Zs.textContent,j=b.length;for(i=0;i<u&&l[i]===b[i];i++);var F=u-i;for(m=1;m<=F&&l[u-m]===b[j-m];m++);return Ql=b.slice(i,1<m?1-m:void 0)}function jo(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function bi(){return!0}function Hi(){return!1}function _a(i){function l(u,m,b,j,F){this._reactName=u,this._targetInst=b,this.type=m,this.nativeEvent=j,this.target=F,this.currentTarget=null;for(var ne in i)i.hasOwnProperty(ne)&&(u=i[ne],this[ne]=u?u(j):j[ne]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?bi:Hi,this.isPropagationStopped=Hi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),l}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=_a(mr),yi=p({},mr,{view:0,detail:0}),xu=_a(yi),ec,tc,_o,pr=p({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_o&&(_o&&i.type==="mousemove"?(ec=i.screenX-_o.screenX,tc=i.screenY-_o.screenY):tc=ec=0,_o=i),ec)},movementY:function(i){return"movementY"in i?i.movementY:tc}}),vi=_a(pr),Rh=p({},pr,{dataTransfer:0}),Ao=_a(Rh),Zr=p({},yi,{relatedTarget:0}),pl=_a(Zr),gl=p({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=_a(gl),sc=p({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bh=_a(sc),cd=p({},mr,{data:0}),nc=_a(cd),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=dd[i])?!!l[i]:!1}function rc(){return ud}var zh=p({},yi,{key:function(i){if(i.key){var l=bu[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=jo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(i){return i.type==="keypress"?jo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ic=_a(zh),xl=p({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=_a(xl),Co=p({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),hd=_a(Co),S=p({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=_a(S),ge=p({},pr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Se=_a(ge),Oe=p({},mr,{newState:0,oldState:0}),et=_a(Oe),xt=[9,13,27,32],Lt=Oa&&"CompositionEvent"in window,Vt=null;Oa&&"documentMode"in document&&(Vt=document.documentMode);var ms=Oa&&"TextEvent"in window&&!Vt,us=Oa&&(!Lt||Vt&&8<Vt&&11>=Vt),Ls=" ",fn=!1;function yn(i,l){switch(i){case"keyup":return xt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Tn=!1;function da(i,l){switch(i){case"compositionend":return Ln(l);case"keypress":return l.which!==32?null:(fn=!0,Ls);case"textInput":return i=l.data,i===Ls&&fn?null:i;default:return null}}function Jr(i,l){if(Tn)return i==="compositionend"||!Lt&&yn(i,l)?(i=gu(),Ql=ld=Zs=null,Tn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return us&&l.locale!=="ko"?null:l.data;default:return null}}var gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qr(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!gr[i.type]:l==="textarea"}function fd(i,l,u,m){Kr?Dr?Dr.push(m):Dr=[m]:Kr=m,l=yp(l,"onChange"),0<l.length&&(u=new So("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var $i=null,Yi=null;function lc(i){bv(i,0)}function ko(i){var l=is(i);if(xi(l))return i}function cc(i,l){if(i==="change")return l}var bl=!1;if(Oa){var Gn;if(Oa){var Do="oninput"in document;if(!Do){var yl=document.createElement("div");yl.setAttribute("oninput","return;"),Do=typeof yl.oninput=="function"}Gn=Do}else Gn=!1;bl=Gn&&(!document.documentMode||9<document.documentMode)}function vl(){$i&&($i.detachEvent("onpropertychange",dc),Yi=$i=null)}function dc(i){if(i.propertyName==="value"&&ko(Yi)){var l=[];fd(l,Yi,i,En(i)),ml(lc,l)}}function Ya(i,l,u){i==="focusin"?(vl(),$i=l,Yi=u,$i.attachEvent("onpropertychange",dc)):i==="focusout"&&vl()}function Ih(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ko(Yi)}function md(i,l){if(i==="click")return ko(l)}function yu(i,l){if(i==="input"||i==="change")return ko(l)}function Lr(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var ua=typeof Object.is=="function"?Object.is:Lr;function Eo(i,l){if(ua(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var b=u[m];if(!be.call(l,b)||!ua(i[b],l[b]))return!1}return!0}function pd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wi(i,l){var u=pd(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=pd(u)}}function Lo(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Lo(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Ra(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=zn(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=zn(i.document)}return l}function ya(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var To=Oa&&"documentMode"in document&&11>=document.documentMode,Wa=null,ei=null,wi=null,ti=!1;function Sn(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ti||Wa==null||Wa!==zn(m)||(m=Wa,"selectionStart"in m&&ya(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wi&&Eo(wi,m)||(wi=m,m=yp(ei,"onSelect"),0<m.length&&(l=new So("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=Wa)))}function si(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var In={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},Ga={},wl={};Oa&&(wl=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function Ni(i){if(Ga[i])return Ga[i];if(!In[i])return i;var l=In[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in wl)return Ga[i]=l[u];return i}var uc=Ni("animationend"),Mo=Ni("animationiteration"),Po=Ni("animationstart"),Oo=Ni("transitionrun"),Nl=Ni("transitionstart"),hc=Ni("transitioncancel"),Ro=Ni("transitionend"),Gi=new Map,jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jl.push("scrollEnd");function _n(i,l){Gi.set(i,l),bn(l,[i])}var xr=new WeakMap;function Cs(i,l){if(typeof i=="object"&&i!==null){var u=xr.get(i);return u!==void 0?u:(l={value:i,source:l,stack:Gs(l)},xr.set(i,l),l)}return{value:i,source:l,stack:Gs(l)}}var ks=[],on=0,Mn=0;function Tr(){for(var i=on,l=Mn=on=0;l<i;){var u=ks[l];ks[l++]=null;var m=ks[l];ks[l++]=null;var b=ks[l];ks[l++]=null;var j=ks[l];if(ks[l++]=null,m!==null&&b!==null){var F=m.pending;F===null?b.next=b:(b.next=F.next,F.next=b),m.pending=b}j!==0&&vu(u,b,j)}}function Fo(i,l,u,m){ks[on++]=i,ks[on++]=l,ks[on++]=u,ks[on++]=m,Mn|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Bo(i,l,u,m){return Fo(i,l,u,m),Sl(i)}function Xi(i,l){return Fo(i,null,null,l),Sl(i)}function vu(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var b=!1,j=i.return;j!==null;)j.childLanes|=u,m=j.alternate,m!==null&&(m.childLanes|=u),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(b=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,b&&l!==null&&(b=31-fe(u),i=j.hiddenUpdates,m=i[b],m===null?i[b]=[l]:m.push(l),l.lane=u|536870912),j):null}function Sl(i){if(50<hf)throw hf=0,rx=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ha={};function Mr(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(i,l,u,m){return new Mr(i,l,u,m)}function fc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ji(i,l){var u=i.alternate;return u===null?(u=Aa(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function gd(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function _l(i,l,u,m,b,j){var F=0;if(m=i,typeof i=="function")fc(i)&&(F=1);else if(typeof i=="string")F=aA(i,u,q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case oe:return i=Aa(31,u,l,b),i.elementType=oe,i.lanes=j,i;case N:return Ki(u.children,b,j,l);case _:F=8,b|=24;break;case k:return i=Aa(12,u,l,b|2),i.elementType=k,i.lanes=j,i;case W:return i=Aa(13,u,l,b),i.elementType=W,i.lanes=j,i;case le:return i=Aa(19,u,l,b),i.elementType=le,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case L:F=10;break e;case D:F=9;break e;case $:F=11;break e;case ee:F=14;break e;case U:F=16,m=null;break e}F=29,u=Error(a(130,i===null?"null":typeof i,"")),m=null}return l=Aa(F,u,l,b),l.elementType=i,l.type=m,l.lanes=j,l}function Ki(i,l,u,m){return i=Aa(7,i,m,l),i.lanes=u,i}function wu(i,l,u){return i=Aa(6,i,null,l),i.lanes=u,i}function xd(i,l,u){return l=Aa(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var zo=[],Zi=0,mc=null,Nu=0,Pr=[],br=0,Al=null,Ji=1,Qi="";function Cl(i,l){zo[Zi++]=Nu,zo[Zi++]=mc,mc=i,Nu=l}function Fm(i,l,u){Pr[br++]=Ji,Pr[br++]=Qi,Pr[br++]=Al,Al=i;var m=Ji;i=Qi;var b=32-fe(m)-1;m&=~(1<<b),u+=1;var j=32-fe(l)+b;if(30<j){var F=b-b%5;j=(m&(1<<F)-1).toString(32),m>>=F,b-=F,Ji=1<<32-fe(l)+b|u<<b|m,Qi=j+i}else Ji=1<<j|u<<b|m,Qi=i}function bd(i){i.return!==null&&(Cl(i,1),Fm(i,1,0))}function yd(i){for(;i===mc;)mc=zo[--Zi],zo[Zi]=null,Nu=zo[--Zi],zo[Zi]=null;for(;i===Al;)Al=Pr[--br],Pr[br]=null,Qi=Pr[--br],Pr[br]=null,Ji=Pr[--br],Pr[br]=null}var Xn=null,An=null,Is=!1,Io=null,Si=!1,qh=Error(a(519));function kl(i){var l=Error(a(418,""));throw pc(Cs(l,i)),qh}function Bm(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[vs]=i,l[cs]=m,u){case"dialog":Ms("cancel",l),Ms("close",l);break;case"iframe":case"object":case"embed":Ms("load",l);break;case"video":case"audio":for(u=0;u<mf.length;u++)Ms(mf[u],l);break;case"source":Ms("error",l);break;case"img":case"image":case"link":Ms("error",l),Ms("load",l);break;case"details":Ms("toggle",l);break;case"input":Ms("invalid",l),Wr(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),$a(l);break;case"select":Ms("invalid",l);break;case"textarea":Ms("invalid",l),yo(l,m.value,m.defaultValue,m.children),$a(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||Nv(l.textContent,u)?(m.popover!=null&&(Ms("beforetoggle",l),Ms("toggle",l)),m.onScroll!=null&&Ms("scroll",l),m.onScrollEnd!=null&&Ms("scrollend",l),m.onClick!=null&&(l.onclick=vp),l=!0):l=!1,l||kl(i)}function eo(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Xn=Xn.return}}function Fa(i){if(i!==Xn)return!1;if(!Is)return eo(i),Is=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||wx(i.type,i.memoizedProps)),u=!u),u&&An&&kl(i),eo(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(l===0){An=lo(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;i=i.nextSibling}An=null}}else l===27?(l=An,Tc(i.type)?(i=_x,_x=null,An=i):An=l):An=Xn?lo(i.stateNode.nextSibling):null;return!0}function yr(){An=Xn=null,Is=!1}function zm(){var i=Io;return i!==null&&(Fr===null?Fr=i:Fr.push.apply(Fr,i),Io=null),i}function pc(i){Io===null?Io=[i]:Io.push(i)}var _i=me(null),fa=null,to=null;function qo(i,l,u){T(_i,l._currentValue),l._currentValue=u}function Ai(i){i._currentValue=_i.current,M(_i)}function ju(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function Su(i,l,u,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var j=b.dependencies;if(j!==null){var F=b.child;j=j.firstContext;e:for(;j!==null;){var ne=j;j=b;for(var ye=0;ye<l.length;ye++)if(ne.context===l[ye]){j.lanes|=u,ne=j.alternate,ne!==null&&(ne.lanes|=u),ju(j.return,u,i),m||(F=null);break e}j=ne.next}}else if(b.tag===18){if(F=b.return,F===null)throw Error(a(341));F.lanes|=u,j=F.alternate,j!==null&&(j.lanes|=u),ju(F,u,i),F=null}else F=b.child;if(F!==null)F.return=b;else for(F=b;F!==null;){if(F===i){F=null;break}if(b=F.sibling,b!==null){b.return=F.return,F=b;break}F=F.return}b=F}}function gc(i,l,u,m){i=null;for(var b=l,j=!1;b!==null;){if(!j){if((b.flags&524288)!==0)j=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var F=b.alternate;if(F===null)throw Error(a(387));if(F=F.memoizedProps,F!==null){var ne=b.type;ua(b.pendingProps.value,F.value)||(i!==null?i.push(ne):i=[ne])}}else if(b===G.current){if(F=b.alternate,F===null)throw Error(a(387));F.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(vf):i=[vf])}b=b.return}i!==null&&Su(l,i,u,m),l.flags|=262144}function _u(i){for(i=i.firstContext;i!==null;){if(!ua(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ci(i){fa=i,to=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kn(i){return Au(fa,i)}function Uo(i,l){return fa===null&&Ci(i),Au(i,l)}function Au(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},to===null){if(i===null)throw Error(a(308));to=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else to=to.next=l;return u}var Eg=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},Im=t.unstable_scheduleCallback,Lg=t.unstable_NormalPriority,Zn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new Eg,data:new Map,refCount:0}}function vd(i){i.refCount--,i.refCount===0&&Im(Lg,function(){i.controller.abort()})}var wd=null,Vh=0,Dl=0,so=null;function Tg(i,l){if(wd===null){var u=wd=[];Vh=0,Dl=hx(),so={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Vh++,l.then(qm,qm),l}function qm(){if(--Vh===0&&wd!==null){so!==null&&(so.status="fulfilled");var i=wd;wd=null,Dl=0,so=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function Um(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),m}var g=z.S;z.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Tg(i,l),g!==null&&g(i,l)};var w=me(null);function A(){var i=w.current;return i!==null?i:pn.pooledCache}function E(i,l){l===null?T(w,w.current):T(w,l.pool)}function V(){var i=A();return i===null?null:{parent:Zn._currentValue,pool:i}}var K=Error(a(460)),Z=Error(a(474)),te=Error(a(542)),ae={then:function(){}};function he(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _e(){}function Ie(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(_e,_e),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ot(i),i;default:if(typeof l.status=="string")l.then(_e,_e);else{if(i=pn,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ot(i),i}throw Be=l,K}}var Be=null;function Le(){if(Be===null)throw Error(a(459));var i=Be;return Be=null,i}function ot(i){if(i===K||i===te)throw Error(a(483))}var Ke=!1;function Ae(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function De(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function tt(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function dt(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Qs&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=Sl(i),vu(i,null,u),l}return Fo(i,m,l,u),Sl(i)}function at(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,jt(i,u)}}function Tt(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var b=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var F={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};j===null?b=j=F:j=j.next=F,u=u.next}while(u!==null);j===null?b=j=l:j=j.next=l}else b=j=l;u={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:j,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var At=!1;function $t(){if(At){var i=so;if(i!==null)throw i}}function Ct(i,l,u,m){At=!1;var b=i.updateQueue;Ke=!1;var j=b.firstBaseUpdate,F=b.lastBaseUpdate,ne=b.shared.pending;if(ne!==null){b.shared.pending=null;var ye=ne,Ue=ye.next;ye.next=null,F===null?j=Ue:F.next=Ue,F=ye;var st=i.alternate;st!==null&&(st=st.updateQueue,ne=st.lastBaseUpdate,ne!==F&&(ne===null?st.firstBaseUpdate=Ue:ne.next=Ue,st.lastBaseUpdate=ye))}if(j!==null){var ft=b.baseState;F=0,st=Ue=ye=null,ne=j;do{var $e=ne.lane&-536870913,We=$e!==ne.lane;if(We?(Bs&$e)===$e:(m&$e)===$e){$e!==0&&$e===Dl&&(At=!0),st!==null&&(st=st.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var os=i,Qt=ne;$e=l;var cn=u;switch(Qt.tag){case 1:if(os=Qt.payload,typeof os=="function"){ft=os.call(cn,ft,$e);break e}ft=os;break e;case 3:os.flags=os.flags&-65537|128;case 0:if(os=Qt.payload,$e=typeof os=="function"?os.call(cn,ft,$e):os,$e==null)break e;ft=p({},ft,$e);break e;case 2:Ke=!0}}$e=ne.callback,$e!==null&&(i.flags|=64,We&&(i.flags|=8192),We=b.callbacks,We===null?b.callbacks=[$e]:We.push($e))}else We={lane:$e,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},st===null?(Ue=st=We,ye=ft):st=st.next=We,F|=$e;if(ne=ne.next,ne===null){if(ne=b.shared.pending,ne===null)break;We=ne,ne=We.next,We.next=null,b.lastBaseUpdate=We,b.shared.pending=null}}while(!0);st===null&&(ye=ft),b.baseState=ye,b.firstBaseUpdate=Ue,b.lastBaseUpdate=st,j===null&&(b.shared.lanes=0),kc|=F,i.lanes=F,i.memoizedState=ft}}function Rs(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function Us(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Rs(u[i],l)}var _s=me(null),ws=me(0);function Xs(i,l){i=zl,T(ws,i),T(_s,l),zl=i|l.baseLanes}function Vs(){T(ws,zl),T(_s,_s.current)}function fs(){zl=ws.current,M(_s),M(ws)}var Js=0,Xt=null,as=null,Ps=null,Fs=!1,ma=!1,Jn=!1,Pn=0,On=0,qn=null,Or=0;function Hs(){throw Error(a(321))}function Un(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!ua(i[u],l[u]))return!1;return!0}function ni(i,l,u,m,b,j){return Js=j,Xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=i===null||i.memoizedState===null?s1:n1,Jn=!1,j=u(m,b),Jn=!1,ma&&(j=El(l,u,m,b)),Vo(i),j}function Vo(i){z.H=ep;var l=as!==null&&as.next!==null;if(Js=0,Ps=as=Xt=null,Fs=!1,On=0,qn=null,l)throw Error(a(300));i===null||Ca||(i=i.dependencies,i!==null&&_u(i)&&(Ca=!0))}function El(i,l,u,m){Xt=i;var b=0;do{if(ma&&(qn=null),On=0,ma=!1,25<=b)throw Error(a(301));if(b+=1,Ps=as=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}z.H=p_,j=l(u,m)}while(ma);return j}function Ho(){var i=z.H,l=i.useState()[0];return l=typeof l.then=="function"?$o(l):l,i=i.useState()[0],(as!==null?as.memoizedState:null)!==i&&(Xt.flags|=1024),l}function mn(){var i=Pn!==0;return Pn=0,i}function Nd(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Cu(i){if(Fs){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Fs=!1}Js=0,Ps=as=Xt=null,ma=!1,On=Pn=0,qn=null}function Ba(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?Xt.memoizedState=Ps=i:Ps=Ps.next=i,Ps}function vn(){if(as===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=as.next;var l=Ps===null?Xt.memoizedState:Ps.next;if(l!==null)Ps=l,as=i;else{if(i===null)throw Xt.alternate===null?Error(a(467)):Error(a(310));as=i,i={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},Ps===null?Xt.memoizedState=Ps=i:Ps=Ps.next=i}return Ps}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(i){var l=On;return On+=1,qn===null&&(qn=[]),i=Ie(qn,i,l),l=Xt,(Ps===null?l.memoizedState:Ps.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?s1:n1),i}function Xa(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return $o(i);if(i.$$typeof===L)return Kn(i)}throw Error(a(438,String(i)))}function Yo(i){var l=null,u=Xt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Xt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Ll(),Xt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=re;return l.index++,u}function Ka(i,l){return typeof l=="function"?l(i):l}function jd(i){var l=vn();return xc(l,as,i)}function xc(i,l,u){var m=i.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=u;var b=i.baseQueue,j=m.pending;if(j!==null){if(b!==null){var F=b.next;b.next=j.next,j.next=F}l.baseQueue=b=j,m.pending=null}if(j=i.baseState,b===null)i.memoizedState=j;else{l=b.next;var ne=F=null,ye=null,Ue=l,st=!1;do{var ft=Ue.lane&-536870913;if(ft!==Ue.lane?(Bs&ft)===ft:(Js&ft)===ft){var $e=Ue.revertLane;if($e===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),ft===Dl&&(st=!0);else if((Js&$e)===$e){Ue=Ue.next,$e===Dl&&(st=!0);continue}else ft={lane:0,revertLane:Ue.revertLane,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ye===null?(ne=ye=ft,F=j):ye=ye.next=ft,Xt.lanes|=$e,kc|=$e;ft=Ue.action,Jn&&u(j,ft),j=Ue.hasEagerState?Ue.eagerState:u(j,ft)}else $e={lane:ft,revertLane:Ue.revertLane,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ye===null?(ne=ye=$e,F=j):ye=ye.next=$e,Xt.lanes|=ft,kc|=ft;Ue=Ue.next}while(Ue!==null&&Ue!==l);if(ye===null?F=j:ye.next=ne,!ua(j,i.memoizedState)&&(Ca=!0,st&&(u=so,u!==null)))throw u;i.memoizedState=j,i.baseState=F,i.baseQueue=ye,m.lastRenderedState=j}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function ku(i){var l=vn(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var m=u.dispatch,b=u.pending,j=l.memoizedState;if(b!==null){u.pending=null;var F=b=b.next;do j=i(j,F.action),F=F.next;while(F!==b);ua(j,l.memoizedState)||(Ca=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),u.lastRenderedState=j}return[j,m]}function Sd(i,l,u){var m=Xt,b=vn(),j=Is;if(j){if(u===void 0)throw Error(a(407));u=u()}else u=l();var F=!ua((as||b).memoizedState,u);F&&(b.memoizedState=u,Ca=!0),b=b.queue;var ne=bc.bind(null,m,b,i);if(wc(2048,8,ne,[i]),b.getSnapshot!==l||F||Ps!==null&&Ps.memoizedState.tag&1){if(m.flags|=2048,ao(9,kd(),_d.bind(null,m,b,u,l),null),pn===null)throw Error(a(349));j||(Js&124)!==0||Du(m,l,u)}return u}function Du(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Xt.updateQueue,l===null?(l=Ll(),Xt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function _d(i,l,u,m){l.value=u,l.getSnapshot=m,Vm(l)&&Hm(i)}function bc(i,l,u){return u(function(){Vm(l)&&Hm(i)})}function Vm(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!ua(i,u)}catch{return!0}}function Hm(i){var l=Xi(i,2);l!==null&&ci(l,i,2)}function Ad(i){var l=Ba();if(typeof i=="function"){var u=i;if(i=u(),Jn){Dt(!0);try{u()}finally{Dt(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:i},l}function no(i,l,u,m){return i.baseState=u,xc(i,as,typeof m=="function"?m:Ka)}function Mg(i,l,u,m,b){if(Qm(i))throw Error(a(485));if(i=l.action,i!==null){var j={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){j.listeners.push(F)}};z.T!==null?u(!0):j.isTransition=!1,m(j),u=l.pending,u===null?(j.next=l.pending=j,$m(l,j)):(j.next=u.next,l.pending=u.next=j)}}function $m(i,l){var u=l.action,m=l.payload,b=i.state;if(l.isTransition){var j=z.T,F={};z.T=F;try{var ne=u(b,m),ye=z.S;ye!==null&&ye(F,ne),Ym(i,l,ne)}catch(Ue){yc(i,l,Ue)}finally{z.T=j}}else try{j=u(b,m),Ym(i,l,j)}catch(Ue){yc(i,l,Ue)}}function Ym(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){Hh(i,l,m)},function(m){return yc(i,l,m)}):Hh(i,l,u)}function Hh(i,l,u){l.status="fulfilled",l.value=u,$h(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,$m(i,u)))}function yc(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,$h(l),l=l.next;while(l!==m)}i.action=null}function $h(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Yh(i,l){return l}function Cd(i,l){if(Is){var u=pn.formState;if(u!==null){e:{var m=Xt;if(Is){if(An){t:{for(var b=An,j=Si;b.nodeType!==8;){if(!j){b=null;break t}if(b=lo(b.nextSibling),b===null){b=null;break t}}j=b.data,b=j==="F!"||j==="F"?b:null}if(b){An=lo(b.nextSibling),m=b.data==="F!";break e}}kl(m)}m=!1}m&&(l=u[0])}}return u=Ba(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:l},u.queue=m,u=Q2.bind(null,Xt,m),m.dispatch=u,m=Ad(!1),j=Pg.bind(null,Xt,!1,m.queue),m=Ba(),b={state:l,dispatch:null,action:i,pending:null},m.queue=b,u=Mg.bind(null,Xt,b,j,u),b.dispatch=u,m.memoizedState=i,[l,u,!1]}function Eu(i){var l=vn();return vc(l,as,i)}function vc(i,l,u){if(l=xc(i,l,Yh)[0],i=jd(Ka)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=$o(l)}catch(F){throw F===K?te:F}else m=l;l=vn();var b=l.queue,j=b.dispatch;return u!==l.memoizedState&&(Xt.flags|=2048,ao(9,kd(),Wm.bind(null,b,u),null)),[m,j,i]}function Wm(i,l){i.action=l}function Gm(i){var l=vn(),u=as;if(u!==null)return vc(l,u,i);vn(),l=l.memoizedState,u=vn();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function ao(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=Xt.updateQueue,l===null&&(l=Ll(),Xt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function kd(){return{destroy:void 0,resource:void 0}}function Lu(){return vn().memoizedState}function ai(i,l,u,m){var b=Ba();m=m===void 0?null:m,Xt.flags|=i,b.memoizedState=ao(1|l,kd(),u,m)}function wc(i,l,u,m){var b=vn();m=m===void 0?null:m;var j=b.memoizedState.inst;as!==null&&m!==null&&Un(m,as.memoizedState.deps)?b.memoizedState=ao(l,j,u,m):(Xt.flags|=i,b.memoizedState=ao(1|l,j,u,m))}function Wh(i,l){ai(8390656,8,i,l)}function Xm(i,l){wc(2048,8,i,l)}function Gh(i,l){return wc(4,2,i,l)}function Tl(i,l){return wc(4,4,i,l)}function Km(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Xh(i,l,u){u=u!=null?u.concat([i]):null,wc(4,4,Km.bind(null,l,i),u)}function Kh(){}function Zh(i,l){var u=vn();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&Un(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function Zm(i,l){var u=vn();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&Un(l,m[1]))return m[0];if(m=i(),Jn){Dt(!0);try{i()}finally{Dt(!1)}}return u.memoizedState=[m,l],m}function Ml(i,l,u){return u===void 0||(Js&1073741824)!==0?i.memoizedState=l:(i.memoizedState=u,i=X1(),Xt.lanes|=i,kc|=i,u)}function Tu(i,l,u,m){return ua(u,l)?u:_s.current!==null?(i=Ml(i,u,m),ua(i,l)||(Ca=!0),i):(Js&42)===0?(Ca=!0,i.memoizedState=u):(i=X1(),Xt.lanes|=i,kc|=i,l)}function Dd(i,l,u,m,b){var j=J.p;J.p=j!==0&&8>j?j:8;var F=z.T,ne={};z.T=ne,Pg(i,!1,l,u);try{var ye=b(),Ue=z.S;if(Ue!==null&&Ue(ne,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var st=Um(ye,m);tf(i,l,st,li(i))}else tf(i,l,m,li(i))}catch(ft){tf(i,l,{then:function(){},status:"rejected",reason:ft},li())}finally{J.p=j,z.T=F}}function ro(){}function ki(i,l,u,m){if(i.tag!==5)throw Error(a(476));var b=io(i).queue;Dd(i,b,l,Q,u===null?ro:function(){return Ed(i),u(m)})}function io(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:Q},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Ed(i){var l=io(i).next.queue;tf(i,l,{},li())}function Ld(){return Kn(vf)}function Jh(){return vn().memoizedState}function Jm(){return vn().memoizedState}function Qh(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=li();i=tt(u);var m=dt(l,i,u);m!==null&&(ci(m,l,u),at(m,l,u)),l={cache:Uh()},i.payload=l;return}l=l.return}}function ef(i,l,u){var m=li();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Qm(i)?e1(l,u):(u=Bo(i,l,u,m),u!==null&&(ci(u,i,m),t1(u,l,m)))}function Q2(i,l,u){var m=li();tf(i,l,u,m)}function tf(i,l,u,m){var b={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Qm(i))e1(l,b);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var F=l.lastRenderedState,ne=j(F,u);if(b.hasEagerState=!0,b.eagerState=ne,ua(ne,F))return Fo(i,l,b,0),pn===null&&Tr(),!1}catch{}finally{}if(u=Bo(i,l,b,m),u!==null)return ci(u,i,m),t1(u,l,m),!0}return!1}function Pg(i,l,u,m){if(m={lane:2,revertLane:hx(),action:m,hasEagerState:!1,eagerState:null,next:null},Qm(i)){if(l)throw Error(a(479))}else l=Bo(i,u,m,2),l!==null&&ci(l,i,2)}function Qm(i){var l=i.alternate;return i===Xt||l!==null&&l===Xt}function e1(i,l){ma=Fs=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function t1(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,jt(i,u)}}var ep={readContext:Kn,use:Xa,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useLayoutEffect:Hs,useInsertionEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useSyncExternalStore:Hs,useId:Hs,useHostTransitionStatus:Hs,useFormState:Hs,useActionState:Hs,useOptimistic:Hs,useMemoCache:Hs,useCacheRefresh:Hs},s1={readContext:Kn,use:Xa,useCallback:function(i,l){return Ba().memoizedState=[i,l===void 0?null:l],i},useContext:Kn,useEffect:Wh,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,ai(4194308,4,Km.bind(null,l,i),u)},useLayoutEffect:function(i,l){return ai(4194308,4,i,l)},useInsertionEffect:function(i,l){ai(4,2,i,l)},useMemo:function(i,l){var u=Ba();l=l===void 0?null:l;var m=i();if(Jn){Dt(!0);try{i()}finally{Dt(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=Ba();if(u!==void 0){var b=u(l);if(Jn){Dt(!0);try{u(l)}finally{Dt(!1)}}}else b=l;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=ef.bind(null,Xt,i),[m.memoizedState,i]},useRef:function(i){var l=Ba();return i={current:i},l.memoizedState=i},useState:function(i){i=Ad(i);var l=i.queue,u=Q2.bind(null,Xt,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Kh,useDeferredValue:function(i,l){var u=Ba();return Ml(u,i,l)},useTransition:function(){var i=Ad(!1);return i=Dd.bind(null,Xt,i.queue,!0,!1),Ba().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=Xt,b=Ba();if(Is){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),pn===null)throw Error(a(349));(Bs&124)!==0||Du(m,l,u)}b.memoizedState=u;var j={value:u,getSnapshot:l};return b.queue=j,Wh(bc.bind(null,m,j,i),[i]),m.flags|=2048,ao(9,kd(),_d.bind(null,m,j,u,l),null),u},useId:function(){var i=Ba(),l=pn.identifierPrefix;if(Is){var u=Qi,m=Ji;u=(m&~(1<<32-fe(m)-1)).toString(32)+u,l=""+l+"R"+u,u=Pn++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=Or++,l=""+l+"r"+u.toString(32)+"";return i.memoizedState=l},useHostTransitionStatus:Ld,useFormState:Cd,useActionState:Cd,useOptimistic:function(i){var l=Ba();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Pg.bind(null,Xt,!0,u),u.dispatch=l,[i,l]},useMemoCache:Yo,useCacheRefresh:function(){return Ba().memoizedState=Qh.bind(null,Xt)}},n1={readContext:Kn,use:Xa,useCallback:Zh,useContext:Kn,useEffect:Xm,useImperativeHandle:Xh,useInsertionEffect:Gh,useLayoutEffect:Tl,useMemo:Zm,useReducer:jd,useRef:Lu,useState:function(){return jd(Ka)},useDebugValue:Kh,useDeferredValue:function(i,l){var u=vn();return Tu(u,as.memoizedState,i,l)},useTransition:function(){var i=jd(Ka)[0],l=vn().memoizedState;return[typeof i=="boolean"?i:$o(i),l]},useSyncExternalStore:Sd,useId:Jh,useHostTransitionStatus:Ld,useFormState:Eu,useActionState:Eu,useOptimistic:function(i,l){var u=vn();return no(u,as,i,l)},useMemoCache:Yo,useCacheRefresh:Jm},p_={readContext:Kn,use:Xa,useCallback:Zh,useContext:Kn,useEffect:Xm,useImperativeHandle:Xh,useInsertionEffect:Gh,useLayoutEffect:Tl,useMemo:Zm,useReducer:ku,useRef:Lu,useState:function(){return ku(Ka)},useDebugValue:Kh,useDeferredValue:function(i,l){var u=vn();return as===null?Ml(u,i,l):Tu(u,as.memoizedState,i,l)},useTransition:function(){var i=ku(Ka)[0],l=vn().memoizedState;return[typeof i=="boolean"?i:$o(i),l]},useSyncExternalStore:Sd,useId:Jh,useHostTransitionStatus:Ld,useFormState:Gm,useActionState:Gm,useOptimistic:function(i,l){var u=vn();return as!==null?no(u,as,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:Jm},Mu=null,sf=0;function tp(i){var l=sf;return sf+=1,Mu===null&&(Mu=[]),Ie(Mu,i,l)}function nf(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function sp(i,l){throw l.$$typeof===x?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function a1(i){var l=i._init;return l(i._payload)}function r1(i){function l(Me,Ce){if(i){var ze=Me.deletions;ze===null?(Me.deletions=[Ce],Me.flags|=16):ze.push(Ce)}}function u(Me,Ce){if(!i)return null;for(;Ce!==null;)l(Me,Ce),Ce=Ce.sibling;return null}function m(Me){for(var Ce=new Map;Me!==null;)Me.key!==null?Ce.set(Me.key,Me):Ce.set(Me.index,Me),Me=Me.sibling;return Ce}function b(Me,Ce){return Me=ji(Me,Ce),Me.index=0,Me.sibling=null,Me}function j(Me,Ce,ze){return Me.index=ze,i?(ze=Me.alternate,ze!==null?(ze=ze.index,ze<Ce?(Me.flags|=67108866,Ce):ze):(Me.flags|=67108866,Ce)):(Me.flags|=1048576,Ce)}function F(Me){return i&&Me.alternate===null&&(Me.flags|=67108866),Me}function ne(Me,Ce,ze,it){return Ce===null||Ce.tag!==6?(Ce=wu(ze,Me.mode,it),Ce.return=Me,Ce):(Ce=b(Ce,ze),Ce.return=Me,Ce)}function ye(Me,Ce,ze,it){var zt=ze.type;return zt===N?st(Me,Ce,ze.props.children,it,ze.key):Ce!==null&&(Ce.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===U&&a1(zt)===Ce.type)?(Ce=b(Ce,ze.props),nf(Ce,ze),Ce.return=Me,Ce):(Ce=_l(ze.type,ze.key,ze.props,null,Me.mode,it),nf(Ce,ze),Ce.return=Me,Ce)}function Ue(Me,Ce,ze,it){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==ze.containerInfo||Ce.stateNode.implementation!==ze.implementation?(Ce=xd(ze,Me.mode,it),Ce.return=Me,Ce):(Ce=b(Ce,ze.children||[]),Ce.return=Me,Ce)}function st(Me,Ce,ze,it,zt){return Ce===null||Ce.tag!==7?(Ce=Ki(ze,Me.mode,it,zt),Ce.return=Me,Ce):(Ce=b(Ce,ze),Ce.return=Me,Ce)}function ft(Me,Ce,ze){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=wu(""+Ce,Me.mode,ze),Ce.return=Me,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case v:return ze=_l(Ce.type,Ce.key,Ce.props,null,Me.mode,ze),nf(ze,Ce),ze.return=Me,ze;case y:return Ce=xd(Ce,Me.mode,ze),Ce.return=Me,Ce;case U:var it=Ce._init;return Ce=it(Ce._payload),ft(Me,Ce,ze)}if(se(Ce)||R(Ce))return Ce=Ki(Ce,Me.mode,ze,null),Ce.return=Me,Ce;if(typeof Ce.then=="function")return ft(Me,tp(Ce),ze);if(Ce.$$typeof===L)return ft(Me,Uo(Me,Ce),ze);sp(Me,Ce)}return null}function $e(Me,Ce,ze,it){var zt=Ce!==null?Ce.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return zt!==null?null:ne(Me,Ce,""+ze,it);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case v:return ze.key===zt?ye(Me,Ce,ze,it):null;case y:return ze.key===zt?Ue(Me,Ce,ze,it):null;case U:return zt=ze._init,ze=zt(ze._payload),$e(Me,Ce,ze,it)}if(se(ze)||R(ze))return zt!==null?null:st(Me,Ce,ze,it,null);if(typeof ze.then=="function")return $e(Me,Ce,tp(ze),it);if(ze.$$typeof===L)return $e(Me,Ce,Uo(Me,ze),it);sp(Me,ze)}return null}function We(Me,Ce,ze,it,zt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Me=Me.get(ze)||null,ne(Ce,Me,""+it,zt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case v:return Me=Me.get(it.key===null?ze:it.key)||null,ye(Ce,Me,it,zt);case y:return Me=Me.get(it.key===null?ze:it.key)||null,Ue(Ce,Me,it,zt);case U:var Es=it._init;return it=Es(it._payload),We(Me,Ce,ze,it,zt)}if(se(it)||R(it))return Me=Me.get(ze)||null,st(Ce,Me,it,zt,null);if(typeof it.then=="function")return We(Me,Ce,ze,tp(it),zt);if(it.$$typeof===L)return We(Me,Ce,ze,Uo(Ce,it),zt);sp(Ce,it)}return null}function os(Me,Ce,ze,it){for(var zt=null,Es=null,Yt=Ce,es=Ce=0,Da=null;Yt!==null&&es<ze.length;es++){Yt.index>es?(Da=Yt,Yt=null):Da=Yt.sibling;var $s=$e(Me,Yt,ze[es],it);if($s===null){Yt===null&&(Yt=Da);break}i&&Yt&&$s.alternate===null&&l(Me,Yt),Ce=j($s,Ce,es),Es===null?zt=$s:Es.sibling=$s,Es=$s,Yt=Da}if(es===ze.length)return u(Me,Yt),Is&&Cl(Me,es),zt;if(Yt===null){for(;es<ze.length;es++)Yt=ft(Me,ze[es],it),Yt!==null&&(Ce=j(Yt,Ce,es),Es===null?zt=Yt:Es.sibling=Yt,Es=Yt);return Is&&Cl(Me,es),zt}for(Yt=m(Yt);es<ze.length;es++)Da=We(Yt,Me,es,ze[es],it),Da!==null&&(i&&Da.alternate!==null&&Yt.delete(Da.key===null?es:Da.key),Ce=j(Da,Ce,es),Es===null?zt=Da:Es.sibling=Da,Es=Da);return i&&Yt.forEach(function(Fc){return l(Me,Fc)}),Is&&Cl(Me,es),zt}function Qt(Me,Ce,ze,it){if(ze==null)throw Error(a(151));for(var zt=null,Es=null,Yt=Ce,es=Ce=0,Da=null,$s=ze.next();Yt!==null&&!$s.done;es++,$s=ze.next()){Yt.index>es?(Da=Yt,Yt=null):Da=Yt.sibling;var Fc=$e(Me,Yt,$s.value,it);if(Fc===null){Yt===null&&(Yt=Da);break}i&&Yt&&Fc.alternate===null&&l(Me,Yt),Ce=j(Fc,Ce,es),Es===null?zt=Fc:Es.sibling=Fc,Es=Fc,Yt=Da}if($s.done)return u(Me,Yt),Is&&Cl(Me,es),zt;if(Yt===null){for(;!$s.done;es++,$s=ze.next())$s=ft(Me,$s.value,it),$s!==null&&(Ce=j($s,Ce,es),Es===null?zt=$s:Es.sibling=$s,Es=$s);return Is&&Cl(Me,es),zt}for(Yt=m(Yt);!$s.done;es++,$s=ze.next())$s=We(Yt,Me,es,$s.value,it),$s!==null&&(i&&$s.alternate!==null&&Yt.delete($s.key===null?es:$s.key),Ce=j($s,Ce,es),Es===null?zt=$s:Es.sibling=$s,Es=$s);return i&&Yt.forEach(function(gA){return l(Me,gA)}),Is&&Cl(Me,es),zt}function cn(Me,Ce,ze,it){if(typeof ze=="object"&&ze!==null&&ze.type===N&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case v:e:{for(var zt=ze.key;Ce!==null;){if(Ce.key===zt){if(zt=ze.type,zt===N){if(Ce.tag===7){u(Me,Ce.sibling),it=b(Ce,ze.props.children),it.return=Me,Me=it;break e}}else if(Ce.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===U&&a1(zt)===Ce.type){u(Me,Ce.sibling),it=b(Ce,ze.props),nf(it,ze),it.return=Me,Me=it;break e}u(Me,Ce);break}else l(Me,Ce);Ce=Ce.sibling}ze.type===N?(it=Ki(ze.props.children,Me.mode,it,ze.key),it.return=Me,Me=it):(it=_l(ze.type,ze.key,ze.props,null,Me.mode,it),nf(it,ze),it.return=Me,Me=it)}return F(Me);case y:e:{for(zt=ze.key;Ce!==null;){if(Ce.key===zt)if(Ce.tag===4&&Ce.stateNode.containerInfo===ze.containerInfo&&Ce.stateNode.implementation===ze.implementation){u(Me,Ce.sibling),it=b(Ce,ze.children||[]),it.return=Me,Me=it;break e}else{u(Me,Ce);break}else l(Me,Ce);Ce=Ce.sibling}it=xd(ze,Me.mode,it),it.return=Me,Me=it}return F(Me);case U:return zt=ze._init,ze=zt(ze._payload),cn(Me,Ce,ze,it)}if(se(ze))return os(Me,Ce,ze,it);if(R(ze)){if(zt=R(ze),typeof zt!="function")throw Error(a(150));return ze=zt.call(ze),Qt(Me,Ce,ze,it)}if(typeof ze.then=="function")return cn(Me,Ce,tp(ze),it);if(ze.$$typeof===L)return cn(Me,Ce,Uo(Me,ze),it);sp(Me,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Ce!==null&&Ce.tag===6?(u(Me,Ce.sibling),it=b(Ce,ze),it.return=Me,Me=it):(u(Me,Ce),it=wu(ze,Me.mode,it),it.return=Me,Me=it),F(Me)):u(Me,Ce)}return function(Me,Ce,ze,it){try{sf=0;var zt=cn(Me,Ce,ze,it);return Mu=null,zt}catch(Yt){if(Yt===K||Yt===te)throw Yt;var Es=Aa(29,Yt,null,Me.mode);return Es.lanes=it,Es.return=Me,Es}finally{}}}var Pu=r1(!0),i1=r1(!1),Di=me(null),Wo=null;function Nc(i){var l=i.alternate;T(va,va.current&1),T(Di,i),Wo===null&&(l===null||_s.current!==null||l.memoizedState!==null)&&(Wo=i)}function o1(i){if(i.tag===22){if(T(va,va.current),T(Di,i),Wo===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Wo=i)}}else jc()}function jc(){T(va,va.current),T(Di,Di.current)}function Pl(i){M(Di),Wo===i&&(Wo=null),M(va)}var va=me(0);function np(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Sx(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Og(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Rg={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=li(),b=tt(m);b.payload=l,u!=null&&(b.callback=u),l=dt(i,b,m),l!==null&&(ci(l,i,m),at(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=li(),b=tt(m);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=dt(i,b,m),l!==null&&(ci(l,i,m),at(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=li(),m=tt(u);m.tag=2,l!=null&&(m.callback=l),l=dt(i,m,u),l!==null&&(ci(l,i,u),at(l,i,u))}};function l1(i,l,u,m,b,j,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,j,F):l.prototype&&l.prototype.isPureReactComponent?!Eo(u,m)||!Eo(b,j):!0}function c1(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&Rg.enqueueReplaceState(l,l.state,null)}function Td(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}var ap=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function d1(i){ap(i)}function u1(i){console.error(i)}function h1(i){ap(i)}function rp(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function f1(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Fg(i,l,u){return u=tt(u),u.tag=3,u.payload={element:null},u.callback=function(){rp(i,l)},u}function m1(i){return i=tt(i),i.tag=3,i}function p1(i,l,u,m){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var j=m.value;i.payload=function(){return b(j)},i.callback=function(){f1(l,u,m)}}var F=u.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(i.callback=function(){f1(l,u,m),typeof b!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var ne=m.stack;this.componentDidCatch(m.value,{componentStack:ne!==null?ne:""})})}function g_(i,l,u,m,b){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&gc(l,u,b,!0),u=Di.current,u!==null){switch(u.tag){case 13:return Wo===null?ox():u.alternate===null&&Vn===0&&(Vn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,m===ae?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),cx(i,m,b)),!1;case 22:return u.flags|=65536,m===ae?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),cx(i,m,b)),!1}throw Error(a(435,u.tag))}return cx(i,m,b),ox(),!1}if(Is)return l=Di.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==qh&&(i=Error(a(422),{cause:m}),pc(Cs(i,u)))):(m!==qh&&(l=Error(a(423),{cause:m}),pc(Cs(l,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=Cs(m,u),b=Fg(i.stateNode,m,b),Tt(i,b),Vn!==4&&(Vn=2)),!1;var j=Error(a(520),{cause:m});if(j=Cs(j,u),uf===null?uf=[j]:uf.push(j),Vn!==4&&(Vn=2),l===null)return!0;m=Cs(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Fg(u.stateNode,m,i),Tt(u,i),!1;case 1:if(l=u.type,j=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Dc===null||!Dc.has(j))))return u.flags|=65536,b&=-b,u.lanes|=b,b=m1(b),p1(b,i,u,m),Tt(u,b),!1}u=u.return}while(u!==null);return!1}var g1=Error(a(461)),Ca=!1;function za(i,l,u,m){l.child=i===null?i1(l,null,u,m):Pu(l,i.child,u,m)}function x1(i,l,u,m,b){u=u.render;var j=l.ref;if("ref"in m){var F={};for(var ne in m)ne!=="ref"&&(F[ne]=m[ne])}else F=m;return Ci(l),m=ni(i,l,u,F,j,b),ne=mn(),i!==null&&!Ca?(Nd(i,l,b),Ol(i,l,b)):(Is&&ne&&bd(l),l.flags|=1,za(i,l,m,b),l.child)}function b1(i,l,u,m,b){if(i===null){var j=u.type;return typeof j=="function"&&!fc(j)&&j.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=j,y1(i,l,j,m,b)):(i=_l(u.type,null,m,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(j=i.child,!$g(i,b)){var F=j.memoizedProps;if(u=u.compare,u=u!==null?u:Eo,u(F,m)&&i.ref===l.ref)return Ol(i,l,b)}return l.flags|=1,i=ji(j,m),i.ref=l.ref,i.return=l,l.child=i}function y1(i,l,u,m,b){if(i!==null){var j=i.memoizedProps;if(Eo(j,m)&&i.ref===l.ref)if(Ca=!1,l.pendingProps=m=j,$g(i,b))(i.flags&131072)!==0&&(Ca=!0);else return l.lanes=i.lanes,Ol(i,l,b)}return Bg(i,l,u,m,b)}function v1(i,l,u){var m=l.pendingProps,b=m.children,j=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=j!==null?j.baseLanes|u:u,i!==null){for(b=l.child=i.child,j=0;b!==null;)j=j|b.lanes|b.childLanes,b=b.sibling;l.childLanes=j&~m}else l.childLanes=0,l.child=null;return w1(i,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&E(l,j!==null?j.cachePool:null),j!==null?Xs(l,j):Vs(),o1(l);else return l.lanes=l.childLanes=536870912,w1(i,l,j!==null?j.baseLanes|u:u,u)}else j!==null?(E(l,j.cachePool),Xs(l,j),jc(),l.memoizedState=null):(i!==null&&E(l,null),Vs(),jc());return za(i,l,b,u),l.child}function w1(i,l,u,m){var b=A();return b=b===null?null:{parent:Zn._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&E(l,null),Vs(),o1(l),i!==null&&gc(i,l,m,!0),null}function ip(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function Bg(i,l,u,m,b){return Ci(l),u=ni(i,l,u,m,void 0,b),m=mn(),i!==null&&!Ca?(Nd(i,l,b),Ol(i,l,b)):(Is&&m&&bd(l),l.flags|=1,za(i,l,u,b),l.child)}function N1(i,l,u,m,b,j){return Ci(l),l.updateQueue=null,u=El(l,m,u,b),Vo(i),m=mn(),i!==null&&!Ca?(Nd(i,l,j),Ol(i,l,j)):(Is&&m&&bd(l),l.flags|=1,za(i,l,u,j),l.child)}function j1(i,l,u,m,b){if(Ci(l),l.stateNode===null){var j=ha,F=u.contextType;typeof F=="object"&&F!==null&&(j=Kn(F)),j=new u(m,j),l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Rg,l.stateNode=j,j._reactInternals=l,j=l.stateNode,j.props=m,j.state=l.memoizedState,j.refs={},Ae(l),F=u.contextType,j.context=typeof F=="object"&&F!==null?Kn(F):ha,j.state=l.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(Og(l,u,F,m),j.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(F=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),F!==j.state&&Rg.enqueueReplaceState(j,j.state,null),Ct(l,m,j,b),$t(),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){j=l.stateNode;var ne=l.memoizedProps,ye=Td(u,ne);j.props=ye;var Ue=j.context,st=u.contextType;F=ha,typeof st=="object"&&st!==null&&(F=Kn(st));var ft=u.getDerivedStateFromProps;st=typeof ft=="function"||typeof j.getSnapshotBeforeUpdate=="function",ne=l.pendingProps!==ne,st||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ne||Ue!==F)&&c1(l,j,m,F),Ke=!1;var $e=l.memoizedState;j.state=$e,Ct(l,m,j,b),$t(),Ue=l.memoizedState,ne||$e!==Ue||Ke?(typeof ft=="function"&&(Og(l,u,ft,m),Ue=l.memoizedState),(ye=Ke||l1(l,u,ye,m,$e,Ue,F))?(st||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Ue),j.props=m,j.state=Ue,j.context=F,m=ye):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{j=l.stateNode,De(i,l),F=l.memoizedProps,st=Td(u,F),j.props=st,ft=l.pendingProps,$e=j.context,Ue=u.contextType,ye=ha,typeof Ue=="object"&&Ue!==null&&(ye=Kn(Ue)),ne=u.getDerivedStateFromProps,(Ue=typeof ne=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(F!==ft||$e!==ye)&&c1(l,j,m,ye),Ke=!1,$e=l.memoizedState,j.state=$e,Ct(l,m,j,b),$t();var We=l.memoizedState;F!==ft||$e!==We||Ke||i!==null&&i.dependencies!==null&&_u(i.dependencies)?(typeof ne=="function"&&(Og(l,u,ne,m),We=l.memoizedState),(st=Ke||l1(l,u,st,m,$e,We,ye)||i!==null&&i.dependencies!==null&&_u(i.dependencies))?(Ue||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(m,We,ye),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(m,We,ye)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||F===i.memoizedProps&&$e===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&$e===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=We),j.props=m,j.state=We,j.context=ye,m=st):(typeof j.componentDidUpdate!="function"||F===i.memoizedProps&&$e===i.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||F===i.memoizedProps&&$e===i.memoizedState||(l.flags|=1024),m=!1)}return j=m,ip(i,l),m=(l.flags&128)!==0,j||m?(j=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:j.render(),l.flags|=1,i!==null&&m?(l.child=Pu(l,i.child,null,b),l.child=Pu(l,null,u,b)):za(i,l,u,b),l.memoizedState=j.state,i=l.child):i=Ol(i,l,b),i}function S1(i,l,u,m){return yr(),l.flags|=256,za(i,l,u,m),l.child}var zg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ig(i){return{baseLanes:i,cachePool:V()}}function qg(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=Ei),i}function _1(i,l,u){var m=l.pendingProps,b=!1,j=(l.flags&128)!==0,F;if((F=j)||(F=i!==null&&i.memoizedState===null?!1:(va.current&2)!==0),F&&(b=!0,l.flags&=-129),F=(l.flags&32)!==0,l.flags&=-33,i===null){if(Is){if(b?Nc(l):jc(),Is){var ne=An,ye;if(ye=ne){e:{for(ye=ne,ne=Si;ye.nodeType!==8;){if(!ne){ne=null;break e}if(ye=lo(ye.nextSibling),ye===null){ne=null;break e}}ne=ye}ne!==null?(l.memoizedState={dehydrated:ne,treeContext:Al!==null?{id:Ji,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},ye=Aa(18,null,null,0),ye.stateNode=ne,ye.return=l,l.child=ye,Xn=l,An=null,ye=!0):ye=!1}ye||kl(l)}if(ne=l.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return Sx(ne)?l.lanes=32:l.lanes=536870912,null;Pl(l)}return ne=m.children,m=m.fallback,b?(jc(),b=l.mode,ne=op({mode:"hidden",children:ne},b),m=Ki(m,b,u,null),ne.return=l,m.return=l,ne.sibling=m,l.child=ne,b=l.child,b.memoizedState=Ig(u),b.childLanes=qg(i,F,u),l.memoizedState=zg,m):(Nc(l),Ug(l,ne))}if(ye=i.memoizedState,ye!==null&&(ne=ye.dehydrated,ne!==null)){if(j)l.flags&256?(Nc(l),l.flags&=-257,l=Vg(i,l,u)):l.memoizedState!==null?(jc(),l.child=i.child,l.flags|=128,l=null):(jc(),b=m.fallback,ne=l.mode,m=op({mode:"visible",children:m.children},ne),b=Ki(b,ne,u,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,Pu(l,i.child,null,u),m=l.child,m.memoizedState=Ig(u),m.childLanes=qg(i,F,u),l.memoizedState=zg,l=b);else if(Nc(l),Sx(ne)){if(F=ne.nextSibling&&ne.nextSibling.dataset,F)var Ue=F.dgst;F=Ue,m=Error(a(419)),m.stack="",m.digest=F,pc({value:m,source:null,stack:null}),l=Vg(i,l,u)}else if(Ca||gc(i,l,u,!1),F=(u&i.childLanes)!==0,Ca||F){if(F=pn,F!==null&&(m=u&-u,m=(m&42)!==0?1:js(m),m=(m&(F.suspendedLanes|u))!==0?0:m,m!==0&&m!==ye.retryLane))throw ye.retryLane=m,Xi(i,m),ci(F,i,m),g1;ne.data==="$?"||ox(),l=Vg(i,l,u)}else ne.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=ye.treeContext,An=lo(ne.nextSibling),Xn=l,Is=!0,Io=null,Si=!1,i!==null&&(Pr[br++]=Ji,Pr[br++]=Qi,Pr[br++]=Al,Ji=i.id,Qi=i.overflow,Al=l),l=Ug(l,m.children),l.flags|=4096);return l}return b?(jc(),b=m.fallback,ne=l.mode,ye=i.child,Ue=ye.sibling,m=ji(ye,{mode:"hidden",children:m.children}),m.subtreeFlags=ye.subtreeFlags&65011712,Ue!==null?b=ji(Ue,b):(b=Ki(b,ne,u,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,ne=i.child.memoizedState,ne===null?ne=Ig(u):(ye=ne.cachePool,ye!==null?(Ue=Zn._currentValue,ye=ye.parent!==Ue?{parent:Ue,pool:Ue}:ye):ye=V(),ne={baseLanes:ne.baseLanes|u,cachePool:ye}),b.memoizedState=ne,b.childLanes=qg(i,F,u),l.memoizedState=zg,m):(Nc(l),u=i.child,i=u.sibling,u=ji(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(F=l.deletions,F===null?(l.deletions=[i],l.flags|=16):F.push(i)),l.child=u,l.memoizedState=null,u)}function Ug(i,l){return l=op({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function op(i,l){return i=Aa(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Vg(i,l,u){return Pu(l,i.child,null,u),i=Ug(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function A1(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),ju(i.return,l,u)}function Hg(i,l,u,m,b){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:b}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=u,j.tailMode=b)}function C1(i,l,u){var m=l.pendingProps,b=m.revealOrder,j=m.tail;if(za(i,l,m.children,u),m=va.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&A1(i,u,l);else if(i.tag===19)A1(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(T(va,m),b){case"forwards":for(u=l.child,b=null;u!==null;)i=u.alternate,i!==null&&np(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),Hg(l,!1,b,u,j);break;case"backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&np(i)===null){l.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}Hg(l,!0,u,null,j);break;case"together":Hg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ol(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),kc|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(gc(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=ji(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=ji(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function $g(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&_u(i)))}function x_(i,l,u){switch(l.tag){case 3:ce(l,l.stateNode.containerInfo),qo(l,Zn,i.memoizedState.cache),yr();break;case 27:case 5:de(l);break;case 4:ce(l,l.stateNode.containerInfo);break;case 10:qo(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Nc(l),l.flags|=128,null):(u&l.child.childLanes)!==0?_1(i,l,u):(Nc(l),i=Ol(i,l,u),i!==null?i.sibling:null);Nc(l);break;case 19:var b=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(gc(i,l,u,!1),m=(u&l.childLanes)!==0),b){if(m)return C1(i,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),T(va,va.current),m)break;return null;case 22:case 23:return l.lanes=0,v1(i,l,u);case 24:qo(l,Zn,i.memoizedState.cache)}return Ol(i,l,u)}function k1(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ca=!0;else{if(!$g(i,u)&&(l.flags&128)===0)return Ca=!1,x_(i,l,u);Ca=(i.flags&131072)!==0}else Ca=!1,Is&&(l.flags&1048576)!==0&&Fm(l,Nu,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")fc(m)?(i=Td(m,i),l.tag=1,l=j1(null,l,m,i,u)):(l.tag=0,l=Bg(null,l,m,i,u));else{if(m!=null){if(b=m.$$typeof,b===$){l.tag=11,l=x1(null,l,m,i,u);break e}else if(b===ee){l.tag=14,l=b1(null,l,m,i,u);break e}}throw l=X(m)||m,Error(a(306,l,""))}}return l;case 0:return Bg(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,b=Td(m,l.pendingProps),j1(i,l,m,b,u);case 3:e:{if(ce(l,l.stateNode.containerInfo),i===null)throw Error(a(387));m=l.pendingProps;var j=l.memoizedState;b=j.element,De(i,l),Ct(l,m,null,u);var F=l.memoizedState;if(m=F.cache,qo(l,Zn,m),m!==j.cache&&Su(l,[Zn],u,!0),$t(),m=F.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:F.cache},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){l=S1(i,l,m,u);break e}else if(m!==b){b=Cs(Error(a(424)),l),pc(b),l=S1(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(An=lo(i.firstChild),Xn=l,Is=!0,Io=null,Si=!0,u=i1(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(yr(),m===b){l=Ol(i,l,u);break e}za(i,l,m,u)}l=l.child}return l;case 26:return ip(i,l),i===null?(u=Tv(l.type,null,l.pendingProps,null))?l.memoizedState=u:Is||(u=l.type,i=l.pendingProps,m=wp(I.current).createElement(u),m[vs]=l,m[cs]=i,qa(m,u,i),bs(m),l.stateNode=m):l.memoizedState=Tv(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return de(l),i===null&&Is&&(m=l.stateNode=Dv(l.type,l.pendingProps,I.current),Xn=l,Si=!0,b=An,Tc(l.type)?(_x=b,An=lo(m.firstChild)):An=b),za(i,l,l.pendingProps.children,u),ip(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Is&&((b=m=An)&&(m=$_(m,l.type,l.pendingProps,Si),m!==null?(l.stateNode=m,Xn=l,An=lo(m.firstChild),Si=!1,b=!0):b=!1),b||kl(l)),de(l),b=l.type,j=l.pendingProps,F=i!==null?i.memoizedProps:null,m=j.children,wx(b,j)?m=null:F!==null&&wx(b,F)&&(l.flags|=32),l.memoizedState!==null&&(b=ni(i,l,Ho,null,null,u),vf._currentValue=b),ip(i,l),za(i,l,m,u),l.child;case 6:return i===null&&Is&&((i=u=An)&&(u=Y_(u,l.pendingProps,Si),u!==null?(l.stateNode=u,Xn=l,An=null,i=!0):i=!1),i||kl(l)),null;case 13:return _1(i,l,u);case 4:return ce(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Pu(l,null,m,u):za(i,l,m,u),l.child;case 11:return x1(i,l,l.type,l.pendingProps,u);case 7:return za(i,l,l.pendingProps,u),l.child;case 8:return za(i,l,l.pendingProps.children,u),l.child;case 12:return za(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,qo(l,l.type,m.value),za(i,l,m.children,u),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,Ci(l),b=Kn(b),m=m(b),l.flags|=1,za(i,l,m,u),l.child;case 14:return b1(i,l,l.type,l.pendingProps,u);case 15:return y1(i,l,l.type,l.pendingProps,u);case 19:return C1(i,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},i===null?(u=op(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=ji(i.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return v1(i,l,u);case 24:return Ci(l),m=Kn(Zn),i===null?(b=A(),b===null&&(b=pn,j=Uh(),b.pooledCache=j,j.refCount++,j!==null&&(b.pooledCacheLanes|=u),b=j),l.memoizedState={parent:m,cache:b},Ae(l),qo(l,Zn,b)):((i.lanes&u)!==0&&(De(i,l),Ct(l,null,null,u),$t()),b=i.memoizedState,j=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),qo(l,Zn,m)):(m=j.cache,qo(l,Zn,m),m!==b.cache&&Su(l,[Zn],u,!0))),za(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Rl(i){i.flags|=4}function D1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Fv(l)){if(l=Di.current,l!==null&&((Bs&4194048)===Bs?Wo!==null:(Bs&62914560)!==Bs&&(Bs&536870912)===0||l!==Wo))throw Be=ae,Z;i.flags|=8192}}function lp(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?vt():536870912,i.lanes|=l,Bu|=l)}function af(i,l){if(!Is)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Rn(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function b_(i,l,u){var m=l.pendingProps;switch(yd(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(l),null;case 1:return Rn(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ai(Zn),pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Fa(l)?Rl(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,zm())),Rn(l),null;case 26:return u=l.memoizedState,i===null?(Rl(l),u!==null?(Rn(l),D1(l,u)):(Rn(l),l.flags&=-16777217)):u?u!==i.memoizedState?(Rl(l),Rn(l),D1(l,u)):(Rn(l),l.flags&=-16777217):(i.memoizedProps!==m&&Rl(l),Rn(l),l.flags&=-16777217),null;case 27:Ne(l),u=I.current;var b=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Rl(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return Rn(l),null}i=q.current,Fa(l)?Bm(l):(i=Dv(b,m,u),l.stateNode=i,Rl(l))}return Rn(l),null;case 5:if(Ne(l),u=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Rl(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return Rn(l),null}if(i=q.current,Fa(l))Bm(l);else{switch(b=wp(I.current),i){case 1:i=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?b.createElement(u,{is:m.is}):b.createElement(u)}}i[vs]=l,i[cs]=m;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)i.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=i;e:switch(qa(i,u,m),u){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Rl(l)}}return Rn(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Rl(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(a(166));if(i=I.current,Fa(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,b=Xn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[vs]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Nv(i.nodeValue,u)),i||kl(l)}else i=wp(i).createTextNode(m),i[vs]=l,l.stateNode=i}return Rn(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Fa(l),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(a(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[vs]=l}else yr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rn(l),b=!1}else b=zm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Pl(l),l):(Pl(l),null)}if(Pl(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,i=i!==null&&i.memoizedState!==null,u){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var j=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(j=m.memoizedState.cachePool.pool),j!==b&&(m.flags|=2048)}return u!==i&&u&&(l.child.flags|=8192),lp(l,l.updateQueue),Rn(l),null;case 4:return pe(),i===null&&gx(l.stateNode.containerInfo),Rn(l),null;case 10:return Ai(l.type),Rn(l),null;case 19:if(M(va),b=l.memoizedState,b===null)return Rn(l),null;if(m=(l.flags&128)!==0,j=b.rendering,j===null)if(m)af(b,!1);else{if(Vn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(j=np(i),j!==null){for(l.flags|=128,af(b,!1),i=j.updateQueue,l.updateQueue=i,lp(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)gd(u,i),u=u.sibling;return T(va,va.current&1|2),l.child}i=i.sibling}b.tail!==null&&gt()>up&&(l.flags|=128,m=!0,af(b,!1),l.lanes=4194304)}else{if(!m)if(i=np(j),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,lp(l,i),af(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!Is)return Rn(l),null}else 2*gt()-b.renderingStartTime>up&&u!==536870912&&(l.flags|=128,m=!0,af(b,!1),l.lanes=4194304);b.isBackwards?(j.sibling=l.child,l.child=j):(i=b.last,i!==null?i.sibling=j:l.child=j,b.last=j)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=gt(),l.sibling=null,i=va.current,T(va,m?i&1|2:i&1),l):(Rn(l),null);case 22:case 23:return Pl(l),fs(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Rn(l),l.subtreeFlags&6&&(l.flags|=8192)):Rn(l),u=l.updateQueue,u!==null&&lp(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&M(w),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ai(Zn),Rn(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function y_(i,l){switch(yd(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ai(Zn),pe(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ne(l),null;case 13:if(Pl(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));yr()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return M(va),null;case 4:return pe(),null;case 10:return Ai(l.type),null;case 22:case 23:return Pl(l),fs(),i!==null&&M(w),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ai(Zn),null;case 25:return null;default:return null}}function E1(i,l){switch(yd(l),l.tag){case 3:Ai(Zn),pe();break;case 26:case 27:case 5:Ne(l);break;case 4:pe();break;case 13:Pl(l);break;case 19:M(va);break;case 10:Ai(l.type);break;case 22:case 23:Pl(l),fs(),i!==null&&M(w);break;case 24:Ai(Zn)}}function rf(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var b=m.next;u=b;do{if((u.tag&i)===i){m=void 0;var j=u.create,F=u.inst;m=j(),F.destroy=m}u=u.next}while(u!==b)}}catch(ne){dn(l,l.return,ne)}}function Sc(i,l,u){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var j=b.next;m=j;do{if((m.tag&i)===i){var F=m.inst,ne=F.destroy;if(ne!==void 0){F.destroy=void 0,b=l;var ye=u,Ue=ne;try{Ue()}catch(st){dn(b,ye,st)}}}m=m.next}while(m!==j)}}catch(st){dn(l,l.return,st)}}function L1(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{Us(l,u)}catch(m){dn(i,i.return,m)}}}function T1(i,l,u){u.props=Td(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){dn(i,l,m)}}function of(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(b){dn(i,l,b)}}function Go(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(b){dn(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){dn(i,l,b)}else u.current=null}function M1(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(b){dn(i,i.return,b)}}function Yg(i,l,u){try{var m=i.stateNode;I_(m,i.type,u,l),m[cs]=l}catch(b){dn(i,i.return,b)}}function P1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Tc(i.type)||i.tag===4}function Wg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Tc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gg(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=vp));else if(m!==4&&(m===27&&Tc(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(Gg(i,l,u),i=i.sibling;i!==null;)Gg(i,l,u),i=i.sibling}function cp(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Tc(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(cp(i,l,u),i=i.sibling;i!==null;)cp(i,l,u),i=i.sibling}function O1(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);qa(l,m,u),l[vs]=i,l[cs]=u}catch(j){dn(i,i.return,j)}}var Fl=!1,Qn=!1,Xg=!1,R1=typeof WeakSet=="function"?WeakSet:Set,ka=null;function v_(i,l){if(i=i.containerInfo,yx=Cp,i=Ra(i),ya(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var b=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{u.nodeType,j.nodeType}catch{u=null;break e}var F=0,ne=-1,ye=-1,Ue=0,st=0,ft=i,$e=null;t:for(;;){for(var We;ft!==u||b!==0&&ft.nodeType!==3||(ne=F+b),ft!==j||m!==0&&ft.nodeType!==3||(ye=F+m),ft.nodeType===3&&(F+=ft.nodeValue.length),(We=ft.firstChild)!==null;)$e=ft,ft=We;for(;;){if(ft===i)break t;if($e===u&&++Ue===b&&(ne=F),$e===j&&++st===m&&(ye=F),(We=ft.nextSibling)!==null)break;ft=$e,$e=ft.parentNode}ft=We}u=ne===-1||ye===-1?null:{start:ne,end:ye}}else u=null}u=u||{start:0,end:0}}else u=null;for(vx={focusedElem:i,selectionRange:u},Cp=!1,ka=l;ka!==null;)if(l=ka,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,ka=i;else for(;ka!==null;){switch(l=ka,j=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,u=l,b=j.memoizedProps,j=j.memoizedState,m=u.stateNode;try{var os=Td(u.type,b,u.elementType===u.type);i=m.getSnapshotBeforeUpdate(os,j),m.__reactInternalSnapshotBeforeUpdate=i}catch(Qt){dn(u,u.return,Qt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)jx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,ka=i;break}ka=l.return}}function F1(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:_c(i,u),m&4&&rf(5,u);break;case 1:if(_c(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(F){dn(u,u.return,F)}else{var b=Td(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(F){dn(u,u.return,F)}}m&64&&L1(u),m&512&&of(u,u.return);break;case 3:if(_c(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Us(i,l)}catch(F){dn(u,u.return,F)}}break;case 27:l===null&&m&4&&O1(u);case 26:case 5:_c(i,u),l===null&&m&4&&M1(u),m&512&&of(u,u.return);break;case 12:_c(i,u);break;case 13:_c(i,u),m&4&&I1(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=D_.bind(null,u),W_(i,u))));break;case 22:if(m=u.memoizedState!==null||Fl,!m){l=l!==null&&l.memoizedState!==null||Qn,b=Fl;var j=Qn;Fl=m,(Qn=l)&&!j?Ac(i,u,(u.subtreeFlags&8772)!==0):_c(i,u),Fl=b,Qn=j}break;case 30:break;default:_c(i,u)}}function B1(i){var l=i.alternate;l!==null&&(i.alternate=null,B1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&we(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Cn=null,Rr=!1;function Bl(i,l,u){for(u=u.child;u!==null;)z1(i,l,u),u=u.sibling}function z1(i,l,u){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(St,u)}catch{}switch(u.tag){case 26:Qn||Go(u,l),Bl(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qn||Go(u,l);var m=Cn,b=Rr;Tc(u.type)&&(Cn=u.stateNode,Rr=!1),Bl(i,l,u),gf(u.stateNode),Cn=m,Rr=b;break;case 5:Qn||Go(u,l);case 6:if(m=Cn,b=Rr,Cn=null,Bl(i,l,u),Cn=m,Rr=b,Cn!==null)if(Rr)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(u.stateNode)}catch(j){dn(u,l,j)}else try{Cn.removeChild(u.stateNode)}catch(j){dn(u,l,j)}break;case 18:Cn!==null&&(Rr?(i=Cn,Cv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Sf(i)):Cv(Cn,u.stateNode));break;case 4:m=Cn,b=Rr,Cn=u.stateNode.containerInfo,Rr=!0,Bl(i,l,u),Cn=m,Rr=b;break;case 0:case 11:case 14:case 15:Qn||Sc(2,u,l),Qn||Sc(4,u,l),Bl(i,l,u);break;case 1:Qn||(Go(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&T1(u,l,m)),Bl(i,l,u);break;case 21:Bl(i,l,u);break;case 22:Qn=(m=Qn)||u.memoizedState!==null,Bl(i,l,u),Qn=m;break;default:Bl(i,l,u)}}function I1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Sf(i)}catch(u){dn(l,l.return,u)}}function w_(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new R1),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new R1),l;default:throw Error(a(435,i.tag))}}function Kg(i,l){var u=w_(i);l.forEach(function(m){var b=E_.bind(null,i,m);u.has(m)||(u.add(m),m.then(b,b))})}function ri(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var b=u[m],j=i,F=l,ne=F;e:for(;ne!==null;){switch(ne.tag){case 27:if(Tc(ne.type)){Cn=ne.stateNode,Rr=!1;break e}break;case 5:Cn=ne.stateNode,Rr=!1;break e;case 3:case 4:Cn=ne.stateNode.containerInfo,Rr=!0;break e}ne=ne.return}if(Cn===null)throw Error(a(160));z1(j,F,b),Cn=null,Rr=!1,j=b.alternate,j!==null&&(j.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)q1(l,i),l=l.sibling}var oo=null;function q1(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ri(l,i),ii(i),m&4&&(Sc(3,i,i.return),rf(3,i),Sc(5,i,i.return));break;case 1:ri(l,i),ii(i),m&512&&(Qn||u===null||Go(u,u.return)),m&64&&Fl&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var b=oo;if(ri(l,i),ii(i),m&512&&(Qn||u===null||Go(u,u.return)),m&4){var j=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":j=b.getElementsByTagName("title")[0],(!j||j[hs]||j[vs]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=b.createElement(m),b.head.insertBefore(j,b.querySelector("head > title"))),qa(j,m,u),j[vs]=i,bs(j),m=j;break e;case"link":var F=Ov("link","href",b).get(m+(u.href||""));if(F){for(var ne=0;ne<F.length;ne++)if(j=F[ne],j.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&j.getAttribute("rel")===(u.rel==null?null:u.rel)&&j.getAttribute("title")===(u.title==null?null:u.title)&&j.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){F.splice(ne,1);break t}}j=b.createElement(m),qa(j,m,u),b.head.appendChild(j);break;case"meta":if(F=Ov("meta","content",b).get(m+(u.content||""))){for(ne=0;ne<F.length;ne++)if(j=F[ne],j.getAttribute("content")===(u.content==null?null:""+u.content)&&j.getAttribute("name")===(u.name==null?null:u.name)&&j.getAttribute("property")===(u.property==null?null:u.property)&&j.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&j.getAttribute("charset")===(u.charSet==null?null:u.charSet)){F.splice(ne,1);break t}}j=b.createElement(m),qa(j,m,u),b.head.appendChild(j);break;default:throw Error(a(468,m))}j[vs]=i,bs(j),m=j}i.stateNode=m}else Rv(b,i.type,i.stateNode);else i.stateNode=Pv(b,m,i.memoizedProps);else j!==m?(j===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):j.count--,m===null?Rv(b,i.type,i.stateNode):Pv(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Yg(i,i.memoizedProps,u.memoizedProps)}break;case 27:ri(l,i),ii(i),m&512&&(Qn||u===null||Go(u,u.return)),u!==null&&m&4&&Yg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(ri(l,i),ii(i),m&512&&(Qn||u===null||Go(u,u.return)),i.flags&32){b=i.stateNode;try{Xr(b,"")}catch(We){dn(i,i.return,We)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,Yg(i,b,u!==null?u.memoizedProps:b)),m&1024&&(Xg=!0);break;case 6:if(ri(l,i),ii(i),m&4){if(i.stateNode===null)throw Error(a(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(We){dn(i,i.return,We)}}break;case 3:if(Sp=null,b=oo,oo=Np(l.containerInfo),ri(l,i),oo=b,ii(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Sf(l.containerInfo)}catch(We){dn(i,i.return,We)}Xg&&(Xg=!1,U1(i));break;case 4:m=oo,oo=Np(i.stateNode.containerInfo),ri(l,i),ii(i),oo=m;break;case 12:ri(l,i),ii(i);break;case 13:ri(l,i),ii(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sx=gt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Kg(i,m)));break;case 22:b=i.memoizedState!==null;var ye=u!==null&&u.memoizedState!==null,Ue=Fl,st=Qn;if(Fl=Ue||b,Qn=st||ye,ri(l,i),Qn=st,Fl=Ue,ii(i),m&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(u===null||ye||Fl||Qn||Md(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){ye=u=l;try{if(j=ye.stateNode,b)F=j.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{ne=ye.stateNode;var ft=ye.memoizedProps.style,$e=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;ne.style.display=$e==null||typeof $e=="boolean"?"":(""+$e).trim()}}catch(We){dn(ye,ye.return,We)}}}else if(l.tag===6){if(u===null){ye=l;try{ye.stateNode.nodeValue=b?"":ye.memoizedProps}catch(We){dn(ye,ye.return,We)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Kg(i,u))));break;case 19:ri(l,i),ii(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Kg(i,m)));break;case 30:break;case 21:break;default:ri(l,i),ii(i)}}function ii(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(P1(m)){u=m;break}m=m.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var b=u.stateNode,j=Wg(i);cp(i,j,b);break;case 5:var F=u.stateNode;u.flags&32&&(Xr(F,""),u.flags&=-33);var ne=Wg(i);cp(i,ne,F);break;case 3:case 4:var ye=u.stateNode.containerInfo,Ue=Wg(i);Gg(i,Ue,ye);break;default:throw Error(a(161))}}catch(st){dn(i,i.return,st)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function U1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;U1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function _c(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)F1(i,l.alternate,l),l=l.sibling}function Md(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Sc(4,l,l.return),Md(l);break;case 1:Go(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&T1(l,l.return,u),Md(l);break;case 27:gf(l.stateNode);case 26:case 5:Go(l,l.return),Md(l);break;case 22:l.memoizedState===null&&Md(l);break;case 30:Md(l);break;default:Md(l)}i=i.sibling}}function Ac(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=i,j=l,F=j.flags;switch(j.tag){case 0:case 11:case 15:Ac(b,j,u),rf(4,j);break;case 1:if(Ac(b,j,u),m=j,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Ue){dn(m,m.return,Ue)}if(m=j,b=m.updateQueue,b!==null){var ne=m.stateNode;try{var ye=b.shared.hiddenCallbacks;if(ye!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ye.length;b++)Rs(ye[b],ne)}catch(Ue){dn(m,m.return,Ue)}}u&&F&64&&L1(j),of(j,j.return);break;case 27:O1(j);case 26:case 5:Ac(b,j,u),u&&m===null&&F&4&&M1(j),of(j,j.return);break;case 12:Ac(b,j,u);break;case 13:Ac(b,j,u),u&&F&4&&I1(b,j);break;case 22:j.memoizedState===null&&Ac(b,j,u),of(j,j.return);break;case 30:break;default:Ac(b,j,u)}l=l.sibling}}function Zg(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&vd(u))}function Jg(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&vd(i))}function Xo(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)V1(i,l,u,m),l=l.sibling}function V1(i,l,u,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Xo(i,l,u,m),b&2048&&rf(9,l);break;case 1:Xo(i,l,u,m);break;case 3:Xo(i,l,u,m),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&vd(i)));break;case 12:if(b&2048){Xo(i,l,u,m),i=l.stateNode;try{var j=l.memoizedProps,F=j.id,ne=j.onPostCommit;typeof ne=="function"&&ne(F,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ye){dn(l,l.return,ye)}}else Xo(i,l,u,m);break;case 13:Xo(i,l,u,m);break;case 23:break;case 22:j=l.stateNode,F=l.alternate,l.memoizedState!==null?j._visibility&2?Xo(i,l,u,m):lf(i,l):j._visibility&2?Xo(i,l,u,m):(j._visibility|=2,Ou(i,l,u,m,(l.subtreeFlags&10256)!==0)),b&2048&&Zg(F,l);break;case 24:Xo(i,l,u,m),b&2048&&Jg(l.alternate,l);break;default:Xo(i,l,u,m)}}function Ou(i,l,u,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var j=i,F=l,ne=u,ye=m,Ue=F.flags;switch(F.tag){case 0:case 11:case 15:Ou(j,F,ne,ye,b),rf(8,F);break;case 23:break;case 22:var st=F.stateNode;F.memoizedState!==null?st._visibility&2?Ou(j,F,ne,ye,b):lf(j,F):(st._visibility|=2,Ou(j,F,ne,ye,b)),b&&Ue&2048&&Zg(F.alternate,F);break;case 24:Ou(j,F,ne,ye,b),b&&Ue&2048&&Jg(F.alternate,F);break;default:Ou(j,F,ne,ye,b)}l=l.sibling}}function lf(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,b=m.flags;switch(m.tag){case 22:lf(u,m),b&2048&&Zg(m.alternate,m);break;case 24:lf(u,m),b&2048&&Jg(m.alternate,m);break;default:lf(u,m)}l=l.sibling}}var cf=8192;function Ru(i){if(i.subtreeFlags&cf)for(i=i.child;i!==null;)H1(i),i=i.sibling}function H1(i){switch(i.tag){case 26:Ru(i),i.flags&cf&&i.memoizedState!==null&&iA(oo,i.memoizedState,i.memoizedProps);break;case 5:Ru(i);break;case 3:case 4:var l=oo;oo=Np(i.stateNode.containerInfo),Ru(i),oo=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=cf,cf=16777216,Ru(i),cf=l):Ru(i));break;default:Ru(i)}}function $1(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function df(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];ka=m,W1(m,i)}$1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Y1(i),i=i.sibling}function Y1(i){switch(i.tag){case 0:case 11:case 15:df(i),i.flags&2048&&Sc(9,i,i.return);break;case 3:df(i);break;case 12:df(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,dp(i)):df(i);break;default:df(i)}}function dp(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];ka=m,W1(m,i)}$1(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Sc(8,l,l.return),dp(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,dp(l));break;default:dp(l)}i=i.sibling}}function W1(i,l){for(;ka!==null;){var u=ka;switch(u.tag){case 0:case 11:case 15:Sc(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:vd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,ka=m;else e:for(u=i;ka!==null;){m=ka;var b=m.sibling,j=m.return;if(B1(m),m===u){ka=null;break e}if(b!==null){b.return=j,ka=b;break e}ka=j}}}var N_={getCacheForType:function(i){var l=Kn(Zn),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u}},j_=typeof WeakMap=="function"?WeakMap:Map,Qs=0,pn=null,Ts=null,Bs=0,en=0,oi=null,Cc=!1,Fu=!1,Qg=!1,zl=0,Vn=0,kc=0,Pd=0,ex=0,Ei=0,Bu=0,uf=null,Fr=null,tx=!1,sx=0,up=1/0,hp=null,Dc=null,Ia=0,Ec=null,zu=null,Iu=0,nx=0,ax=null,G1=null,hf=0,rx=null;function li(){if((Qs&2)!==0&&Bs!==0)return Bs&-Bs;if(z.T!==null){var i=Dl;return i!==0?i:hx()}return xn()}function X1(){Ei===0&&(Ei=(Bs&536870912)===0||Is?yt():536870912);var i=Di.current;return i!==null&&(i.flags|=32),Ei}function ci(i,l,u){(i===pn&&(en===2||en===9)||i.cancelPendingCommit!==null)&&(qu(i,0),Lc(i,Bs,Ei,!1)),Zt(i,u),((Qs&2)===0||i!==pn)&&(i===pn&&((Qs&2)===0&&(Pd|=u),Vn===4&&Lc(i,Bs,Ei,!1)),Ko(i))}function K1(i,l,u){if((Qs&6)!==0)throw Error(a(327));var m=!u&&(l&124)===0&&(l&i.expiredLanes)===0||He(i,l),b=m?A_(i,l):lx(i,l,!0),j=m;do{if(b===0){Fu&&!m&&Lc(i,l,0,!1);break}else{if(u=i.current.alternate,j&&!S_(u)){b=lx(i,l,!1),j=!1;continue}if(b===2){if(j=l,i.errorRecoveryDisabledLanes&j)var F=0;else F=i.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){l=F;e:{var ne=i;b=uf;var ye=ne.current.memoizedState.isDehydrated;if(ye&&(qu(ne,F).flags|=256),F=lx(ne,F,!1),F!==2){if(Qg&&!ye){ne.errorRecoveryDisabledLanes|=j,Pd|=j,b=4;break e}j=Fr,Fr=b,j!==null&&(Fr===null?Fr=j:Fr.push.apply(Fr,j))}b=F}if(j=!1,b!==2)continue}}if(b===1){qu(i,0),Lc(i,l,0,!0);break}e:{switch(m=i,j=b,j){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Lc(m,l,Ei,!Cc);break e;case 2:Fr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(b=sx+300-gt(),10<b)){if(Lc(m,l,Ei,!Cc),qe(m,0,!0)!==0)break e;m.timeoutHandle=_v(Z1.bind(null,m,u,Fr,hp,tx,l,Ei,Pd,Bu,Cc,j,2,-0,0),b);break e}Z1(m,u,Fr,hp,tx,l,Ei,Pd,Bu,Cc,j,0,-0,0)}}break}while(!0);Ko(i)}function Z1(i,l,u,m,b,j,F,ne,ye,Ue,st,ft,$e,We){if(i.timeoutHandle=-1,ft=l.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(yf={stylesheets:null,count:0,unsuspend:rA},H1(l),ft=oA(),ft!==null)){i.cancelPendingCommit=ft(av.bind(null,i,l,j,u,m,b,F,ne,ye,st,1,$e,We)),Lc(i,j,F,!Ue);return}av(i,l,j,u,m,b,F,ne,ye)}function S_(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var b=u[m],j=b.getSnapshot;b=b.value;try{if(!ua(j(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Lc(i,l,u,m){l&=~ex,l&=~Pd,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var b=l;0<b;){var j=31-fe(b),F=1<<j;m[j]=-1,b&=~F}u!==0&&Rt(i,u,l)}function fp(){return(Qs&6)===0?(ff(0),!1):!0}function ix(){if(Ts!==null){if(en===0)var i=Ts.return;else i=Ts,to=fa=null,Cu(i),Mu=null,sf=0,i=Ts;for(;i!==null;)E1(i.alternate,i),i=i.return;Ts=null}}function qu(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,U_(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ix(),pn=i,Ts=u=ji(i.current,null),Bs=l,en=0,oi=null,Cc=!1,Fu=He(i,l),Qg=!1,Bu=Ei=ex=Pd=kc=Vn=0,Fr=uf=null,tx=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var b=31-fe(m),j=1<<b;l|=i[b],m&=~j}return zl=l,Tr(),u}function J1(i,l){Xt=null,z.H=ep,l===K||l===te?(l=Le(),en=3):l===Z?(l=Le(),en=4):en=l===g1?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,oi=l,Ts===null&&(Vn=1,rp(i,Cs(l,i.current)))}function Q1(){var i=z.H;return z.H=ep,i===null?ep:i}function ev(){var i=z.A;return z.A=N_,i}function ox(){Vn=4,Cc||(Bs&4194048)!==Bs&&Di.current!==null||(Fu=!0),(kc&134217727)===0&&(Pd&134217727)===0||pn===null||Lc(pn,Bs,Ei,!1)}function lx(i,l,u){var m=Qs;Qs|=2;var b=Q1(),j=ev();(pn!==i||Bs!==l)&&(hp=null,qu(i,l)),l=!1;var F=Vn;e:do try{if(en!==0&&Ts!==null){var ne=Ts,ye=oi;switch(en){case 8:ix(),F=6;break e;case 3:case 2:case 9:case 6:Di.current===null&&(l=!0);var Ue=en;if(en=0,oi=null,Uu(i,ne,ye,Ue),u&&Fu){F=0;break e}break;default:Ue=en,en=0,oi=null,Uu(i,ne,ye,Ue)}}__(),F=Vn;break}catch(st){J1(i,st)}while(!0);return l&&i.shellSuspendCounter++,to=fa=null,Qs=m,z.H=b,z.A=j,Ts===null&&(pn=null,Bs=0,Tr()),F}function __(){for(;Ts!==null;)tv(Ts)}function A_(i,l){var u=Qs;Qs|=2;var m=Q1(),b=ev();pn!==i||Bs!==l?(hp=null,up=gt()+500,qu(i,l)):Fu=He(i,l);e:do try{if(en!==0&&Ts!==null){l=Ts;var j=oi;t:switch(en){case 1:en=0,oi=null,Uu(i,l,j,1);break;case 2:case 9:if(he(j)){en=0,oi=null,sv(l);break}l=function(){en!==2&&en!==9||pn!==i||(en=7),Ko(i)},j.then(l,l);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:he(j)?(en=0,oi=null,sv(l)):(en=0,oi=null,Uu(i,l,j,7));break;case 5:var F=null;switch(Ts.tag){case 26:F=Ts.memoizedState;case 5:case 27:var ne=Ts;if(!F||Fv(F)){en=0,oi=null;var ye=ne.sibling;if(ye!==null)Ts=ye;else{var Ue=ne.return;Ue!==null?(Ts=Ue,mp(Ue)):Ts=null}break t}}en=0,oi=null,Uu(i,l,j,5);break;case 6:en=0,oi=null,Uu(i,l,j,6);break;case 8:ix(),Vn=6;break e;default:throw Error(a(462))}}C_();break}catch(st){J1(i,st)}while(!0);return to=fa=null,z.H=m,z.A=b,Qs=u,Ts!==null?0:(pn=null,Bs=0,Tr(),Vn)}function C_(){for(;Ts!==null&&!Ee();)tv(Ts)}function tv(i){var l=k1(i.alternate,i,zl);i.memoizedProps=i.pendingProps,l===null?mp(i):Ts=l}function sv(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=N1(u,l,l.pendingProps,l.type,void 0,Bs);break;case 11:l=N1(u,l,l.pendingProps,l.type.render,l.ref,Bs);break;case 5:Cu(l);default:E1(u,l),l=Ts=gd(l,zl),l=k1(u,l,zl)}i.memoizedProps=i.pendingProps,l===null?mp(i):Ts=l}function Uu(i,l,u,m){to=fa=null,Cu(l),Mu=null,sf=0;var b=l.return;try{if(g_(i,b,l,u,Bs)){Vn=1,rp(i,Cs(u,i.current)),Ts=null;return}}catch(j){if(b!==null)throw Ts=b,j;Vn=1,rp(i,Cs(u,i.current)),Ts=null;return}l.flags&32768?(Is||m===1?i=!0:Fu||(Bs&536870912)!==0?i=!1:(Cc=i=!0,(m===2||m===9||m===3||m===6)&&(m=Di.current,m!==null&&m.tag===13&&(m.flags|=16384))),nv(l,i)):mp(l)}function mp(i){var l=i;do{if((l.flags&32768)!==0){nv(l,Cc);return}i=l.return;var u=b_(l.alternate,l,zl);if(u!==null){Ts=u;return}if(l=l.sibling,l!==null){Ts=l;return}Ts=l=i}while(l!==null);Vn===0&&(Vn=5)}function nv(i,l){do{var u=y_(i.alternate,i);if(u!==null){u.flags&=32767,Ts=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Ts=i;return}Ts=i=u}while(i!==null);Vn=6,Ts=null}function av(i,l,u,m,b,j,F,ne,ye){i.cancelPendingCommit=null;do pp();while(Ia!==0);if((Qs&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(j=l.lanes|l.childLanes,j|=Mn,Gt(i,u,j,F,ne,ye),i===pn&&(Ts=pn=null,Bs=0),zu=l,Ec=i,Iu=u,nx=j,ax=b,G1=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,L_(ct,function(){return cv(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=z.T,z.T=null,b=J.p,J.p=2,F=Qs,Qs|=4;try{v_(i,l,u)}finally{Qs=F,J.p=b,z.T=m}}Ia=1,rv(),iv(),ov()}}function rv(){if(Ia===1){Ia=0;var i=Ec,l=zu,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=z.T,z.T=null;var m=J.p;J.p=2;var b=Qs;Qs|=4;try{q1(l,i);var j=vx,F=Ra(i.containerInfo),ne=j.focusedElem,ye=j.selectionRange;if(F!==ne&&ne&&ne.ownerDocument&&Lo(ne.ownerDocument.documentElement,ne)){if(ye!==null&&ya(ne)){var Ue=ye.start,st=ye.end;if(st===void 0&&(st=Ue),"selectionStart"in ne)ne.selectionStart=Ue,ne.selectionEnd=Math.min(st,ne.value.length);else{var ft=ne.ownerDocument||document,$e=ft&&ft.defaultView||window;if($e.getSelection){var We=$e.getSelection(),os=ne.textContent.length,Qt=Math.min(ye.start,os),cn=ye.end===void 0?Qt:Math.min(ye.end,os);!We.extend&&Qt>cn&&(F=cn,cn=Qt,Qt=F);var Me=Wi(ne,Qt),Ce=Wi(ne,cn);if(Me&&Ce&&(We.rangeCount!==1||We.anchorNode!==Me.node||We.anchorOffset!==Me.offset||We.focusNode!==Ce.node||We.focusOffset!==Ce.offset)){var ze=ft.createRange();ze.setStart(Me.node,Me.offset),We.removeAllRanges(),Qt>cn?(We.addRange(ze),We.extend(Ce.node,Ce.offset)):(ze.setEnd(Ce.node,Ce.offset),We.addRange(ze))}}}}for(ft=[],We=ne;We=We.parentNode;)We.nodeType===1&&ft.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<ft.length;ne++){var it=ft[ne];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Cp=!!yx,vx=yx=null}finally{Qs=b,J.p=m,z.T=u}}i.current=l,Ia=2}}function iv(){if(Ia===2){Ia=0;var i=Ec,l=zu,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=z.T,z.T=null;var m=J.p;J.p=2;var b=Qs;Qs|=4;try{F1(i,l.alternate,l)}finally{Qs=b,J.p=m,z.T=u}}Ia=3}}function ov(){if(Ia===4||Ia===3){Ia=0,ue();var i=Ec,l=zu,u=Iu,m=G1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ia=5:(Ia=0,zu=Ec=null,lv(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Dc=null),Os(u),l=l.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(St,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=z.T,b=J.p,J.p=2,z.T=null;try{for(var j=i.onRecoverableError,F=0;F<m.length;F++){var ne=m[F];j(ne.value,{componentStack:ne.stack})}}finally{z.T=l,J.p=b}}(Iu&3)!==0&&pp(),Ko(i),b=i.pendingLanes,(u&4194090)!==0&&(b&42)!==0?i===rx?hf++:(hf=0,rx=i):hf=0,ff(0)}}function lv(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,vd(l)))}function pp(i){return rv(),iv(),ov(),cv()}function cv(){if(Ia!==5)return!1;var i=Ec,l=nx;nx=0;var u=Os(Iu),m=z.T,b=J.p;try{J.p=32>u?32:u,z.T=null,u=ax,ax=null;var j=Ec,F=Iu;if(Ia=0,zu=Ec=null,Iu=0,(Qs&6)!==0)throw Error(a(331));var ne=Qs;if(Qs|=4,Y1(j.current),V1(j,j.current,F,u),Qs=ne,ff(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(St,j)}catch{}return!0}finally{J.p=b,z.T=m,lv(i,l)}}function dv(i,l,u){l=Cs(u,l),l=Fg(i.stateNode,l,2),i=dt(i,l,2),i!==null&&(Zt(i,2),Ko(i))}function dn(i,l,u){if(i.tag===3)dv(i,i,u);else for(;l!==null;){if(l.tag===3){dv(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Dc===null||!Dc.has(m))){i=Cs(u,i),u=m1(2),m=dt(l,u,2),m!==null&&(p1(u,m,l,i),Zt(m,2),Ko(m));break}}l=l.return}}function cx(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new j_;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(u)||(Qg=!0,b.add(u),i=k_.bind(null,i,l,u),l.then(i,i))}function k_(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,pn===i&&(Bs&u)===u&&(Vn===4||Vn===3&&(Bs&62914560)===Bs&&300>gt()-sx?(Qs&2)===0&&qu(i,0):ex|=u,Bu===Bs&&(Bu=0)),Ko(i)}function uv(i,l){l===0&&(l=vt()),i=Xi(i,l),i!==null&&(Zt(i,l),Ko(i))}function D_(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),uv(i,u)}function E_(i,l){var u=0;switch(i.tag){case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(l),uv(i,u)}function L_(i,l){return Te(i,l)}var gp=null,Vu=null,dx=!1,xp=!1,ux=!1,Od=0;function Ko(i){i!==Vu&&i.next===null&&(Vu===null?gp=Vu=i:Vu=Vu.next=i),xp=!0,dx||(dx=!0,M_())}function ff(i,l){if(!ux&&xp){ux=!0;do for(var u=!1,m=gp;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var j=0;else{var F=m.suspendedLanes,ne=m.pingedLanes;j=(1<<31-fe(42|i)+1)-1,j&=b&~(F&~ne),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(u=!0,pv(m,j))}else j=Bs,j=qe(m,m===pn?j:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(j&3)===0||He(m,j)||(u=!0,pv(m,j));m=m.next}while(u);ux=!1}}function T_(){hv()}function hv(){xp=dx=!1;var i=0;Od!==0&&(q_()&&(i=Od),Od=0);for(var l=gt(),u=null,m=gp;m!==null;){var b=m.next,j=fv(m,l);j===0?(m.next=null,u===null?gp=b:u.next=b,b===null&&(Vu=u)):(u=m,(i!==0||(j&3)!==0)&&(xp=!0)),m=b}ff(i)}function fv(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var F=31-fe(j),ne=1<<F,ye=b[F];ye===-1?((ne&u)===0||(ne&m)!==0)&&(b[F]=Pe(ne,l)):ye<=l&&(i.expiredLanes|=ne),j&=~ne}if(l=pn,u=Bs,u=qe(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(en===2||en===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Ge(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||He(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&Ge(m),Os(u)){case 2:case 8:u=Ze;break;case 32:u=ct;break;case 268435456:u=Ye;break;default:u=ct}return m=mv.bind(null,i),u=Te(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&Ge(m),i.callbackPriority=2,i.callbackNode=null,2}function mv(i,l){if(Ia!==0&&Ia!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(pp()&&i.callbackNode!==u)return null;var m=Bs;return m=qe(i,i===pn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(K1(i,m,l),fv(i,gt()),i.callbackNode!=null&&i.callbackNode===u?mv.bind(null,i):null)}function pv(i,l){if(pp())return null;K1(i,l,!0)}function M_(){V_(function(){(Qs&6)!==0?Te(Ve,T_):hv()})}function hx(){return Od===0&&(Od=yt()),Od}function gv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:kr(""+i)}function xv(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function P_(i,l,u,m,b){if(l==="submit"&&u&&u.stateNode===b){var j=gv((b[cs]||null).action),F=m.submitter;F&&(l=(l=F[cs]||null)?gv(l.formAction):F.getAttribute("formAction"),l!==null&&(j=l,F=null));var ne=new So("action","action",null,m,b);i.push({event:ne,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Od!==0){var ye=F?xv(b,F):new FormData(b);ki(u,{pending:!0,data:ye,method:b.method,action:j},null,ye)}}else typeof j=="function"&&(ne.preventDefault(),ye=F?xv(b,F):new FormData(b),ki(u,{pending:!0,data:ye,method:b.method,action:j},j,ye))},currentTarget:b}]})}}for(var fx=0;fx<jl.length;fx++){var mx=jl[fx],O_=mx.toLowerCase(),R_=mx[0].toUpperCase()+mx.slice(1);_n(O_,"on"+R_)}_n(uc,"onAnimationEnd"),_n(Mo,"onAnimationIteration"),_n(Po,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(Oo,"onTransitionRun"),_n(Nl,"onTransitionStart"),_n(hc,"onTransitionCancel"),_n(Ro,"onTransitionEnd"),je("onMouseEnter",["mouseout","mouseover"]),je("onMouseLeave",["mouseout","mouseover"]),je("onPointerEnter",["pointerout","pointerover"]),je("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mf));function bv(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],b=m.event;m=m.listeners;e:{var j=void 0;if(l)for(var F=m.length-1;0<=F;F--){var ne=m[F],ye=ne.instance,Ue=ne.currentTarget;if(ne=ne.listener,ye!==j&&b.isPropagationStopped())break e;j=ne,b.currentTarget=Ue;try{j(b)}catch(st){ap(st)}b.currentTarget=null,j=ye}else for(F=0;F<m.length;F++){if(ne=m[F],ye=ne.instance,Ue=ne.currentTarget,ne=ne.listener,ye!==j&&b.isPropagationStopped())break e;j=ne,b.currentTarget=Ue;try{j(b)}catch(st){ap(st)}b.currentTarget=null,j=ye}}}}function Ms(i,l){var u=l[ke];u===void 0&&(u=l[ke]=new Set);var m=i+"__bubble";u.has(m)||(yv(l,i,2,!1),u.add(m))}function px(i,l,u){var m=0;l&&(m|=4),yv(u,i,m,l)}var bp="_reactListening"+Math.random().toString(36).slice(2);function gx(i){if(!i[bp]){i[bp]=!0,Wn.forEach(function(u){u!=="selectionchange"&&(F_.has(u)||px(u,!1,i),px(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[bp]||(l[bp]=!0,px("selectionchange",!1,l))}}function yv(i,l,u,m){switch(Vv(l)){case 2:var b=dA;break;case 8:b=uA;break;default:b=Ex}u=b.bind(null,l,u,i),b=void 0,!wt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(l,u,{capture:!0,passive:b}):i.addEventListener(l,u,!0):b!==void 0?i.addEventListener(l,u,{passive:b}):i.addEventListener(l,u,!1)}function xx(i,l,u,m,b){var j=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var F=m.tag;if(F===3||F===4){var ne=m.stateNode.containerInfo;if(ne===b)break;if(F===4)for(F=m.return;F!==null;){var ye=F.tag;if((ye===3||ye===4)&&F.stateNode.containerInfo===b)return;F=F.return}for(;ne!==null;){if(F=mt(ne),F===null)return;if(ye=F.tag,ye===5||ye===6||ye===26||ye===27){m=j=F;continue e}ne=ne.parentNode}}m=m.return}ml(function(){var Ue=j,st=En(u),ft=[];e:{var $e=Gi.get(i);if($e!==void 0){var We=So,os=i;switch(i){case"keypress":if(jo(u)===0)break e;case"keydown":case"keyup":We=ic;break;case"focusin":os="focus",We=pl;break;case"focusout":os="blur",We=pl;break;case"beforeblur":case"afterblur":We=pl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=hd;break;case uc:case Mo:case Po:We=Fh;break;case Ro:We=H;break;case"scroll":case"scrollend":We=xu;break;case"wheel":We=Se;break;case"copy":case"cut":case"paste":We=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=oc;break;case"toggle":case"beforetoggle":We=et}var Qt=(l&4)!==0,cn=!Qt&&(i==="scroll"||i==="scrollend"),Me=Qt?$e!==null?$e+"Capture":null:$e;Qt=[];for(var Ce=Ue,ze;Ce!==null;){var it=Ce;if(ze=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||ze===null||Me===null||(it=ba(Ce,Me),it!=null&&Qt.push(pf(Ce,it,ze))),cn)break;Ce=Ce.return}0<Qt.length&&($e=new We($e,os,null,u,st),ft.push({event:$e,listeners:Qt}))}}if((l&7)===0){e:{if($e=i==="mouseover"||i==="pointerover",We=i==="mouseout"||i==="pointerout",$e&&u!==Vi&&(os=u.relatedTarget||u.fromElement)&&(mt(os)||os[Fe]))break e;if((We||$e)&&($e=st.window===st?st:($e=st.ownerDocument)?$e.defaultView||$e.parentWindow:window,We?(os=u.relatedTarget||u.toElement,We=Ue,os=os?mt(os):null,os!==null&&(cn=o(os),Qt=os.tag,os!==cn||Qt!==5&&Qt!==27&&Qt!==6)&&(os=null)):(We=null,os=Ue),We!==os)){if(Qt=vi,it="onMouseLeave",Me="onMouseEnter",Ce="mouse",(i==="pointerout"||i==="pointerover")&&(Qt=oc,it="onPointerLeave",Me="onPointerEnter",Ce="pointer"),cn=We==null?$e:is(We),ze=os==null?$e:is(os),$e=new Qt(it,Ce+"leave",We,u,st),$e.target=cn,$e.relatedTarget=ze,it=null,mt(st)===Ue&&(Qt=new Qt(Me,Ce+"enter",os,u,st),Qt.target=ze,Qt.relatedTarget=cn,it=Qt),cn=it,We&&os)t:{for(Qt=We,Me=os,Ce=0,ze=Qt;ze;ze=Hu(ze))Ce++;for(ze=0,it=Me;it;it=Hu(it))ze++;for(;0<Ce-ze;)Qt=Hu(Qt),Ce--;for(;0<ze-Ce;)Me=Hu(Me),ze--;for(;Ce--;){if(Qt===Me||Me!==null&&Qt===Me.alternate)break t;Qt=Hu(Qt),Me=Hu(Me)}Qt=null}else Qt=null;We!==null&&vv(ft,$e,We,Qt,!1),os!==null&&cn!==null&&vv(ft,cn,os,Qt,!0)}}e:{if($e=Ue?is(Ue):window,We=$e.nodeName&&$e.nodeName.toLowerCase(),We==="select"||We==="input"&&$e.type==="file")var zt=cc;else if(Qr($e))if(bl)zt=yu;else{zt=Ih;var Es=Ya}else We=$e.nodeName,!We||We.toLowerCase()!=="input"||$e.type!=="checkbox"&&$e.type!=="radio"?Ue&&wo(Ue.elementType)&&(zt=cc):zt=md;if(zt&&(zt=zt(i,Ue))){fd(ft,zt,u,st);break e}Es&&Es(i,$e,Ue),i==="focusout"&&Ue&&$e.type==="number"&&Ue.memoizedProps.value!=null&&Gr($e,"number",$e.value)}switch(Es=Ue?is(Ue):window,i){case"focusin":(Qr(Es)||Es.contentEditable==="true")&&(Wa=Es,ei=Ue,wi=null);break;case"focusout":wi=ei=Wa=null;break;case"mousedown":ti=!0;break;case"contextmenu":case"mouseup":case"dragend":ti=!1,Sn(ft,u,st);break;case"selectionchange":if(To)break;case"keydown":case"keyup":Sn(ft,u,st)}var Yt;if(Lt)e:{switch(i){case"compositionstart":var es="onCompositionStart";break e;case"compositionend":es="onCompositionEnd";break e;case"compositionupdate":es="onCompositionUpdate";break e}es=void 0}else Tn?yn(i,u)&&(es="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(es="onCompositionStart");es&&(us&&u.locale!=="ko"&&(Tn||es!=="onCompositionStart"?es==="onCompositionEnd"&&Tn&&(Yt=gu()):(Zs=st,ld="value"in Zs?Zs.value:Zs.textContent,Tn=!0)),Es=yp(Ue,es),0<Es.length&&(es=new nc(es,i,null,u,st),ft.push({event:es,listeners:Es}),Yt?es.data=Yt:(Yt=Ln(u),Yt!==null&&(es.data=Yt)))),(Yt=ms?da(i,u):Jr(i,u))&&(es=yp(Ue,"onBeforeInput"),0<es.length&&(Es=new nc("onBeforeInput","beforeinput",null,u,st),ft.push({event:Es,listeners:es}),Es.data=Yt)),P_(ft,i,Ue,u,st)}bv(ft,l)})}function pf(i,l,u){return{instance:i,listener:l,currentTarget:u}}function yp(i,l){for(var u=l+"Capture",m=[];i!==null;){var b=i,j=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||j===null||(b=ba(i,u),b!=null&&m.unshift(pf(i,b,j)),b=ba(i,l),b!=null&&m.push(pf(i,b,j))),i.tag===3)return m;i=i.return}return[]}function Hu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function vv(i,l,u,m,b){for(var j=l._reactName,F=[];u!==null&&u!==m;){var ne=u,ye=ne.alternate,Ue=ne.stateNode;if(ne=ne.tag,ye!==null&&ye===m)break;ne!==5&&ne!==26&&ne!==27||Ue===null||(ye=Ue,b?(Ue=ba(u,j),Ue!=null&&F.unshift(pf(u,Ue,ye))):b||(Ue=ba(u,j),Ue!=null&&F.push(pf(u,Ue,ye)))),u=u.return}F.length!==0&&i.push({event:l,listeners:F})}var B_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function wv(i){return(typeof i=="string"?i:""+i).replace(B_,`
`).replace(z_,"")}function Nv(i,l){return l=wv(l),wv(i)===l}function vp(){}function ln(i,l,u,m,b,j){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Xr(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Xr(i,""+m);break;case"className":Ss(i,"class",m);break;case"tabIndex":Ss(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ss(i,u,m);break;case"style":fl(i,m,j);break;case"data":if(l!=="object"){Ss(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=kr(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(u==="formAction"?(l!=="input"&&ln(i,l,"name",b.name,b,null),ln(i,l,"formEncType",b.formEncType,b,null),ln(i,l,"formMethod",b.formMethod,b,null),ln(i,l,"formTarget",b.formTarget,b,null)):(ln(i,l,"encType",b.encType,b,null),ln(i,l,"method",b.method,b,null),ln(i,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=kr(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=vp);break;case"onScroll":m!=null&&Ms("scroll",i);break;case"onScrollEnd":m!=null&&Ms("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=kr(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":Ms("beforetoggle",i),Ms("toggle",i),gs(i,"popover",m);break;case"xlinkActuate":rn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":rn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":rn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":rn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":rn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":rn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":rn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":rn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":rn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":gs(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Cr.get(u)||u,gs(i,u,m))}}function bx(i,l,u,m,b,j){switch(u){case"style":fl(i,m,j);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(u=m.__html,u!=null){if(b.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Xr(i,m):(typeof m=="number"||typeof m=="bigint")&&Xr(i,""+m);break;case"onScroll":m!=null&&Ms("scroll",i);break;case"onScrollEnd":m!=null&&Ms("scrollend",i);break;case"onClick":m!=null&&(i.onclick=vp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),j=i[cs]||null,j=j!=null?j[u]:null,typeof j=="function"&&i.removeEventListener(l,j,b),typeof m=="function")){typeof j!="function"&&j!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,b);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):gs(i,u,m)}}}function qa(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ms("error",i),Ms("load",i);var m=!1,b=!1,j;for(j in u)if(u.hasOwnProperty(j)){var F=u[j];if(F!=null)switch(j){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ln(i,l,j,F,u,null)}}b&&ln(i,l,"srcSet",u.srcSet,u,null),m&&ln(i,l,"src",u.src,u,null);return;case"input":Ms("invalid",i);var ne=j=F=b=null,ye=null,Ue=null;for(m in u)if(u.hasOwnProperty(m)){var st=u[m];if(st!=null)switch(m){case"name":b=st;break;case"type":F=st;break;case"checked":ye=st;break;case"defaultChecked":Ue=st;break;case"value":j=st;break;case"defaultValue":ne=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,l));break;default:ln(i,l,m,st,u,null)}}Wr(i,j,ne,ye,Ue,F,b,!1),$a(i);return;case"select":Ms("invalid",i),m=F=j=null;for(b in u)if(u.hasOwnProperty(b)&&(ne=u[b],ne!=null))switch(b){case"value":j=ne;break;case"defaultValue":F=ne;break;case"multiple":m=ne;default:ln(i,l,b,ne,u,null)}l=j,u=F,i.multiple=!!m,l!=null?Pa(i,!!m,l,!1):u!=null&&Pa(i,!!m,u,!0);return;case"textarea":Ms("invalid",i),j=b=m=null;for(F in u)if(u.hasOwnProperty(F)&&(ne=u[F],ne!=null))switch(F){case"value":m=ne;break;case"defaultValue":b=ne;break;case"children":j=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(91));break;default:ln(i,l,F,ne,u,null)}yo(i,m,b,j),$a(i);return;case"option":for(ye in u)if(u.hasOwnProperty(ye)&&(m=u[ye],m!=null))switch(ye){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ln(i,l,ye,m,u,null)}return;case"dialog":Ms("beforetoggle",i),Ms("toggle",i),Ms("cancel",i),Ms("close",i);break;case"iframe":case"object":Ms("load",i);break;case"video":case"audio":for(m=0;m<mf.length;m++)Ms(mf[m],i);break;case"image":Ms("error",i),Ms("load",i);break;case"details":Ms("toggle",i);break;case"embed":case"source":case"link":Ms("error",i),Ms("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ue in u)if(u.hasOwnProperty(Ue)&&(m=u[Ue],m!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ln(i,l,Ue,m,u,null)}return;default:if(wo(l)){for(st in u)u.hasOwnProperty(st)&&(m=u[st],m!==void 0&&bx(i,l,st,m,u,void 0));return}}for(ne in u)u.hasOwnProperty(ne)&&(m=u[ne],m!=null&&ln(i,l,ne,m,u,null))}function I_(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,j=null,F=null,ne=null,ye=null,Ue=null,st=null;for(We in u){var ft=u[We];if(u.hasOwnProperty(We)&&ft!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":ye=ft;default:m.hasOwnProperty(We)||ln(i,l,We,null,m,ft)}}for(var $e in m){var We=m[$e];if(ft=u[$e],m.hasOwnProperty($e)&&(We!=null||ft!=null))switch($e){case"type":j=We;break;case"name":b=We;break;case"checked":Ue=We;break;case"defaultChecked":st=We;break;case"value":F=We;break;case"defaultValue":ne=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(a(137,l));break;default:We!==ft&&ln(i,l,$e,We,m,ft)}}hr(i,F,ne,ye,Ue,st,j,b);return;case"select":We=F=ne=$e=null;for(j in u)if(ye=u[j],u.hasOwnProperty(j)&&ye!=null)switch(j){case"value":break;case"multiple":We=ye;default:m.hasOwnProperty(j)||ln(i,l,j,null,m,ye)}for(b in m)if(j=m[b],ye=u[b],m.hasOwnProperty(b)&&(j!=null||ye!=null))switch(b){case"value":$e=j;break;case"defaultValue":ne=j;break;case"multiple":F=j;default:j!==ye&&ln(i,l,b,j,m,ye)}l=ne,u=F,m=We,$e!=null?Pa(i,!!u,$e,!1):!!m!=!!u&&(l!=null?Pa(i,!!u,l,!0):Pa(i,!!u,u?[]:"",!1));return;case"textarea":We=$e=null;for(ne in u)if(b=u[ne],u.hasOwnProperty(ne)&&b!=null&&!m.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:ln(i,l,ne,null,m,b)}for(F in m)if(b=m[F],j=u[F],m.hasOwnProperty(F)&&(b!=null||j!=null))switch(F){case"value":$e=b;break;case"defaultValue":We=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==j&&ln(i,l,F,b,m,j)}fr(i,$e,We);return;case"option":for(var os in u)if($e=u[os],u.hasOwnProperty(os)&&$e!=null&&!m.hasOwnProperty(os))switch(os){case"selected":i.selected=!1;break;default:ln(i,l,os,null,m,$e)}for(ye in m)if($e=m[ye],We=u[ye],m.hasOwnProperty(ye)&&$e!==We&&($e!=null||We!=null))switch(ye){case"selected":i.selected=$e&&typeof $e!="function"&&typeof $e!="symbol";break;default:ln(i,l,ye,$e,m,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in u)$e=u[Qt],u.hasOwnProperty(Qt)&&$e!=null&&!m.hasOwnProperty(Qt)&&ln(i,l,Qt,null,m,$e);for(Ue in m)if($e=m[Ue],We=u[Ue],m.hasOwnProperty(Ue)&&$e!==We&&($e!=null||We!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(a(137,l));break;default:ln(i,l,Ue,$e,m,We)}return;default:if(wo(l)){for(var cn in u)$e=u[cn],u.hasOwnProperty(cn)&&$e!==void 0&&!m.hasOwnProperty(cn)&&bx(i,l,cn,void 0,m,$e);for(st in m)$e=m[st],We=u[st],!m.hasOwnProperty(st)||$e===We||$e===void 0&&We===void 0||bx(i,l,st,$e,m,We);return}}for(var Me in u)$e=u[Me],u.hasOwnProperty(Me)&&$e!=null&&!m.hasOwnProperty(Me)&&ln(i,l,Me,null,m,$e);for(ft in m)$e=m[ft],We=u[ft],!m.hasOwnProperty(ft)||$e===We||$e==null&&We==null||ln(i,l,ft,$e,m,We)}var yx=null,vx=null;function wp(i){return i.nodeType===9?i:i.ownerDocument}function jv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function wx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Nx=null;function q_(){var i=window.event;return i&&i.type==="popstate"?i===Nx?!1:(Nx=i,!0):(Nx=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(i){return Av.resolve(null).then(i).catch(H_)}:_v;function H_(i){setTimeout(function(){throw i})}function Tc(i){return i==="head"}function Cv(i,l){var u=l,m=0,b=0;do{var j=u.nextSibling;if(i.removeChild(u),j&&j.nodeType===8)if(u=j.data,u==="/$"){if(0<m&&8>m){u=m;var F=i.ownerDocument;if(u&1&&gf(F.documentElement),u&2&&gf(F.body),u&4)for(u=F.head,gf(u),F=u.firstChild;F;){var ne=F.nextSibling,ye=F.nodeName;F[hs]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&F.rel.toLowerCase()==="stylesheet"||u.removeChild(F),F=ne}}if(b===0){i.removeChild(j),Sf(l);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:m=u.charCodeAt(0)-48;else m=0;u=j}while(u);Sf(l)}function jx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jx(u),we(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function $_(i,l,u,m){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[hs])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var j=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=lo(i.nextSibling),i===null)break}return null}function Y_(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=lo(i.nextSibling),i===null))return null;return i}function Sx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function W_(i,l){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function lo(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var _x=null;function kv(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}function Dv(i,l,u){switch(l=wp(u),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function gf(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);we(i)}var Li=new Map,Ev=new Set;function Np(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Il=J.d;J.d={f:G_,r:X_,D:K_,C:Z_,L:J_,m:Q_,X:tA,S:eA,M:sA};function G_(){var i=Il.f(),l=fp();return i||l}function X_(i){var l=kt(i);l!==null&&l.tag===5&&l.type==="form"?Ed(l):Il.r(i)}var $u=typeof document>"u"?null:document;function Lv(i,l,u){var m=$u;if(m&&typeof l=="string"&&l){var b=zs(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),Ev.has(b)||(Ev.add(b),i={rel:i,crossOrigin:u,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),qa(l,"link",i),bs(l),m.head.appendChild(l)))}}function K_(i){Il.D(i),Lv("dns-prefetch",i,null)}function Z_(i,l){Il.C(i,l),Lv("preconnect",i,l)}function J_(i,l,u){Il.L(i,l,u);var m=$u;if(m&&i&&l){var b='link[rel="preload"][as="'+zs(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+zs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+zs(u.imageSizes)+'"]')):b+='[href="'+zs(i)+'"]';var j=b;switch(l){case"style":j=Yu(i);break;case"script":j=Wu(i)}Li.has(j)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Li.set(j,i),m.querySelector(b)!==null||l==="style"&&m.querySelector(xf(j))||l==="script"&&m.querySelector(bf(j))||(l=m.createElement("link"),qa(l,"link",i),bs(l),m.head.appendChild(l)))}}function Q_(i,l){Il.m(i,l);var u=$u;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+zs(m)+'"][href="'+zs(i)+'"]',j=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Wu(i)}if(!Li.has(j)&&(i=p({rel:"modulepreload",href:i},l),Li.set(j,i),u.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(bf(j)))return}m=u.createElement("link"),qa(m,"link",i),bs(m),u.head.appendChild(m)}}}function eA(i,l,u){Il.S(i,l,u);var m=$u;if(m&&i){var b=ps(m).hoistableStyles,j=Yu(i);l=l||"default";var F=b.get(j);if(!F){var ne={loading:0,preload:null};if(F=m.querySelector(xf(j)))ne.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Li.get(j))&&Ax(i,u);var ye=F=m.createElement("link");bs(ye),qa(ye,"link",i),ye._p=new Promise(function(Ue,st){ye.onload=Ue,ye.onerror=st}),ye.addEventListener("load",function(){ne.loading|=1}),ye.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,jp(F,l,m)}F={type:"stylesheet",instance:F,count:1,state:ne},b.set(j,F)}}}function tA(i,l){Il.X(i,l);var u=$u;if(u&&i){var m=ps(u).hoistableScripts,b=Wu(i),j=m.get(b);j||(j=u.querySelector(bf(b)),j||(i=p({src:i,async:!0},l),(l=Li.get(b))&&Cx(i,l),j=u.createElement("script"),bs(j),qa(j,"link",i),u.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},m.set(b,j))}}function sA(i,l){Il.M(i,l);var u=$u;if(u&&i){var m=ps(u).hoistableScripts,b=Wu(i),j=m.get(b);j||(j=u.querySelector(bf(b)),j||(i=p({src:i,async:!0,type:"module"},l),(l=Li.get(b))&&Cx(i,l),j=u.createElement("script"),bs(j),qa(j,"link",i),u.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},m.set(b,j))}}function Tv(i,l,u,m){var b=(b=I.current)?Np(b):null;if(!b)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Yu(u.href),u=ps(b).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Yu(u.href);var j=ps(b).hoistableStyles,F=j.get(i);if(F||(b=b.ownerDocument||b,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,F),(j=b.querySelector(xf(i)))&&!j._p&&(F.instance=j,F.state.loading=5),Li.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Li.set(i,u),j||nA(b,i,u,F.state))),l&&m===null)throw Error(a(528,""));return F}if(l&&m!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Wu(u),u=ps(b).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Yu(i){return'href="'+zs(i)+'"'}function xf(i){return'link[rel="stylesheet"]['+i+"]"}function Mv(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function nA(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),qa(l,"link",u),bs(l),i.head.appendChild(l))}function Wu(i){return'[src="'+zs(i)+'"]'}function bf(i){return"script[async]"+i}function Pv(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+zs(u.href)+'"]');if(m)return l.instance=m,bs(m),m;var b=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),bs(m),qa(m,"style",b),jp(m,u.precedence,i),l.instance=m;case"stylesheet":b=Yu(u.href);var j=i.querySelector(xf(b));if(j)return l.state.loading|=4,l.instance=j,bs(j),j;m=Mv(u),(b=Li.get(b))&&Ax(m,b),j=(i.ownerDocument||i).createElement("link"),bs(j);var F=j;return F._p=new Promise(function(ne,ye){F.onload=ne,F.onerror=ye}),qa(j,"link",m),l.state.loading|=4,jp(j,u.precedence,i),l.instance=j;case"script":return j=Wu(u.src),(b=i.querySelector(bf(j)))?(l.instance=b,bs(b),b):(m=u,(b=Li.get(j))&&(m=p({},u),Cx(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),bs(b),qa(b,"link",m),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,jp(m,u.precedence,i));return l.instance}function jp(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,j=b,F=0;F<m.length;F++){var ne=m[F];if(ne.dataset.precedence===l)j=ne;else if(j!==b)break}j?j.parentNode.insertBefore(i,j.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Ax(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Cx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Sp=null;function Ov(i,l,u){if(Sp===null){var m=new Map,b=Sp=new Map;b.set(u,m)}else b=Sp,m=b.get(u),m||(m=new Map,b.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var j=u[b];if(!(j[hs]||j[vs]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var F=j.getAttribute(l)||"";F=i+F;var ne=m.get(F);ne?ne.push(j):m.set(F,[j])}}return m}function Rv(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function aA(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Fv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yf=null;function rA(){}function iA(i,l,u){if(yf===null)throw Error(a(475));var m=yf;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=Yu(u.href),j=i.querySelector(xf(b));if(j){i=j._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=_p.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=j,bs(j);return}j=i.ownerDocument||i,u=Mv(u),(b=Li.get(b))&&Ax(u,b),j=j.createElement("link"),bs(j);var F=j;F._p=new Promise(function(ne,ye){F.onload=ne,F.onerror=ye}),qa(j,"link",u),l.instance=j}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=_p.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function oA(){if(yf===null)throw Error(a(475));var i=yf;return i.stylesheets&&i.count===0&&kx(i,i.stylesheets),0<i.count?function(l){var u=setTimeout(function(){if(i.stylesheets&&kx(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u)}}:null}function _p(){if(this.count--,this.count===0){if(this.stylesheets)kx(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ap=null;function kx(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ap=new Map,l.forEach(lA,i),Ap=null,_p.call(i))}function lA(i,l){if(!(l.state.loading&4)){var u=Ap.get(i);if(u)var m=u.get(null);else{u=new Map,Ap.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<b.length;j++){var F=b[j];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(u.set(F.dataset.precedence,F),m=F)}m&&u.set(null,m)}b=l.instance,F=b.getAttribute("data-precedence"),j=u.get(F)||m,j===m&&u.set(null,b),u.set(F,b),this.count++,m=_p.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),j?j.parentNode.insertBefore(b,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var vf={$$typeof:L,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function cA(i,l,u,m,b,j,F,ne){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=j,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function Bv(i,l,u,m,b,j,F,ne,ye,Ue,st,ft){return i=new cA(i,l,u,F,ne,ye,Ue,ft),l=1,j===!0&&(l|=24),j=Aa(3,null,null,l),i.current=j,j.stateNode=i,l=Uh(),l.refCount++,i.pooledCache=l,l.refCount++,j.memoizedState={element:m,isDehydrated:u,cache:l},Ae(j),i}function zv(i){return i?(i=ha,i):ha}function Iv(i,l,u,m,b,j){b=zv(b),m.context===null?m.context=b:m.pendingContext=b,m=tt(l),m.payload={element:u},j=j===void 0?null:j,j!==null&&(m.callback=j),u=dt(i,m,l),u!==null&&(ci(u,i,l),at(u,i,l))}function qv(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Dx(i,l){qv(i,l),(i=i.alternate)&&qv(i,l)}function Uv(i){if(i.tag===13){var l=Xi(i,67108864);l!==null&&ci(l,i,67108864),Dx(i,67108864)}}var Cp=!0;function dA(i,l,u,m){var b=z.T;z.T=null;var j=J.p;try{J.p=2,Ex(i,l,u,m)}finally{J.p=j,z.T=b}}function uA(i,l,u,m){var b=z.T;z.T=null;var j=J.p;try{J.p=8,Ex(i,l,u,m)}finally{J.p=j,z.T=b}}function Ex(i,l,u,m){if(Cp){var b=Lx(m);if(b===null)xx(i,l,m,kp,u),Hv(i,m);else if(fA(b,i,l,u,m))m.stopPropagation();else if(Hv(i,m),l&4&&-1<hA.indexOf(i)){for(;b!==null;){var j=kt(b);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var F=Re(j.pendingLanes);if(F!==0){var ne=j;for(ne.pendingLanes|=2,ne.entangledLanes|=2;F;){var ye=1<<31-fe(F);ne.entanglements[1]|=ye,F&=~ye}Ko(j),(Qs&6)===0&&(up=gt()+500,ff(0))}}break;case 13:ne=Xi(j,2),ne!==null&&ci(ne,j,2),fp(),Dx(j,2)}if(j=Lx(m),j===null&&xx(i,l,m,kp,u),j===b)break;b=j}b!==null&&m.stopPropagation()}else xx(i,l,m,null,u)}}function Lx(i){return i=En(i),Tx(i)}var kp=null;function Tx(i){if(kp=null,i=mt(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return kp=i,null}function Vv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case Ve:return 2;case Ze:return 8;case ct:case ve:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Mx=!1,Mc=null,Pc=null,Oc=null,wf=new Map,Nf=new Map,Rc=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(i,l){switch(i){case"focusin":case"focusout":Mc=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":wf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(l.pointerId)}}function jf(i,l,u,m,b,j){return i===null||i.nativeEvent!==j?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:j,targetContainers:[b]},l!==null&&(l=kt(l),l!==null&&Uv(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function fA(i,l,u,m,b){switch(l){case"focusin":return Mc=jf(Mc,i,l,u,m,b),!0;case"dragenter":return Pc=jf(Pc,i,l,u,m,b),!0;case"mouseover":return Oc=jf(Oc,i,l,u,m,b),!0;case"pointerover":var j=b.pointerId;return wf.set(j,jf(wf.get(j)||null,i,l,u,m,b)),!0;case"gotpointercapture":return j=b.pointerId,Nf.set(j,jf(Nf.get(j)||null,i,l,u,m,b)),!0}return!1}function $v(i){var l=mt(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,jn(i.priority,function(){if(u.tag===13){var m=li();m=js(m);var b=Xi(u,m);b!==null&&ci(b,u,m),Dx(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dp(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Lx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Vi=m,u.target.dispatchEvent(m),Vi=null}else return l=kt(u),l!==null&&Uv(l),i.blockedOn=u,!1;l.shift()}return!0}function Yv(i,l,u){Dp(i)&&u.delete(l)}function mA(){Mx=!1,Mc!==null&&Dp(Mc)&&(Mc=null),Pc!==null&&Dp(Pc)&&(Pc=null),Oc!==null&&Dp(Oc)&&(Oc=null),wf.forEach(Yv),Nf.forEach(Yv)}function Ep(i,l){i.blockedOn===l&&(i.blockedOn=null,Mx||(Mx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mA)))}var Lp=null;function Wv(i){Lp!==i&&(Lp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lp===i&&(Lp=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],b=i[l+2];if(typeof m!="function"){if(Tx(m||u)===null)continue;break}var j=kt(u);j!==null&&(i.splice(l,3),l-=3,ki(j,{pending:!0,data:b,method:u.method,action:m},m,b))}}))}function Sf(i){function l(ye){return Ep(ye,i)}Mc!==null&&Ep(Mc,i),Pc!==null&&Ep(Pc,i),Oc!==null&&Ep(Oc,i),wf.forEach(l),Nf.forEach(l);for(var u=0;u<Rc.length;u++){var m=Rc[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Rc.length&&(u=Rc[0],u.blockedOn===null);)$v(u),u.blockedOn===null&&Rc.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var b=u[m],j=u[m+1],F=b[cs]||null;if(typeof j=="function")F||Wv(u);else if(F){var ne=null;if(j&&j.hasAttribute("formAction")){if(b=j,F=j[cs]||null)ne=F.formAction;else if(Tx(b)!==null)continue}else ne=F.action;typeof ne=="function"?u[m+1]=ne:(u.splice(m,3),m-=3),Wv(u)}}}function Px(i){this._internalRoot=i}Tp.prototype.render=Px.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,m=li();Iv(u,m,i,l,null,null)},Tp.prototype.unmount=Px.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Iv(i.current,2,null,i,null,null),fp(),l[Fe]=null}};function Tp(i){this._internalRoot=i}Tp.prototype.unstable_scheduleHydration=function(i){if(i){var l=xn();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Rc.length&&l!==0&&l<Rc[u].priority;u++);Rc.splice(u,0,i),u===0&&$v(i)}};var Gv=e.version;if(Gv!=="19.1.0")throw Error(a(527,Gv,"19.1.0"));J.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=h(l),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var pA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mp.isDisabled&&Mp.supportsFiber)try{St=Mp.inject(pA),rt=Mp}catch{}}return Af.createRoot=function(i,l){if(!r(i))throw Error(a(299));var u=!1,m="",b=d1,j=u1,F=h1,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ne=l.unstable_transitionCallbacks)),l=Bv(i,1,!1,null,null,u,m,b,j,F,ne,null),i[Fe]=l.current,gx(i),new Px(l)},Af.hydrateRoot=function(i,l,u){if(!r(i))throw Error(a(299));var m=!1,b="",j=d1,F=u1,ne=h1,ye=null,Ue=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(j=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(ne=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ye=u.unstable_transitionCallbacks),u.formState!==void 0&&(Ue=u.formState)),l=Bv(i,1,!0,l,u??null,m,b,j,F,ne,ye,Ue),l.context=zv(null),u=l.current,m=li(),m=js(m),b=tt(m),b.callback=null,dt(u,b,m),u=m,l.current.lanes=u,Zt(l,u),Ko(l),i[Fe]=l.current,gx(i),new Tp(l)},Af.version="19.1.0",Af}var a5;function kA(){if(a5)return Fx.exports;a5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fx.exports=CA(),Fx.exports}var DA=kA();/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase()),r5=t=>{const e=LA(t);return e.charAt(0).toUpperCase()+e.slice(1)},Yj=(...t)=>t.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim(),TA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:c,...d},h)=>P.createElement("svg",{ref:h,...MA,width:e,height:e,stroke:t,strokeWidth:a?Number(s)*24/Number(e):s,className:Yj("lucide",r),...!o&&!TA(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>P.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,e)=>{const s=P.forwardRef(({className:a,...r},o)=>P.createElement(PA,{ref:o,iconNode:e,className:Yj(`lucide-${EA(r5(t))}`,`lucide-${t}`,a),...r}));return s.displayName=r5(t),s};/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],RA=Bt("arrow-right",OA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],Wj=Bt("baby",FA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sg=Bt("briefcase",BA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Nr=Bt("building-2",zA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Gj=Bt("building",IA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hn=Bt("calendar",qA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],VA=Bt("camera",UA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],$A=Bt("chart-column",HA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],WA=Bt("chart-pie",YA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Oi=Bt("check",GA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zd=Bt("chevron-down",XA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ng=Bt("chevron-left",KA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ru=Bt("chevron-right",ZA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zr=Bt("circle-alert",JA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],po=Bt("circle-check-big",QA);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i5=Bt("circle-check",eC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_0=Bt("circle-x",tC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nC=Bt("circle",sC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],rC=Bt("clipboard",aC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],jr=Bt("clock",iC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M12 12v4",key:"tww15h"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M17 18h.5a1 1 0 0 0 0-9h-1.79A7 7 0 1 0 7 17.708",key:"xsb5ju"}]],lC=Bt("cloud-alert",oC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],o5=Bt("coffee",cC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xj=Bt("credit-card",dC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wa=Bt("dollar-sign",uC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bh=Bt("download",hC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],l5=Bt("eye-off",fC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qc=Bt("eye",mC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],gC=Bt("file-question-mark",pC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ar=Bt("file-text",xC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],c5=Bt("file",bC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_h=Bt("funnel",yC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wC=Bt("globe",vC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],My=Bt("heart",NC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],SC=Bt("house",jC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],AC=Bt("image",_C);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kC=Bt("info",CC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],lh=Bt("layers",DC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],di=Bt("loader-circle",EC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],d5=Bt("lock",LC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MC=Bt("log-out",TC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ag=Bt("mail",PC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rg=Bt("map-pin",OC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],FC=Bt("pen-line",RC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],If=Bt("pen",BC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],IC=Bt("percent",zC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Hc=Bt("phone",qC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],VC=Bt("plane",UC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zc=Bt("plus",HC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],YC=Bt("printer",$C);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],o0=Bt("refresh-cw",WC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Kj=Bt("save",GC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ga=Bt("search",XC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zj=Bt("settings",KC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ig=Bt("shield",ZC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Py=Bt("square-pen",JC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ek=Bt("target",QC);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],sk=Bt("timer",tk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],or=Bt("trash-2",nk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],u5=Bt("triangle-alert",ak);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ed=Bt("upload",rk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Va=Bt("user-check",ik);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],lk=Bt("user-x",ok);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vr=Bt("user",ck);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ha=Bt("users",dk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hk=Bt("wallet",uk);/**
 * @license lucide-react v0.522.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],As=Bt("x",fk);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Sm(t){return t+.5|0}const $c=(t,e,s)=>Math.max(Math.min(t,s),e);function qf(t){return $c(Sm(t*2.55),0,255)}function Jc(t){return $c(Sm(t*255),0,255)}function $l(t){return $c(Sm(t/2.55)/100,0,1)}function h5(t){return $c(Sm(t*100),0,100)}const Ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Lb=[..."0123456789ABCDEF"],mk=t=>Lb[t&15],pk=t=>Lb[(t&240)>>4]+Lb[t&15],Pp=t=>(t&240)>>4===(t&15),gk=t=>Pp(t.r)&&Pp(t.g)&&Pp(t.b)&&Pp(t.a);function xk(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Ti[t[1]]*17,g:255&Ti[t[2]]*17,b:255&Ti[t[3]]*17,a:e===5?Ti[t[4]]*17:255}:(e===7||e===9)&&(s={r:Ti[t[1]]<<4|Ti[t[2]],g:Ti[t[3]]<<4|Ti[t[4]],b:Ti[t[5]]<<4|Ti[t[6]],a:e===9?Ti[t[7]]<<4|Ti[t[8]]:255})),s}const bk=(t,e)=>t<255?e(t):"";function yk(t){var e=gk(t)?mk:pk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+bk(t.a,e):void 0}const vk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jj(t,e,s){const a=e*Math.min(s,1-s),r=(o,c=(o+t/30)%12)=>s-a*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function wk(t,e,s){const a=(r,o=(r+t/60)%6)=>s-s*e*Math.max(Math.min(o,4-o,1),0);return[a(5),a(3),a(1)]}function Nk(t,e,s){const a=Jj(t,1,.5);let r;for(e+s>1&&(r=1/(e+s),e*=r,s*=r),r=0;r<3;r++)a[r]*=1-e-s,a[r]+=e;return a}function jk(t,e,s,a,r){return t===r?(e-s)/a+(e<s?6:0):e===r?(s-t)/a+2:(t-e)/a+4}function Oy(t){const s=t.r/255,a=t.g/255,r=t.b/255,o=Math.max(s,a,r),c=Math.min(s,a,r),d=(o+c)/2;let h,f,p;return o!==c&&(p=o-c,f=d>.5?p/(2-o-c):p/(o+c),h=jk(s,a,r,p,o),h=h*60+.5),[h|0,f||0,d]}function Ry(t,e,s,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,a)).map(Jc)}function Fy(t,e,s){return Ry(Jj,t,e,s)}function Sk(t,e,s){return Ry(Nk,t,e,s)}function _k(t,e,s){return Ry(wk,t,e,s)}function Qj(t){return(t%360+360)%360}function Ak(t){const e=vk.exec(t);let s=255,a;if(!e)return;e[5]!==a&&(s=e[6]?qf(+e[5]):Jc(+e[5]));const r=Qj(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?a=Sk(r,o,c):e[1]==="hsv"?a=_k(r,o,c):a=Fy(r,o,c),{r:a[0],g:a[1],b:a[2],a:s}}function Ck(t,e){var s=Oy(t);s[0]=Qj(s[0]+e),s=Fy(s),t.r=s[0],t.g=s[1],t.b=s[2]}function kk(t){if(!t)return;const e=Oy(t),s=e[0],a=h5(e[1]),r=h5(e[2]);return t.a<255?`hsla(${s}, ${a}%, ${r}%, ${$l(t.a)})`:`hsl(${s}, ${a}%, ${r}%)`}const f5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},m5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Dk(){const t={},e=Object.keys(m5),s=Object.keys(f5);let a,r,o,c,d;for(a=0;a<e.length;a++){for(c=d=e[a],r=0;r<s.length;r++)o=s[r],d=d.replace(o,f5[o]);o=parseInt(m5[c],16),t[d]=[o>>16&255,o>>8&255,o&255]}return t}let Op;function Ek(t){Op||(Op=Dk(),Op.transparent=[0,0,0,0]);const e=Op[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Lk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tk(t){const e=Lk.exec(t);let s=255,a,r,o;if(e){if(e[7]!==a){const c=+e[7];s=e[8]?qf(c):$c(c*255,0,255)}return a=+e[1],r=+e[3],o=+e[5],a=255&(e[2]?qf(a):$c(a,0,255)),r=255&(e[4]?qf(r):$c(r,0,255)),o=255&(e[6]?qf(o):$c(o,0,255)),{r:a,g:r,b:o,a:s}}}function Mk(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$l(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Pk(t,e,s){const a=Gu($l(t.r)),r=Gu($l(t.g)),o=Gu($l(t.b));return{r:Jc(qx(a+s*(Gu($l(e.r))-a))),g:Jc(qx(r+s*(Gu($l(e.g))-r))),b:Jc(qx(o+s*(Gu($l(e.b))-o))),a:t.a+s*(e.a-t.a)}}function Rp(t,e,s){if(t){let a=Oy(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*s,e===0?360:1)),a=Fy(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function e4(t,e){return t&&Object.assign(e||{},t)}function p5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Jc(t[3]))):(e=e4(t,{r:0,g:0,b:0,a:1}),e.a=Jc(e.a)),e}function Ok(t){return t.charAt(0)==="r"?Tk(t):Ak(t)}class im{constructor(e){if(e instanceof im)return e;const s=typeof e;let a;s==="object"?a=p5(e):s==="string"&&(a=xk(e)||Ek(e)||Ok(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=e4(this._rgb);return e&&(e.a=$l(e.a)),e}set rgb(e){this._rgb=p5(e)}rgbString(){return this._valid?Mk(this._rgb):void 0}hexString(){return this._valid?yk(this._rgb):void 0}hslString(){return this._valid?kk(this._rgb):void 0}mix(e,s){if(e){const a=this.rgb,r=e.rgb;let o;const c=s===o?.5:s,d=2*c-1,h=a.a-r.a,f=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-f,a.r=255&f*a.r+o*r.r+.5,a.g=255&f*a.g+o*r.g+.5,a.b=255&f*a.b+o*r.b+.5,a.a=c*a.a+(1-c)*r.a,this.rgb=a}return this}interpolate(e,s){return e&&(this._rgb=Pk(this._rgb,e._rgb,s)),this}clone(){return new im(this.rgb)}alpha(e){return this._rgb.a=Jc(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Sm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Rp(this._rgb,2,e),this}darken(e){return Rp(this._rgb,2,-e),this}saturate(e){return Rp(this._rgb,1,e),this}desaturate(e){return Rp(this._rgb,1,-e),this}rotate(e){return Ck(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ql(){}const Rk=(()=>{let t=0;return()=>t++})();function Ks(t){return t==null}function Na(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qs(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Bi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zo(t,e){return Bi(t)?t:e}function Ds(t,e){return typeof t>"u"?e:t}const Fk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,t4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function wn(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function sn(t,e,s,a){let r,o,c;if(Na(t))for(o=t.length,r=0;r<o;r++)e.call(s,t[r],r);else if(qs(t))for(c=Object.keys(t),o=c.length,r=0;r<o;r++)e.call(s,t[c[r]],c[r])}function A0(t,e){let s,a,r,o;if(!t||!e||t.length!==e.length)return!1;for(s=0,a=t.length;s<a;++s)if(r=t[s],o=e[s],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function C0(t){if(Na(t))return t.map(C0);if(qs(t)){const e=Object.create(null),s=Object.keys(t),a=s.length;let r=0;for(;r<a;++r)e[s[r]]=C0(t[s[r]]);return e}return t}function s4(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Bk(t,e,s,a){if(!s4(t))return;const r=e[t],o=s[t];qs(r)&&qs(o)?om(r,o,a):e[t]=C0(o)}function om(t,e,s){const a=Na(e)?e:[e],r=a.length;if(!qs(t))return t;s=s||{};const o=s.merger||Bk;let c;for(let d=0;d<r;++d){if(c=a[d],!qs(c))continue;const h=Object.keys(c);for(let f=0,p=h.length;f<p;++f)o(h[f],t,c,s)}return t}function Kf(t,e){return om(t,e,{merger:zk})}function zk(t,e,s){if(!s4(t))return;const a=e[t],r=s[t];qs(a)&&qs(r)?Kf(a,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=C0(r))}const g5={"":t=>t,x:t=>t.x,y:t=>t.y};function Ik(t){const e=t.split("."),s=[];let a="";for(const r of e)a+=r,a.endsWith("\\")?a=a.slice(0,-1)+".":(s.push(a),a="");return s}function qk(t){const e=Ik(t);return s=>{for(const a of e){if(a==="")break;s=s&&s[a]}return s}}function iu(t,e){return(g5[e]||(g5[e]=qk(e)))(t)}function By(t){return t.charAt(0).toUpperCase()+t.slice(1)}const lm=t=>typeof t<"u",td=t=>typeof t=="function",x5=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function Uk(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nn=Math.PI,Yn=2*nn,Vk=Yn+nn,k0=Number.POSITIVE_INFINITY,Hk=nn/180,ja=nn/2,Rd=nn/4,b5=nn*2/3,n4=Math.log10,rl=Math.sign;function Zf(t,e,s){return Math.abs(t-e)<s}function y5(t){const e=Math.round(t);t=Zf(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(n4(t))),a=t/s;return(a<=1?1:a<=2?2:a<=5?5:10)*s}function $k(t){const e=[],s=Math.sqrt(t);let a;for(a=1;a<s;a++)t%a===0&&(e.push(a),e.push(t/a));return s===(s|0)&&e.push(s),e.sort((r,o)=>r-o).pop(),e}function Yk(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function cm(t){return!Yk(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Wk(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function Gk(t,e,s){let a,r,o;for(a=0,r=t.length;a<r;a++)o=t[a][s],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Yl(t){return t*(nn/180)}function Xk(t){return t*(180/nn)}function v5(t){if(!Bi(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function a4(t,e){const s=e.x-t.x,a=e.y-t.y,r=Math.sqrt(s*s+a*a);let o=Math.atan2(a,s);return o<-.5*nn&&(o+=Yn),{angle:o,distance:r}}function Tb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Kk(t,e){return(t-e+Vk)%Yn-nn}function mo(t){return(t%Yn+Yn)%Yn}function dm(t,e,s,a){const r=mo(t),o=mo(e),c=mo(s),d=mo(o-r),h=mo(c-r),f=mo(r-o),p=mo(r-c);return r===o||r===c||a&&o===c||d>h&&f<p}function lr(t,e,s){return Math.max(e,Math.min(s,t))}function Zk(t){return lr(t,-32768,32767)}function Yc(t,e,s,a=1e-6){return t>=Math.min(e,s)-a&&t<=Math.max(e,s)+a}function zy(t,e,s){s=s||(c=>t[c]<e);let a=t.length-1,r=0,o;for(;a-r>1;)o=r+a>>1,s(o)?r=o:a=o;return{lo:r,hi:a}}const Wd=(t,e,s,a)=>zy(t,s,a?r=>{const o=t[r][e];return o<s||o===s&&t[r+1][e]===s}:r=>t[r][e]<s),Jk=(t,e,s)=>zy(t,s,a=>t[a][e]>=s);function Qk(t,e,s){let a=0,r=t.length;for(;a<r&&t[a]<e;)a++;for(;r>a&&t[r-1]>s;)r--;return a>0||r<t.length?t.slice(a,r):t}const r4=["push","pop","shift","splice","unshift"];function e8(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),r4.forEach(s=>{const a="_onData"+By(s),r=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return t._chartjs.listeners.forEach(d=>{typeof d[a]=="function"&&d[a](...o)}),c}})})}function w5(t,e){const s=t._chartjs;if(!s)return;const a=s.listeners,r=a.indexOf(e);r!==-1&&a.splice(r,1),!(a.length>0)&&(r4.forEach(o=>{delete t[o]}),delete t._chartjs)}function i4(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const o4=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function l4(t,e){let s=[],a=!1;return function(...r){s=r,a||(a=!0,o4.call(window,()=>{a=!1,t.apply(e,s)}))}}function t8(t,e){let s;return function(...a){return e?(clearTimeout(s),s=setTimeout(t,e,a)):t.apply(this,a),e}}const Iy=t=>t==="start"?"left":t==="end"?"right":"center",nr=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,s8=(t,e,s,a)=>t===(a?"left":"right")?s:t==="center"?(e+s)/2:e;function n8(t,e,s){const a=e.length;let r=0,o=a;if(t._sorted){const{iScale:c,vScale:d,_parsed:h}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=c.axis,{min:x,max:v,minDefined:y,maxDefined:N}=c.getUserBounds();if(y){if(r=Math.min(Wd(h,p,x).lo,s?a:Wd(e,p,c.getPixelForValue(x)).lo),f){const _=h.slice(0,r+1).reverse().findIndex(k=>!Ks(k[d.axis]));r-=Math.max(0,_)}r=lr(r,0,a-1)}if(N){let _=Math.max(Wd(h,c.axis,v,!0).hi+1,s?0:Wd(e,p,c.getPixelForValue(v),!0).hi+1);if(f){const k=h.slice(_-1).findIndex(C=>!Ks(C[d.axis]));_+=Math.max(0,k)}o=lr(_,r,a)-r}else o=a-r}return{start:r,count:o}}function a8(t){const{xScale:e,yScale:s,_scaleRanges:a}=t,r={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!a)return t._scaleRanges=r,!0;const o=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==s.min||a.ymax!==s.max;return Object.assign(a,r),o}const Fp=t=>t===0||t===1,N5=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Yn/s)),j5=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Yn/s)+1,Jf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ja)+1,easeOutSine:t=>Math.sin(t*ja),easeInOutSine:t=>-.5*(Math.cos(nn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Fp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Fp(t)?t:N5(t,.075,.3),easeOutElastic:t=>Fp(t)?t:j5(t,.075,.3),easeInOutElastic(t){return Fp(t)?t:t<.5?.5*N5(t*2,.1125,.45):.5+.5*j5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Jf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Jf.easeInBounce(t*2)*.5:Jf.easeOutBounce(t*2-1)*.5+.5};function qy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function S5(t){return qy(t)?t:new im(t)}function Ux(t){return qy(t)?t:new im(t).saturate(.5).darken(.1).hexString()}const r8=["x","y","borderWidth","radius","tension"],i8=["color","borderColor","backgroundColor"];function o8(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:i8},numbers:{type:"number",properties:r8}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function l8(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const _5=new Map;function c8(t,e){e=e||{};const s=t+JSON.stringify(e);let a=_5.get(s);return a||(a=new Intl.NumberFormat(t,e),_5.set(s,a)),a}function Uy(t,e,s){return c8(e,s).format(t)}const d8={values(t){return Na(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const a=this.chart.options.locale;let r,o=t;if(s.length>1){const f=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=u8(t,s)}const c=n4(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),Uy(t,a,h)}};function u8(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var c4={formatters:d8};function h8(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:c4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ou=Object.create(null),Mb=Object.create(null);function Qf(t,e){if(!e)return t;const s=e.split(".");for(let a=0,r=s.length;a<r;++a){const o=s[a];t=t[o]||(t[o]=Object.create(null))}return t}function Vx(t,e,s){return typeof e=="string"?om(Qf(t,e),s):om(Qf(t,""),e)}class f8{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,r)=>Ux(r.backgroundColor),this.hoverBorderColor=(a,r)=>Ux(r.borderColor),this.hoverColor=(a,r)=>Ux(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Vx(this,e,s)}get(e){return Qf(this,e)}describe(e,s){return Vx(Mb,e,s)}override(e,s){return Vx(ou,e,s)}route(e,s,a,r){const o=Qf(this,e),c=Qf(this,a),d="_"+s;Object.defineProperties(o,{[d]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[d],f=c[r];return qs(h)?Object.assign({},f,h):Ds(h,f)},set(h){this[d]=h}}})}apply(e){e.forEach(s=>s(this))}}var ra=new f8({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[o8,l8,h8]);function m8(t){return!t||Ks(t.size)||Ks(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function A5(t,e,s,a,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,s.push(r)),o>a&&(a=o),a}function Fd(t,e,s){const a=t.currentDevicePixelRatio,r=s!==0?Math.max(s/2,.5):0;return Math.round((e-r)*a)/a+r}function C5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Pb(t,e,s,a){d4(t,e,s,a,null)}function d4(t,e,s,a,r){let o,c,d,h,f,p,x,v;const y=e.pointStyle,N=e.rotation,_=e.radius;let k=(N||0)*Hk;if(y&&typeof y=="object"&&(o=y.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(s,a),t.rotate(k),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),y){default:r?t.ellipse(s,a,r/2,_,0,0,Yn):t.arc(s,a,_,0,Yn),t.closePath();break;case"triangle":p=r?r/2:_,t.moveTo(s+Math.sin(k)*p,a-Math.cos(k)*_),k+=b5,t.lineTo(s+Math.sin(k)*p,a-Math.cos(k)*_),k+=b5,t.lineTo(s+Math.sin(k)*p,a-Math.cos(k)*_),t.closePath();break;case"rectRounded":f=_*.516,h=_-f,c=Math.cos(k+Rd)*h,x=Math.cos(k+Rd)*(r?r/2-f:h),d=Math.sin(k+Rd)*h,v=Math.sin(k+Rd)*(r?r/2-f:h),t.arc(s-x,a-d,f,k-nn,k-ja),t.arc(s+v,a-c,f,k-ja,k),t.arc(s+x,a+d,f,k,k+ja),t.arc(s-v,a+c,f,k+ja,k+nn),t.closePath();break;case"rect":if(!N){h=Math.SQRT1_2*_,p=r?r/2:h,t.rect(s-p,a-h,2*p,2*h);break}k+=Rd;case"rectRot":x=Math.cos(k)*(r?r/2:_),c=Math.cos(k)*_,d=Math.sin(k)*_,v=Math.sin(k)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+v,a-c),t.lineTo(s+x,a+d),t.lineTo(s-v,a+c),t.closePath();break;case"crossRot":k+=Rd;case"cross":x=Math.cos(k)*(r?r/2:_),c=Math.cos(k)*_,d=Math.sin(k)*_,v=Math.sin(k)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+v,a-c),t.lineTo(s-v,a+c);break;case"star":x=Math.cos(k)*(r?r/2:_),c=Math.cos(k)*_,d=Math.sin(k)*_,v=Math.sin(k)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+v,a-c),t.lineTo(s-v,a+c),k+=Rd,x=Math.cos(k)*(r?r/2:_),c=Math.cos(k)*_,d=Math.sin(k)*_,v=Math.sin(k)*(r?r/2:_),t.moveTo(s-x,a-d),t.lineTo(s+x,a+d),t.moveTo(s+v,a-c),t.lineTo(s-v,a+c);break;case"line":c=r?r/2:Math.cos(k)*_,d=Math.sin(k)*_,t.moveTo(s-c,a-d),t.lineTo(s+c,a+d);break;case"dash":t.moveTo(s,a),t.lineTo(s+Math.cos(k)*(r?r/2:_),a+Math.sin(k)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function um(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Vy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Hy(t){t.restore()}function p8(t,e,s,a,r){if(!e)return t.lineTo(s.x,s.y);if(r==="middle"){const o=(e.x+s.x)/2;t.lineTo(o,e.y),t.lineTo(o,s.y)}else r==="after"!=!!a?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function g8(t,e,s,a){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?s.cp2x:s.cp1x,a?s.cp2y:s.cp1y,s.x,s.y)}function x8(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ks(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function b8(t,e,s,a,r){if(r.strikethrough||r.underline){const o=t.measureText(a),c=e-o.actualBoundingBoxLeft,d=e+o.actualBoundingBoxRight,h=s-o.actualBoundingBoxAscent,f=s+o.actualBoundingBoxDescent,p=r.strikethrough?(h+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(c,p),t.lineTo(d,p),t.stroke()}}function y8(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function hm(t,e,s,a,r,o={}){const c=Na(e)?e:[e],d=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(t.save(),t.font=r.string,x8(t,o),h=0;h<c.length;++h)f=c[h],o.backdrop&&y8(t,o.backdrop),d&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Ks(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(f,s,a,o.maxWidth)),t.fillText(f,s,a,o.maxWidth),b8(t,s,a,f,o),a+=Number(r.lineHeight);t.restore()}function D0(t,e){const{x:s,y:a,w:r,h:o,radius:c}=e;t.arc(s+c.topLeft,a+c.topLeft,c.topLeft,1.5*nn,nn,!0),t.lineTo(s,a+o-c.bottomLeft),t.arc(s+c.bottomLeft,a+o-c.bottomLeft,c.bottomLeft,nn,ja,!0),t.lineTo(s+r-c.bottomRight,a+o),t.arc(s+r-c.bottomRight,a+o-c.bottomRight,c.bottomRight,ja,0,!0),t.lineTo(s+r,a+c.topRight),t.arc(s+r-c.topRight,a+c.topRight,c.topRight,0,-ja,!0),t.lineTo(s+c.topLeft,a)}const v8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,w8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function N8(t,e){const s=(""+t).match(v8);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const j8=t=>+t||0;function $y(t,e){const s={},a=qs(e),r=a?Object.keys(e):e,o=qs(t)?a?c=>Ds(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of r)s[c]=j8(o(c));return s}function u4(t){return $y(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ch(t){return $y(t,["topLeft","topRight","bottomLeft","bottomRight"])}function zi(t){const e=u4(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function cr(t,e){t=t||{},e=e||ra.font;let s=Ds(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let a=Ds(t.style,e.style);a&&!(""+a).match(w8)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const r={family:Ds(t.family,e.family),lineHeight:N8(Ds(t.lineHeight,e.lineHeight),s),size:s,style:a,weight:Ds(t.weight,e.weight),string:""};return r.string=m8(r),r}function Bp(t,e,s,a){let r,o,c;for(r=0,o=t.length;r<o;++r)if(c=t[r],c!==void 0&&c!==void 0)return c}function S8(t,e,s){const{min:a,max:r}=t,o=t4(e,(r-a)/2),c=(d,h)=>s&&d===0?0:d+h;return{min:c(a,-Math.abs(o)),max:c(r,o)}}function uu(t,e){return Object.assign(Object.create(t),e)}function Yy(t,e=[""],s,a,r=()=>t[0]){const o=s||t;typeof a>"u"&&(a=p4("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:a,_getTarget:r,override:d=>Yy([d,...t],e,o,a)};return new Proxy(c,{deleteProperty(d,h){return delete d[h],delete d._keys,delete t[0][h],!0},get(d,h){return f4(d,h,()=>T8(h,e,t,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,h){return D5(d).includes(h)},ownKeys(d){return D5(d)},set(d,h,f){const p=d._storage||(d._storage=r());return d[h]=p[h]=f,delete d._keys,!0}})}function yh(t,e,s,a){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:h4(t,a),setContext:o=>yh(t,o,s,a),override:o=>yh(t.override(o),e,s,a)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,d){return f4(o,c,()=>A8(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,d){return t[c]=d,delete o[c],!0}})}function h4(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:a=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:s,indexable:a,isScriptable:td(s)?s:()=>s,isIndexable:td(a)?a:()=>a}}const _8=(t,e)=>t?t+By(e):e,Wy=(t,e)=>qs(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function f4(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const a=s();return t[e]=a,a}function A8(t,e,s){const{_proxy:a,_context:r,_subProxy:o,_descriptors:c}=t;let d=a[e];return td(d)&&c.isScriptable(e)&&(d=C8(e,d,t,s)),Na(d)&&d.length&&(d=k8(e,d,t,c.isIndexable)),Wy(e,d)&&(d=yh(d,r,o&&o[e],c)),d}function C8(t,e,s,a){const{_proxy:r,_context:o,_subProxy:c,_stack:d}=s;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let h=e(o,c||a);return d.delete(t),Wy(t,h)&&(h=Gy(r._scopes,r,t,h)),h}function k8(t,e,s,a){const{_proxy:r,_context:o,_subProxy:c,_descriptors:d}=s;if(typeof o.index<"u"&&a(t))return e[o.index%e.length];if(qs(e[0])){const h=e,f=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=Gy(f,r,t,p);e.push(yh(x,o,c&&c[t],d))}}return e}function m4(t,e,s){return td(t)?t(e,s):t}const D8=(t,e)=>t===!0?e:typeof t=="string"?iu(e,t):void 0;function E8(t,e,s,a,r){for(const o of e){const c=D8(s,o);if(c){t.add(c);const d=m4(c._fallback,s,r);if(typeof d<"u"&&d!==s&&d!==a)return d}else if(c===!1&&typeof a<"u"&&s!==a)return null}return!1}function Gy(t,e,s,a){const r=e._rootScopes,o=m4(e._fallback,s,a),c=[...t,...r],d=new Set;d.add(a);let h=k5(d,c,s,o||s,a);return h===null||typeof o<"u"&&o!==s&&(h=k5(d,c,o,h,a),h===null)?!1:Yy(Array.from(d),[""],r,o,()=>L8(e,s,a))}function k5(t,e,s,a,r){for(;s;)s=E8(t,e,s,a,r);return s}function L8(t,e,s){const a=t._getTarget();e in a||(a[e]={});const r=a[e];return Na(r)&&qs(s)?s:r||{}}function T8(t,e,s,a){let r;for(const o of e)if(r=p4(_8(o,t),s),typeof r<"u")return Wy(t,r)?Gy(s,a,t,r):r}function p4(t,e){for(const s of e){if(!s)continue;const a=s[t];if(typeof a<"u")return a}}function D5(t){let e=t._keys;return e||(e=t._keys=M8(t._scopes)),e}function M8(t){const e=new Set;for(const s of t)for(const a of Object.keys(s).filter(r=>!r.startsWith("_")))e.add(a);return Array.from(e)}const P8=Number.EPSILON||1e-14,vh=(t,e)=>e<t.length&&!t[e].skip&&t[e],g4=t=>t==="x"?"y":"x";function O8(t,e,s,a){const r=t.skip?e:t,o=e,c=s.skip?e:s,d=Tb(o,r),h=Tb(c,o);let f=d/(d+h),p=h/(d+h);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const x=a*f,v=a*p;return{previous:{x:o.x-x*(c.x-r.x),y:o.y-x*(c.y-r.y)},next:{x:o.x+v*(c.x-r.x),y:o.y+v*(c.y-r.y)}}}function R8(t,e,s){const a=t.length;let r,o,c,d,h,f=vh(t,0);for(let p=0;p<a-1;++p)if(h=f,f=vh(t,p+1),!(!h||!f)){if(Zf(e[p],0,P8)){s[p]=s[p+1]=0;continue}r=s[p]/e[p],o=s[p+1]/e[p],d=Math.pow(r,2)+Math.pow(o,2),!(d<=9)&&(c=3/Math.sqrt(d),s[p]=r*c*e[p],s[p+1]=o*c*e[p])}}function F8(t,e,s="x"){const a=g4(s),r=t.length;let o,c,d,h=vh(t,0);for(let f=0;f<r;++f){if(c=d,d=h,h=vh(t,f+1),!d)continue;const p=d[s],x=d[a];c&&(o=(p-c[s])/3,d[`cp1${s}`]=p-o,d[`cp1${a}`]=x-o*e[f]),h&&(o=(h[s]-p)/3,d[`cp2${s}`]=p+o,d[`cp2${a}`]=x+o*e[f])}}function B8(t,e="x"){const s=g4(e),a=t.length,r=Array(a).fill(0),o=Array(a);let c,d,h,f=vh(t,0);for(c=0;c<a;++c)if(d=h,h=f,f=vh(t,c+1),!!h){if(f){const p=f[e]-h[e];r[c]=p!==0?(f[s]-h[s])/p:0}o[c]=d?f?rl(r[c-1])!==rl(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}R8(t,r,o),F8(t,o,e)}function zp(t,e,s){return Math.max(Math.min(t,s),e)}function z8(t,e){let s,a,r,o,c,d=um(t[0],e);for(s=0,a=t.length;s<a;++s)c=o,o=d,d=s<a-1&&um(t[s+1],e),o&&(r=t[s],c&&(r.cp1x=zp(r.cp1x,e.left,e.right),r.cp1y=zp(r.cp1y,e.top,e.bottom)),d&&(r.cp2x=zp(r.cp2x,e.left,e.right),r.cp2y=zp(r.cp2y,e.top,e.bottom)))}function I8(t,e,s,a,r){let o,c,d,h;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")B8(t,r);else{let f=a?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)d=t[o],h=O8(f,d,t[Math.min(o+1,c-(a?0:1))%c],e.tension),d.cp1x=h.previous.x,d.cp1y=h.previous.y,d.cp2x=h.next.x,d.cp2y=h.next.y,f=d}e.capBezierPoints&&z8(t,s)}function Xy(){return typeof window<"u"&&typeof document<"u"}function Ky(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function E0(t,e,s){let a;return typeof t=="string"?(a=parseInt(t,10),t.indexOf("%")!==-1&&(a=a/100*e.parentNode[s])):a=t,a}const og=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function q8(t,e){return og(t).getPropertyValue(e)}const U8=["top","right","bottom","left"];function Jd(t,e,s){const a={};s=s?"-"+s:"";for(let r=0;r<4;r++){const o=U8[r];a[o]=parseFloat(t[e+"-"+o+s])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const V8=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function H8(t,e){const s=t.touches,a=s&&s.length?s[0]:t,{offsetX:r,offsetY:o}=a;let c=!1,d,h;if(V8(r,o,t.target))d=r,h=o;else{const f=e.getBoundingClientRect();d=a.clientX-f.left,h=a.clientY-f.top,c=!0}return{x:d,y:h,box:c}}function qd(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:a}=e,r=og(s),o=r.boxSizing==="border-box",c=Jd(r,"padding"),d=Jd(r,"border","width"),{x:h,y:f,box:p}=H8(t,s),x=c.left+(p&&d.left),v=c.top+(p&&d.top);let{width:y,height:N}=e;return o&&(y-=c.width+d.width,N-=c.height+d.height),{x:Math.round((h-x)/y*s.width/a),y:Math.round((f-v)/N*s.height/a)}}function $8(t,e,s){let a,r;if(e===void 0||s===void 0){const o=t&&Ky(t);if(!o)e=t.clientWidth,s=t.clientHeight;else{const c=o.getBoundingClientRect(),d=og(o),h=Jd(d,"border","width"),f=Jd(d,"padding");e=c.width-f.width-h.width,s=c.height-f.height-h.height,a=E0(d.maxWidth,o,"clientWidth"),r=E0(d.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:a||k0,maxHeight:r||k0}}const Ip=t=>Math.round(t*10)/10;function Y8(t,e,s,a){const r=og(t),o=Jd(r,"margin"),c=E0(r.maxWidth,t,"clientWidth")||k0,d=E0(r.maxHeight,t,"clientHeight")||k0,h=$8(t,e,s);let{width:f,height:p}=h;if(r.boxSizing==="content-box"){const v=Jd(r,"border","width"),y=Jd(r,"padding");f-=y.width+v.width,p-=y.height+v.height}return f=Math.max(0,f-o.width),p=Math.max(0,a?f/a:p-o.height),f=Ip(Math.min(f,c,h.maxWidth)),p=Ip(Math.min(p,d,h.maxHeight)),f&&!p&&(p=Ip(f/2)),(e!==void 0||s!==void 0)&&a&&h.height&&p>h.height&&(p=h.height,f=Ip(Math.floor(p*a))),{width:f,height:p}}function E5(t,e,s){const a=e||1,r=Math.floor(t.height*a),o=Math.floor(t.width*a);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==a||c.height!==r||c.width!==o?(t.currentDevicePixelRatio=a,c.height=r,c.width=o,t.ctx.setTransform(a,0,0,a,0,0),!0):!1}const W8=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Xy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function L5(t,e){const s=q8(t,e),a=s&&s.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Ud(t,e,s,a){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function G8(t,e,s,a){return{x:t.x+s*(e.x-t.x),y:a==="middle"?s<.5?t.y:e.y:a==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function X8(t,e,s,a){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=Ud(t,r,s),d=Ud(r,o,s),h=Ud(o,e,s),f=Ud(c,d,s),p=Ud(d,h,s);return Ud(f,p,s)}const K8=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,a){return s-a},leftForLtr(s,a){return s-a}}},Z8=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function dh(t,e,s){return t?K8(e,s):Z8()}function x4(t,e){let s,a;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,a=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=a)}function b4(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function y4(t){return t==="angle"?{between:dm,compare:Kk,normalize:mo}:{between:Yc,compare:(e,s)=>e-s,normalize:e=>e}}function T5({start:t,end:e,count:s,loop:a,style:r}){return{start:t%s,end:e%s,loop:a&&(e-t+1)%s===0,style:r}}function J8(t,e,s){const{property:a,start:r,end:o}=s,{between:c,normalize:d}=y4(a),h=e.length;let{start:f,end:p,loop:x}=t,v,y;if(x){for(f+=h,p+=h,v=0,y=h;v<y&&c(d(e[f%h][a]),r,o);++v)f--,p--;f%=h,p%=h}return p<f&&(p+=h),{start:f,end:p,loop:x,style:t.style}}function Q8(t,e,s){if(!s)return[t];const{property:a,start:r,end:o}=s,c=e.length,{compare:d,between:h,normalize:f}=y4(a),{start:p,end:x,loop:v,style:y}=J8(t,e,s),N=[];let _=!1,k=null,C,D,L;const $=()=>h(r,L,C)&&d(r,L)!==0,W=()=>d(o,C)===0||h(o,L,C),le=()=>_||$(),ee=()=>!_||W();for(let U=p,oe=p;U<=x;++U)D=e[U%c],!D.skip&&(C=f(D[a]),C!==L&&(_=h(C,r,o),k===null&&le()&&(k=d(C,r)===0?U:oe),k!==null&&ee()&&(N.push(T5({start:k,end:U,loop:v,count:c,style:y})),k=null),oe=U,L=C));return k!==null&&N.push(T5({start:k,end:x,loop:v,count:c,style:y})),N}function eD(t,e){const s=[],a=t.segments;for(let r=0;r<a.length;r++){const o=Q8(a[r],t.points,e);o.length&&s.push(...o)}return s}function tD(t,e,s,a){let r=0,o=e-1;if(s&&!a)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,s&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function sD(t,e,s,a){const r=t.length,o=[];let c=e,d=t[e],h;for(h=e+1;h<=s;++h){const f=t[h%r];f.skip||f.stop?d.skip||(a=!1,o.push({start:e%r,end:(h-1)%r,loop:a}),e=c=f.stop?h:null):(c=h,d.skip&&(e=h)),d=f}return c!==null&&o.push({start:e%r,end:c%r,loop:a}),o}function nD(t,e){const s=t.points,a=t.options.spanGaps,r=s.length;if(!r)return[];const o=!!t._loop,{start:c,end:d}=tD(s,r,o,a);if(a===!0)return M5(t,[{start:c,end:d,loop:o}],s,e);const h=d<c?d+r:d,f=!!t._fullLoop&&c===0&&d===r-1;return M5(t,sD(s,c,h,f),s,e)}function M5(t,e,s,a){return!a||!a.setContext||!s?e:aD(t,e,s,a)}function aD(t,e,s,a){const r=t._chart.getContext(),o=P5(t.options),{_datasetIndex:c,options:{spanGaps:d}}=t,h=s.length,f=[];let p=o,x=e[0].start,v=x;function y(N,_,k,C){const D=d?-1:1;if(N!==_){for(N+=h;s[N%h].skip;)N-=D;for(;s[_%h].skip;)_+=D;N%h!==_%h&&(f.push({start:N%h,end:_%h,loop:k,style:C}),p=C,x=_%h)}}for(const N of e){x=d?x:N.start;let _=s[x%h],k;for(v=x+1;v<=N.end;v++){const C=s[v%h];k=P5(a.setContext(uu(r,{type:"segment",p0:_,p1:C,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:c}))),rD(k,p)&&y(x,v-1,N.loop,p),_=C,p=k}x<v-1&&y(x,v-1,N.loop,p)}return f}function P5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function rD(t,e){if(!e)return!1;const s=[],a=function(r,o){return qy(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(t,a)!==JSON.stringify(e,a)}function qp(t,e,s){return t.options.clip?t[s]:e[s]}function iD(t,e){const{xScale:s,yScale:a}=t;return s&&a?{left:qp(s,e,"left"),right:qp(s,e,"right"),top:qp(a,e,"top"),bottom:qp(a,e,"bottom")}:e}function oD(t,e){const s=e._clip;if(s.disabled)return!1;const a=iD(e,t.chartArea);return{left:s.left===!1?0:a.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:a.right+(s.right===!0?0:s.right),top:s.top===!1?0:a.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:a.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class lD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,a,r){const o=s.listeners[r],c=s.duration;o.forEach(d=>d({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(a-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=o4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((a,r)=>{if(!a.running||!a.items.length)return;const o=a.items;let c=o.length-1,d=!1,h;for(;c>=0;--c)h=o[c],h._active?(h._total>a.duration&&(a.duration=h._total),h.tick(e),d=!0):(o[c]=o[o.length-1],o.pop());d&&(r.draw(),this._notify(r,a,e,"progress")),o.length||(a.running=!1,this._notify(r,a,e,"complete"),a.initial=!1),s+=o.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let a=s.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,a)),a}listen(e,s,a){this._getAnims(e).listeners[s].push(a)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((a,r)=>Math.max(a,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const a=s.items;let r=a.length-1;for(;r>=0;--r)a[r].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vl=new lD;const O5="transparent",cD={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const a=S5(t||O5),r=a.valid&&S5(e||O5);return r&&r.valid?r.mix(a,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class dD{constructor(e,s,a,r){const o=s[a];r=Bp([e.to,r,o,e.from]);const c=Bp([e.from,o,r]);this._active=!0,this._fn=e.fn||cD[e.type||typeof c],this._easing=Jf[e.easing]||Jf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=a,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,s,a){if(this._active){this._notify(!1);const r=this._target[this._prop],o=a-this._start,c=this._duration-o;this._start=a,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Bp([e.to,s,r,e.from]),this._from=Bp([e.from,r,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,a=this._duration,r=this._prop,o=this._from,c=this._loop,d=this._to;let h;if(this._active=o!==d&&(c||s<a),!this._active){this._target[r]=d,this._notify(!0);return}if(s<0){this._target[r]=o;return}h=s/a%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,d,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,a)=>{e.push({res:s,rej:a})})}_notify(e){const s=e?"res":"rej",a=this._promises||[];for(let r=0;r<a.length;r++)a[r][s]()}}class v4{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!qs(e))return;const s=Object.keys(ra.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!qs(o))return;const c={};for(const d of s)c[d]=o[d];(Na(o.properties)&&o.properties||[r]).forEach(d=>{(d===r||!a.has(d))&&a.set(d,c)})})}_animateOptions(e,s){const a=s.options,r=hD(e,a);if(!r)return[];const o=this._createAnimations(r,a);return a.$shared&&uD(e.options.$animations,a).then(()=>{e.options=a},()=>{}),o}_createAnimations(e,s){const a=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(s),d=Date.now();let h;for(h=c.length-1;h>=0;--h){const f=c[h];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,s));continue}const p=s[f];let x=o[f];const v=a.get(f);if(x)if(v&&x.active()){x.update(v,p,d);continue}else x.cancel();if(!v||!v.duration){e[f]=p;continue}o[f]=x=new dD(v,e,f,p),r.push(x)}return r}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const a=this._createAnimations(e,s);if(a.length)return Vl.add(this._chart,a),!0}}function uD(t,e){const s=[],a=Object.keys(e);for(let r=0;r<a.length;r++){const o=t[a[r]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function hD(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function R5(t,e){const s=t&&t.options||{},a=s.reverse,r=s.min===void 0?e:0,o=s.max===void 0?e:0;return{start:a?o:r,end:a?r:o}}function fD(t,e,s){if(s===!1)return!1;const a=R5(t,s),r=R5(e,s);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function mD(t){let e,s,a,r;return qs(t)?(e=t.top,s=t.right,a=t.bottom,r=t.left):e=s=a=r=t,{top:e,right:s,bottom:a,left:r,disabled:t===!1}}function w4(t,e){const s=[],a=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=a.length;r<o;++r)s.push(a[r].index);return s}function F5(t,e,s,a={}){const r=t.keys,o=a.mode==="single";let c,d,h,f;if(e===null)return;let p=!1;for(c=0,d=r.length;c<d;++c){if(h=+r[c],h===s){if(p=!0,a.all)continue;break}f=t.values[h],Bi(f)&&(o||e===0||rl(e)===rl(f))&&(e+=f)}return!p&&!a.all?0:e}function pD(t,e){const{iScale:s,vScale:a}=e,r=s.axis==="x"?"x":"y",o=a.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let h,f,p;for(h=0,f=c.length;h<f;++h)p=c[h],d[h]={[r]:p,[o]:t[p]};return d}function Hx(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function gD(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function xD(t){const{min:e,max:s,minDefined:a,maxDefined:r}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}function bD(t,e,s){const a=t[e]||(t[e]={});return a[s]||(a[s]={})}function B5(t,e,s,a){for(const r of e.getMatchingVisibleMetas(a).reverse()){const o=t[r.index];if(s&&o>0||!s&&o<0)return r.index}return null}function z5(t,e){const{chart:s,_cachedMeta:a}=t,r=s._stacks||(s._stacks={}),{iScale:o,vScale:c,index:d}=a,h=o.axis,f=c.axis,p=gD(o,c,a),x=e.length;let v;for(let y=0;y<x;++y){const N=e[y],{[h]:_,[f]:k}=N,C=N._stacks||(N._stacks={});v=C[f]=bD(r,p,_),v[d]=k,v._top=B5(v,c,!0,a.type),v._bottom=B5(v,c,!1,a.type);const D=v._visualValues||(v._visualValues={});D[d]=k}}function $x(t,e){const s=t.scales;return Object.keys(s).filter(a=>s[a].axis===e).shift()}function yD(t,e){return uu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function vD(t,e,s){return uu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Cf(t,e){const s=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[a]===void 0||o[a][s]===void 0)return;delete o[a][s],o[a]._visualValues!==void 0&&o[a]._visualValues[s]!==void 0&&delete o[a]._visualValues[s]}}}const Yx=t=>t==="reset"||t==="none",I5=(t,e)=>e?t:Object.assign({},t),wD=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:w4(s,!0),values:null};class Qd{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Hx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Cf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,a=this.getDataset(),r=(x,v,y,N)=>x==="x"?v:x==="r"?N:y,o=s.xAxisID=Ds(a.xAxisID,$x(e,"x")),c=s.yAxisID=Ds(a.yAxisID,$x(e,"y")),d=s.rAxisID=Ds(a.rAxisID,$x(e,"r")),h=s.indexAxis,f=s.iAxisID=r(h,o,c,d),p=s.vAxisID=r(h,c,o,d);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(d),s.iScale=this.getScaleForId(f),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&w5(this._data,this),e._stacked&&Cf(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),a=this._data;if(qs(s)){const r=this._cachedMeta;this._data=pD(s,r)}else if(a!==s){if(a){w5(a,this);const r=this._cachedMeta;Cf(r),r._parsed=[]}s&&Object.isExtensible(s)&&e8(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,a=this.getDataset();let r=!1;this._dataCheck();const o=s._stacked;s._stacked=Hx(s.vScale,s),s.stack!==a.stack&&(r=!0,Cf(s),s.stack=a.stack),this._resyncElements(e),(r||o!==s._stacked)&&(z5(this,s._parsed),s._stacked=Hx(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:a,_data:r}=this,{iScale:o,_stacked:c}=a,d=o.axis;let h=e===0&&s===r.length?!0:a._sorted,f=e>0&&a._parsed[e-1],p,x,v;if(this._parsing===!1)a._parsed=r,a._sorted=!0,v=r;else{Na(r[e])?v=this.parseArrayData(a,r,e,s):qs(r[e])?v=this.parseObjectData(a,r,e,s):v=this.parsePrimitiveData(a,r,e,s);const y=()=>x[d]===null||f&&x[d]<f[d];for(p=0;p<s;++p)a._parsed[p+e]=x=v[p],h&&(y()&&(h=!1),f=x);a._sorted=h}c&&z5(this,v)}parsePrimitiveData(e,s,a,r){const{iScale:o,vScale:c}=e,d=o.axis,h=c.axis,f=o.getLabels(),p=o===c,x=new Array(r);let v,y,N;for(v=0,y=r;v<y;++v)N=v+a,x[v]={[d]:p||o.parse(f[N],N),[h]:c.parse(s[N],N)};return x}parseArrayData(e,s,a,r){const{xScale:o,yScale:c}=e,d=new Array(r);let h,f,p,x;for(h=0,f=r;h<f;++h)p=h+a,x=s[p],d[h]={x:o.parse(x[0],p),y:c.parse(x[1],p)};return d}parseObjectData(e,s,a,r){const{xScale:o,yScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=new Array(r);let p,x,v,y;for(p=0,x=r;p<x;++p)v=p+a,y=s[v],f[p]={x:o.parse(iu(y,d),v),y:c.parse(iu(y,h),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,a){const r=this.chart,o=this._cachedMeta,c=s[e.axis],d={keys:w4(r,!0),values:s._stacks[e.axis]._visualValues};return F5(d,c,o.index,{mode:a})}updateRangeFromParsed(e,s,a,r){const o=a[s.axis];let c=o===null?NaN:o;const d=r&&a._stacks[s.axis];r&&d&&(r.values=d,c=F5(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const a=this._cachedMeta,r=a._parsed,o=a._sorted&&e===a.iScale,c=r.length,d=this._getOtherScale(e),h=wD(s,a,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=xD(d);let v,y;function N(){y=r[v];const _=y[d.axis];return!Bi(y[e.axis])||p>_||x<_}for(v=0;v<c&&!(!N()&&(this.updateRangeFromParsed(f,e,y,h),o));++v);if(o){for(v=c-1;v>=0;--v)if(!N()){this.updateRangeFromParsed(f,e,y,h);break}}return f}getAllParsedValues(e){const s=this._cachedMeta._parsed,a=[];let r,o,c;for(r=0,o=s.length;r<o;++r)c=s[r][e.axis],Bi(c)&&a.push(c);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,a=s.iScale,r=s.vScale,o=this.getParsed(e);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=mD(Ds(this.options.clip,fD(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,a=this._cachedMeta,r=a.data||[],o=s.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||r.length-d,f=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(e,o,d,h),p=d;p<d+h;++p){const x=r[p];x.hidden||(x.active&&f?c.push(x):x.draw(e,o))}for(p=0;p<c.length;++p)c[p].draw(e,o)}getStyle(e,s){const a=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,s,a){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=vD(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=yD(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=a,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",a){const r=s==="active",o=this._cachedDataOpts,c=e+"-"+s,d=o[c],h=this.enableOptionSharing&&lm(a);if(d)return I5(d,h);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),x=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),y=Object.keys(ra.elements[e]),N=()=>this.getContext(a,r,s),_=f.resolveNamedOptions(v,y,N,x);return _.$shared&&(_.$shared=h,o[c]=Object.freeze(I5(_,h))),_}_resolveAnimations(e,s,a){const r=this.chart,o=this._cachedDataOpts,c=`animation-${s}`,d=o[c];if(d)return d;let h;if(r.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,s),v=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(v,this.getContext(e,a,s))}const f=new v4(r,h&&h.animations);return h&&h._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Yx(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const a=this.resolveDataElementOptions(e,s),r=this._sharedOptions,o=this.getSharedOptions(a),c=this.includeOptions(s,o)||o!==r;return this.updateSharedOptions(o,s,a),{sharedOptions:o,includeOptions:c}}updateElement(e,s,a,r){Yx(r)?Object.assign(e,a):this._resolveAnimations(s,r).update(e,a)}updateSharedOptions(e,s,a){e&&!Yx(s)&&this._resolveAnimations(void 0,s).update(e,a)}_setStyle(e,s,a,r){e.active=r;const o=this.getStyle(s,r);this._resolveAnimations(s,a,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,s,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,s,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,a=this._cachedMeta.data;for(const[d,h,f]of this._syncList)this[d](h,f);this._syncList=[];const r=a.length,o=s.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,s,a=!0){const r=this._cachedMeta,o=r.data,c=e+s;let d;const h=f=>{for(f.length+=s,d=f.length-1;d>=c;d--)f[d]=f[d-s]};for(h(o),d=e;d<c;++d)o[d]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,s),a&&this.updateElements(o,e,s,"reset")}updateElements(e,s,a,r){}_removeElements(e,s){const a=this._cachedMeta;if(this._parsing){const r=a._parsed.splice(e,s);a._stacked&&Cf(a,r)}a.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,a,r]=e;this[s](a,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}qt(Qd,"defaults",{}),qt(Qd,"datasetElementType",null),qt(Qd,"dataElementType",null);function ND(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let a=[];for(let r=0,o=s.length;r<o;r++)a=a.concat(s[r].controller.getAllParsedValues(t));t._cache.$bar=i4(a.sort((r,o)=>r-o))}return t._cache.$bar}function jD(t){const e=t.iScale,s=ND(e,t.type);let a=e._length,r,o,c,d;const h=()=>{c===32767||c===-32768||(lm(d)&&(a=Math.min(a,Math.abs(c-d)||a)),d=c)};for(r=0,o=s.length;r<o;++r)c=e.getPixelForValue(s[r]),h();for(d=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),h();return a}function SD(t,e,s,a){const r=s.barThickness;let o,c;return Ks(r)?(o=e.min*s.categoryPercentage,c=s.barPercentage):(o=r*a,c=1),{chunk:o/a,ratio:c,start:e.pixels[t]-o/2}}function _D(t,e,s,a){const r=e.pixels,o=r[t];let c=t>0?r[t-1]:null,d=t<r.length-1?r[t+1]:null;const h=s.categoryPercentage;c===null&&(c=o-(d===null?e.end-e.start:d-o)),d===null&&(d=o+o-c);const f=o-(o-Math.min(c,d))/2*h;return{chunk:Math.abs(d-c)/2*h/a,ratio:s.barPercentage,start:f}}function AD(t,e,s,a){const r=s.parse(t[0],a),o=s.parse(t[1],a),c=Math.min(r,o),d=Math.max(r,o);let h=c,f=d;Math.abs(c)>Math.abs(d)&&(h=d,f=c),e[s.axis]=f,e._custom={barStart:h,barEnd:f,start:r,end:o,min:c,max:d}}function N4(t,e,s,a){return Na(t)?AD(t,e,s,a):e[s.axis]=s.parse(t,a),e}function q5(t,e,s,a){const r=t.iScale,o=t.vScale,c=r.getLabels(),d=r===o,h=[];let f,p,x,v;for(f=s,p=s+a;f<p;++f)v=e[f],x={},x[r.axis]=d||r.parse(c[f],f),h.push(N4(v,x,o,f));return h}function Wx(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function CD(t,e,s){return t!==0?rl(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function kD(t){let e,s,a,r,o;return t.horizontal?(e=t.base>t.x,s="left",a="right"):(e=t.base<t.y,s="bottom",a="top"),e?(r="end",o="start"):(r="start",o="end"),{start:s,end:a,reverse:e,top:r,bottom:o}}function DD(t,e,s,a){let r=e.borderSkipped;const o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:h,top:f,bottom:p}=kD(t);r==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===a?r=f:(s._bottom||0)===a?r=p:(o[U5(p,c,d,h)]=!0,r=f)),o[U5(r,c,d,h)]=!0,t.borderSkipped=o}function U5(t,e,s,a){return a?(t=ED(t,e,s),t=V5(t,s,e)):t=V5(t,e,s),t}function ED(t,e,s){return t===e?s:t===s?e:t}function V5(t,e,s){return t==="start"?e:t==="end"?s:t}function LD(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class l0 extends Qd{parsePrimitiveData(e,s,a,r){return q5(e,s,a,r)}parseArrayData(e,s,a,r){return q5(e,s,a,r)}parseObjectData(e,s,a,r){const{iScale:o,vScale:c}=e,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,f=o.axis==="x"?d:h,p=c.axis==="x"?d:h,x=[];let v,y,N,_;for(v=a,y=a+r;v<y;++v)_=s[v],N={},N[o.axis]=o.parse(iu(_,f),v),x.push(N4(iu(_,p),N,c,v));return x}updateRangeFromParsed(e,s,a,r){super.updateRangeFromParsed(e,s,a,r);const o=a._custom;o&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:a,vScale:r}=s,o=this.getParsed(e),c=o._custom,d=Wx(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+a.getLabelForValue(o[a.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,a,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),f=d.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:v}=this._getSharedOptions(s,r);for(let y=s;y<s+a;y++){const N=this.getParsed(y),_=o||Ks(N[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(y),k=this._calculateBarIndexPixels(y,p),C=(N._stacks||{})[d.axis],D={horizontal:f,base:_.base,enableBorderRadius:!C||Wx(N._custom)||c===C._top||c===C._bottom,x:f?_.head:k.center,y:f?k.center:_.head,height:f?k.size:Math.abs(_.size),width:f?Math.abs(_.size):k.size};v&&(D.options=x||this.resolveDataElementOptions(y,e[y].active?"active":r));const L=D.options||e[y].options;DD(D,L,C,c),LD(D,L,p.ratio),this.updateElement(e[y],y,D,r)}}_getStacks(e,s){const{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=a.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(s),h=d&&d[a.axis],f=p=>{const x=p._parsed.find(y=>y[a.axis]===h),v=x&&x[p.vScale.axis];if(Ks(v)||isNaN(v))return!0};for(const p of r)if(!(s!==void 0&&f(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const a of this.chart.data.datasets)e[Ds(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,a){const r=this._getStacks(e,a),o=s!==void 0?r.indexOf(s):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,s=this._cachedMeta,a=s.iScale,r=[];let o,c;for(o=0,c=s.data.length;o<c;++o)r.push(a.getPixelForValue(this.getParsed(o)[a.axis],o));const d=e.barThickness;return{min:d||jD(s),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:a,index:r},options:{base:o,minBarLength:c}}=this,d=o||0,h=this.getParsed(e),f=h._custom,p=Wx(f);let x=h[s.axis],v=0,y=a?this.applyStack(s,h,a):x,N,_;y!==x&&(v=y-x,y=x),p&&(x=f.barStart,y=f.barEnd-f.barStart,x!==0&&rl(x)!==rl(f.barEnd)&&(v=0),v+=x);const k=!Ks(o)&&!p?o:v;let C=s.getPixelForValue(k);if(this.chart.getDataVisibility(e)?N=s.getPixelForValue(v+y):N=C,_=N-C,Math.abs(_)<c){_=CD(_,s,d)*c,x===d&&(C-=_/2);const D=s.getPixelForDecimal(0),L=s.getPixelForDecimal(1),$=Math.min(D,L),W=Math.max(D,L);C=Math.max(Math.min(C,W),$),N=C+_,a&&!p&&(h._stacks[s.axis]._visualValues[r]=s.getValueForPixel(N)-s.getValueForPixel(C))}if(C===s.getPixelForValue(d)){const D=rl(_)*s.getLineWidthForValue(d)/2;C+=D,_-=D}return{size:_,base:C,head:N,center:N+_/2}}_calculateBarIndexPixels(e,s){const a=s.scale,r=this.options,o=r.skipNull,c=Ds(r.maxBarThickness,1/0);let d,h;const f=this._getAxisCount();if(s.grouped){const p=o?this._getStackCount(e):s.stackCount,x=r.barThickness==="flex"?_D(e,s,r,p*f):SD(e,s,r,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Ds(v,this.getFirstScaleIdForIndexAxis())),N=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+y;d=x.start+x.chunk*N+x.chunk/2,h=Math.min(c,x.chunk*x.ratio)}else d=a.getPixelForValue(this.getParsed(e)[a.axis],e),h=Math.min(c,s.min*s.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const e=this._cachedMeta,s=e.vScale,a=e.data,r=a.length;let o=0;for(;o<r;++o)this.getParsed(o)[s.axis]!==null&&!a[o].hidden&&a[o].draw(this._ctx)}}qt(l0,"id","bar"),qt(l0,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),qt(l0,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function TD(t,e,s){let a=1,r=1,o=0,c=0;if(e<Yn){const d=t,h=d+e,f=Math.cos(d),p=Math.sin(d),x=Math.cos(h),v=Math.sin(h),y=(L,$,W)=>dm(L,d,h,!0)?1:Math.max($,$*s,W,W*s),N=(L,$,W)=>dm(L,d,h,!0)?-1:Math.min($,$*s,W,W*s),_=y(0,f,x),k=y(ja,p,v),C=N(nn,f,x),D=N(nn+ja,p,v);a=(_-C)/2,r=(k-D)/2,o=-(_+C)/2,c=-(k+D)/2}return{ratioX:a,ratioY:r,offsetX:o,offsetY:c}}class Uf extends Qd{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const a=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=a;else{let o=h=>+a[h];if(qs(a[e])){const{key:h="value"}=this._parsing;o=f=>+iu(a[f],h)}let c,d;for(c=e,d=e+s;c<d;++c)r._parsed[c]=o(c)}}_getRotation(){return Yl(this.options.rotation-90)}_getCircumference(){return Yl(this.options.circumference)}_getRotationExtents(){let e=Yn,s=-Yn;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){const r=this.chart.getDatasetMeta(a).controller,o=r._getRotation(),c=r._getCircumference();e=Math.min(e,o),s=Math.max(s,o+c)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:a}=s,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(a.width,a.height)-c)/2,0),h=Math.min(Fk(this.options.cutout,d),1),f=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:v,ratioY:y,offsetX:N,offsetY:_}=TD(x,p,h),k=(a.width-c)/v,C=(a.height-c)/y,D=Math.max(Math.min(k,C)/2,0),L=t4(this.options.radius,D),$=Math.max(L*h,0),W=(L-$)/this._getVisibleDatasetWeightTotal();this.offsetX=N*L,this.offsetY=_*L,r.total=this.calculateTotal(),this.outerRadius=L-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,s){const a=this.options,r=this._cachedMeta,o=this._getCircumference();return s&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/Yn)}updateElements(e,s,a,r){const o=r==="reset",c=this.chart,d=c.chartArea,f=c.options.animation,p=(d.left+d.right)/2,x=(d.top+d.bottom)/2,v=o&&f.animateScale,y=v?0:this.innerRadius,N=v?0:this.outerRadius,{sharedOptions:_,includeOptions:k}=this._getSharedOptions(s,r);let C=this._getRotation(),D;for(D=0;D<s;++D)C+=this._circumference(D,o);for(D=s;D<s+a;++D){const L=this._circumference(D,o),$=e[D],W={x:p+this.offsetX,y:x+this.offsetY,startAngle:C,endAngle:C+L,circumference:L,outerRadius:N,innerRadius:y};k&&(W.options=_||this.resolveDataElementOptions(D,$.active?"active":r)),C+=L,this.updateElement($,D,W,r)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let a=0,r;for(r=0;r<s.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!s[r].hidden&&(a+=Math.abs(o))}return a}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Yn*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,a=this.chart,r=a.data.labels||[],o=Uy(s._parsed[e],a.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let s=0;const a=this.chart;let r,o,c,d,h;if(!e){for(r=0,o=a.data.datasets.length;r<o;++r)if(a.isDatasetVisible(r)){c=a.getDatasetMeta(r),e=c.data,d=c.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)h=d.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(s=Math.max(s,h.borderWidth||0,h.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let a=0,r=e.length;a<r;++a){const o=this.resolveDataElementOptions(a);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(s+=this._getRingWeight(a));return s}_getRingWeight(e){return Math.max(Ds(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}qt(Uf,"id","doughnut"),qt(Uf,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),qt(Uf,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),qt(Uf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:a,color:r}}=e.legend.options;return s.labels.map((o,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,s,a){a.chart.toggleDataVisibility(s.index),a.chart.update()}}}});class c0 extends Qd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:a,data:r=[],_dataset:o}=s,c=this.chart._animationsDisabled;let{start:d,count:h}=n8(s,r,c);this._drawStart=d,this._drawCount=h,a8(s)&&(d=0,h=r.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!o._decimated,a.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(a,void 0,{animated:!c,options:f},e),this.updateElements(r,d,h,e)}updateElements(e,s,a,r){const o=r==="reset",{iScale:c,vScale:d,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:x}=this._getSharedOptions(s,r),v=c.axis,y=d.axis,{spanGaps:N,segment:_}=this.options,k=cm(N)?N:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||r==="none",D=s+a,L=e.length;let $=s>0&&this.getParsed(s-1);for(let W=0;W<L;++W){const le=e[W],ee=C?le:{};if(W<s||W>=D){ee.skip=!0;continue}const U=this.getParsed(W),oe=Ks(U[y]),re=ee[v]=c.getPixelForValue(U[v],W),O=ee[y]=o||oe?d.getBasePixel():d.getPixelForValue(h?this.applyStack(d,U,h):U[y],W);ee.skip=isNaN(re)||isNaN(O)||oe,ee.stop=W>0&&Math.abs(U[v]-$[v])>k,_&&(ee.parsed=U,ee.raw=f.data[W]),x&&(ee.options=p||this.resolveDataElementOptions(W,le.active?"active":r)),C||this.updateElement(le,W,ee,r),$=U}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,a=s.options&&s.options.borderWidth||0,r=e.data||[];if(!r.length)return a;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}qt(c0,"id","line"),qt(c0,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),qt(c0,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ob extends Uf{}qt(Ob,"id","pie"),qt(Ob,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Bd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zy{constructor(e){qt(this,"options");this.options=e||{}}static override(e){Object.assign(Zy.prototype,e)}init(){}formats(){return Bd()}parse(){return Bd()}format(){return Bd()}add(){return Bd()}diff(){return Bd()}startOf(){return Bd()}endOf(){return Bd()}}var MD={_date:Zy};function PD(t,e,s,a){const{controller:r,data:o,_sorted:c}=t,d=r._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&o.length){const f=d._reversePixels?Jk:Wd;if(a){if(r._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const v=f(o,e,s-x),y=f(o,e,s+x);return{lo:v.lo,hi:y.hi}}}}else{const p=f(o,e,s);if(h){const{vScale:x}=r._cachedMeta,{_parsed:v}=t,y=v.slice(0,p.lo+1).reverse().findIndex(_=>!Ks(_[x.axis]));p.lo-=Math.max(0,y);const N=v.slice(p.hi).findIndex(_=>!Ks(_[x.axis]));p.hi+=Math.max(0,N)}return p}}return{lo:0,hi:o.length-1}}function lg(t,e,s,a,r){const o=t.getSortedVisibleDatasetMetas(),c=s[e];for(let d=0,h=o.length;d<h;++d){const{index:f,data:p}=o[d],{lo:x,hi:v}=PD(o[d],e,c,r);for(let y=x;y<=v;++y){const N=p[y];N.skip||a(N,f,y)}}}function OD(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(a,r){const o=e?Math.abs(a.x-r.x):0,c=s?Math.abs(a.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Gx(t,e,s,a,r){const o=[];return!r&&!t.isPointInArea(e)||lg(t,s,e,function(d,h,f){!r&&!um(d,t.chartArea,0)||d.inRange(e.x,e.y,a)&&o.push({element:d,datasetIndex:h,index:f})},!0),o}function RD(t,e,s,a){let r=[];function o(c,d,h){const{startAngle:f,endAngle:p}=c.getProps(["startAngle","endAngle"],a),{angle:x}=a4(c,{x:e.x,y:e.y});dm(x,f,p)&&r.push({element:c,datasetIndex:d,index:h})}return lg(t,s,e,o),r}function FD(t,e,s,a,r,o){let c=[];const d=OD(s);let h=Number.POSITIVE_INFINITY;function f(p,x,v){const y=p.inRange(e.x,e.y,r);if(a&&!y)return;const N=p.getCenterPoint(r);if(!(!!o||t.isPointInArea(N))&&!y)return;const k=d(e,N);k<h?(c=[{element:p,datasetIndex:x,index:v}],h=k):k===h&&c.push({element:p,datasetIndex:x,index:v})}return lg(t,s,e,f),c}function Xx(t,e,s,a,r,o){return!o&&!t.isPointInArea(e)?[]:s==="r"&&!a?RD(t,e,s,r):FD(t,e,s,a,r,o)}function H5(t,e,s,a,r){const o=[],c=s==="x"?"inXRange":"inYRange";let d=!1;return lg(t,s,e,(h,f,p)=>{h[c]&&h[c](e[s],r)&&(o.push({element:h,datasetIndex:f,index:p}),d=d||h.inRange(e.x,e.y,r))}),a&&!d?[]:o}var BD={modes:{index(t,e,s,a){const r=qd(e,t),o=s.axis||"x",c=s.includeInvisible||!1,d=s.intersect?Gx(t,r,o,a,c):Xx(t,r,o,!1,a,c),h=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=d[0].index,x=f.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:p})}),h):[]},dataset(t,e,s,a){const r=qd(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;let d=s.intersect?Gx(t,r,o,a,c):Xx(t,r,o,!1,a,c);if(d.length>0){const h=d[0].datasetIndex,f=t.getDatasetMeta(h).data;d=[];for(let p=0;p<f.length;++p)d.push({element:f[p],datasetIndex:h,index:p})}return d},point(t,e,s,a){const r=qd(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return Gx(t,r,o,a,c)},nearest(t,e,s,a){const r=qd(e,t),o=s.axis||"xy",c=s.includeInvisible||!1;return Xx(t,r,o,s.intersect,a,c)},x(t,e,s,a){const r=qd(e,t);return H5(t,r,"x",s.intersect,a)},y(t,e,s,a){const r=qd(e,t);return H5(t,r,"y",s.intersect,a)}}};const j4=["left","top","right","bottom"];function kf(t,e){return t.filter(s=>s.pos===e)}function $5(t,e){return t.filter(s=>j4.indexOf(s.pos)===-1&&s.box.axis===e)}function Df(t,e){return t.sort((s,a)=>{const r=e?a:s,o=e?s:a;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function zD(t){const e=[];let s,a,r,o,c,d;for(s=0,a=(t||[]).length;s<a;++s)r=t[s],{position:o,options:{stack:c,stackWeight:d=1}}=r,e.push({index:s,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:d});return e}function ID(t){const e={};for(const s of t){const{stack:a,pos:r,stackWeight:o}=s;if(!a||!j4.includes(r))continue;const c=e[a]||(e[a]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function qD(t,e){const s=ID(t),{vBoxMaxWidth:a,hBoxMaxHeight:r}=e;let o,c,d;for(o=0,c=t.length;o<c;++o){d=t[o];const{fullSize:h}=d.box,f=s[d.stack],p=f&&d.stackWeight/f.weight;d.horizontal?(d.width=p?p*a:h&&e.availableWidth,d.height=r):(d.width=a,d.height=p?p*r:h&&e.availableHeight)}return s}function UD(t){const e=zD(t),s=Df(e.filter(f=>f.box.fullSize),!0),a=Df(kf(e,"left"),!0),r=Df(kf(e,"right")),o=Df(kf(e,"top"),!0),c=Df(kf(e,"bottom")),d=$5(e,"x"),h=$5(e,"y");return{fullSize:s,leftAndTop:a.concat(o),rightAndBottom:r.concat(h).concat(c).concat(d),chartArea:kf(e,"chartArea"),vertical:a.concat(r).concat(h),horizontal:o.concat(c).concat(d)}}function Y5(t,e,s,a){return Math.max(t[s],e[s])+Math.max(t[a],e[a])}function S4(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function VD(t,e,s,a){const{pos:r,box:o}=s,c=t.maxPadding;if(!qs(r)){s.size&&(t[r]-=s.size);const x=a[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?o.height:o.width),s.size=x.size/x.count,t[r]+=s.size}o.getPadding&&S4(c,o.getPadding());const d=Math.max(0,e.outerWidth-Y5(c,t,"left","right")),h=Math.max(0,e.outerHeight-Y5(c,t,"top","bottom")),f=d!==t.w,p=h!==t.h;return t.w=d,t.h=h,s.horizontal?{same:f,other:p}:{same:p,other:f}}function HD(t){const e=t.maxPadding;function s(a){const r=Math.max(e[a]-t[a],0);return t[a]+=r,r}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function $D(t,e){const s=e.maxPadding;function a(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],s[c])}),o}return a(t?["left","right"]:["top","bottom"])}function Vf(t,e,s,a){const r=[];let o,c,d,h,f,p;for(o=0,c=t.length,f=0;o<c;++o){d=t[o],h=d.box,h.update(d.width||e.w,d.height||e.h,$D(d.horizontal,e));const{same:x,other:v}=VD(e,s,d,a);f|=x&&r.length,p=p||v,h.fullSize||r.push(d)}return f&&Vf(r,e,s,a)||p}function Up(t,e,s,a,r){t.top=s,t.left=e,t.right=e+a,t.bottom=s+r,t.width=a,t.height=r}function W5(t,e,s,a){const r=s.padding;let{x:o,y:c}=e;for(const d of t){const h=d.box,f=a[d.stack]||{placed:0,weight:1},p=d.stackWeight/f.weight||1;if(d.horizontal){const x=e.w*p,v=f.size||h.height;lm(f.start)&&(c=f.start),h.fullSize?Up(h,r.left,c,s.outerWidth-r.right-r.left,v):Up(h,e.left+f.placed,c,x,v),f.start=c,f.placed+=x,c=h.bottom}else{const x=e.h*p,v=f.size||h.width;lm(f.start)&&(o=f.start),h.fullSize?Up(h,o,r.top,v,s.outerHeight-r.bottom-r.top):Up(h,o,e.top+f.placed,v,x),f.start=o,f.placed+=x,o=h.right}}e.x=o,e.y=c}var Ri={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,a){if(!t)return;const r=zi(t.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(s-r.height,0),d=UD(t.boxes),h=d.vertical,f=d.horizontal;sn(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const p=h.reduce((_,k)=>k.box.options&&k.box.options.display===!1?_:_+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),v=Object.assign({},r);S4(v,zi(a));const y=Object.assign({maxPadding:v,w:o,h:c,x:r.left,y:r.top},r),N=qD(h.concat(f),x);Vf(d.fullSize,y,x,N),Vf(h,y,x,N),Vf(f,y,x,N)&&Vf(h,y,x,N),HD(y),W5(d.leftAndTop,y,x,N),y.x+=y.w,y.y+=y.h,W5(d.rightAndBottom,y,x,N),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},sn(d.chartArea,_=>{const k=_.box;Object.assign(k,t.chartArea),k.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class _4{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,a){}removeEventListener(e,s,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,a,r){return s=Math.max(0,s||e.width),a=a||e.height,{width:s,height:Math.max(0,r?Math.floor(s/r):a)}}isAttached(e){return!0}updateConfig(e){}}class YD extends _4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const d0="$chartjs",WD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},G5=t=>t===null||t==="";function GD(t,e){const s=t.style,a=t.getAttribute("height"),r=t.getAttribute("width");if(t[d0]={initial:{height:a,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",G5(r)){const o=L5(t,"width");o!==void 0&&(t.width=o)}if(G5(a))if(t.style.height==="")t.height=t.width/(e||2);else{const o=L5(t,"height");o!==void 0&&(t.height=o)}return t}const A4=W8?{passive:!0}:!1;function XD(t,e,s){t&&t.addEventListener(e,s,A4)}function KD(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,A4)}function ZD(t,e){const s=WD[t.type]||t.type,{x:a,y:r}=qd(t,e);return{type:s,chart:e,native:t,x:a!==void 0?a:null,y:r!==void 0?r:null}}function L0(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function JD(t,e,s){const a=t.canvas,r=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||L0(d.addedNodes,a),c=c&&!L0(d.removedNodes,a);c&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function QD(t,e,s){const a=t.canvas,r=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||L0(d.removedNodes,a),c=c&&!L0(d.addedNodes,a);c&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const fm=new Map;let X5=0;function C4(){const t=window.devicePixelRatio;t!==X5&&(X5=t,fm.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function e7(t,e){fm.size||window.addEventListener("resize",C4),fm.set(t,e)}function t7(t){fm.delete(t),fm.size||window.removeEventListener("resize",C4)}function s7(t,e,s){const a=t.canvas,r=a&&Ky(a);if(!r)return;const o=l4((d,h)=>{const f=r.clientWidth;s(d,h),f<r.clientWidth&&s()},window),c=new ResizeObserver(d=>{const h=d[0],f=h.contentRect.width,p=h.contentRect.height;f===0&&p===0||o(f,p)});return c.observe(r),e7(t,o),c}function Kx(t,e,s){s&&s.disconnect(),e==="resize"&&t7(t)}function n7(t,e,s){const a=t.canvas,r=l4(o=>{t.ctx!==null&&s(ZD(o,t))},t);return XD(a,e,r),r}class a7 extends _4{acquireContext(e,s){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(GD(e,s),a):null}releaseContext(e){const s=e.canvas;if(!s[d0])return!1;const a=s[d0].initial;["height","width"].forEach(o=>{const c=a[o];Ks(c)?s.removeAttribute(o):s.setAttribute(o,c)});const r=a.style||{};return Object.keys(r).forEach(o=>{s.style[o]=r[o]}),s.width=s.width,delete s[d0],!0}addEventListener(e,s,a){this.removeEventListener(e,s);const r=e.$proxies||(e.$proxies={}),c={attach:JD,detach:QD,resize:s7}[s]||n7;r[s]=c(e,s,a)}removeEventListener(e,s){const a=e.$proxies||(e.$proxies={}),r=a[s];if(!r)return;({attach:Kx,detach:Kx,resize:Kx}[s]||KD)(e,s,r),a[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,a,r){return Y8(e,s,a,r)}isAttached(e){const s=e&&Ky(e);return!!(s&&s.isConnected)}}function r7(t){return!Xy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?YD:a7}var i0;let Jl=(i0=class{constructor(){qt(this,"x");qt(this,"y");qt(this,"active",!1);qt(this,"options");qt(this,"$animations")}tooltipPosition(e){const{x:s,y:a}=this.getProps(["x","y"],e);return{x:s,y:a}}hasValue(){return cm(this.x)&&cm(this.y)}getProps(e,s){const a=this.$animations;if(!s||!a)return this;const r={};return e.forEach(o=>{r[o]=a[o]&&a[o].active()?a[o]._to:this[o]}),r}},qt(i0,"defaults",{}),qt(i0,"defaultRoutes"),i0);function i7(t,e){const s=t.options.ticks,a=o7(t),r=Math.min(s.maxTicksLimit||a,a),o=s.major.enabled?c7(e):[],c=o.length,d=o[0],h=o[c-1],f=[];if(c>r)return d7(e,f,o,c/r),f;const p=l7(o,e,r);if(c>0){let x,v;const y=c>1?Math.round((h-d)/(c-1)):null;for(Vp(e,f,p,Ks(y)?0:d-y,d),x=0,v=c-1;x<v;x++)Vp(e,f,p,o[x],o[x+1]);return Vp(e,f,p,h,Ks(y)?e.length:h+y),f}return Vp(e,f,p),f}function o7(t){const e=t.options.offset,s=t._tickSize(),a=t._length/s+(e?0:1),r=t._maxLength/s;return Math.floor(Math.min(a,r))}function l7(t,e,s){const a=u7(t),r=e.length/s;if(!a)return Math.max(r,1);const o=$k(a);for(let c=0,d=o.length-1;c<d;c++){const h=o[c];if(h>r)return h}return Math.max(r,1)}function c7(t){const e=[];let s,a;for(s=0,a=t.length;s<a;s++)t[s].major&&e.push(s);return e}function d7(t,e,s,a){let r=0,o=s[0],c;for(a=Math.ceil(a),c=0;c<t.length;c++)c===o&&(e.push(t[c]),r++,o=s[r*a])}function Vp(t,e,s,a,r){const o=Ds(a,0),c=Math.min(Ds(r,t.length),t.length);let d=0,h,f,p;for(s=Math.ceil(s),r&&(h=r-a,s=h/Math.floor(h/s)),p=o;p<0;)d++,p=Math.round(o+d*s);for(f=Math.max(o,0);f<c;f++)f===p&&(e.push(t[f]),d++,p=Math.round(o+d*s))}function u7(t){const e=t.length;let s,a;if(e<2)return!1;for(a=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==a)return!1;return a}const h7=t=>t==="left"?"right":t==="right"?"left":t,K5=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Z5=(t,e)=>Math.min(e||t,t);function J5(t,e){const s=[],a=t.length/e,r=t.length;let o=0;for(;o<r;o+=a)s.push(t[Math.floor(o)]);return s}function f7(t,e,s){const a=t.ticks.length,r=Math.min(e,a-1),o=t._startPixel,c=t._endPixel,d=1e-6;let h=t.getPixelForTick(r),f;if(!(s&&(a===1?f=Math.max(h-o,c-h):e===0?f=(t.getPixelForTick(1)-h)/2:f=(h-t.getPixelForTick(r-1))/2,h+=r<e?f:-f,h<o-d||h>c+d)))return h}function m7(t,e){sn(t,s=>{const a=s.gc,r=a.length/2;let o;if(r>e){for(o=0;o<r;++o)delete s.data[a[o]];a.splice(0,r)}})}function Ef(t){return t.drawTicks?t.tickLength:0}function Q5(t,e){if(!t.display)return 0;const s=cr(t.font,e),a=zi(t.padding);return(Na(t.text)?t.text.length:1)*s.lineHeight+a.height}function p7(t,e){return uu(t,{scale:e,type:"scale"})}function g7(t,e,s){return uu(t,{tick:s,index:e,type:"tick"})}function x7(t,e,s){let a=Iy(t);return(s&&e!=="right"||!s&&e==="right")&&(a=h7(a)),a}function b7(t,e,s,a){const{top:r,left:o,bottom:c,right:d,chart:h}=t,{chartArea:f,scales:p}=h;let x=0,v,y,N;const _=c-r,k=d-o;if(t.isHorizontal()){if(y=nr(a,o,d),qs(s)){const C=Object.keys(s)[0],D=s[C];N=p[C].getPixelForValue(D)+_-e}else s==="center"?N=(f.bottom+f.top)/2+_-e:N=K5(t,s,e);v=d-o}else{if(qs(s)){const C=Object.keys(s)[0],D=s[C];y=p[C].getPixelForValue(D)-k+e}else s==="center"?y=(f.left+f.right)/2-k+e:y=K5(t,s,e);N=nr(a,c,r),x=s==="left"?-ja:ja}return{titleX:y,titleY:N,maxWidth:v,rotation:x}}class Ah extends Jl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:a,_suggestedMax:r}=this;return e=Zo(e,Number.POSITIVE_INFINITY),s=Zo(s,Number.NEGATIVE_INFINITY),a=Zo(a,Number.POSITIVE_INFINITY),r=Zo(r,Number.NEGATIVE_INFINITY),{min:Zo(e,a),max:Zo(s,r),minDefined:Bi(e),maxDefined:Bi(s)}}getMinMax(e){let{min:s,max:a,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:s,max:a};const d=this.getMatchingVisibleMetas();for(let h=0,f=d.length;h<f;++h)c=d[h].controller.getMinMax(this,e),r||(s=Math.min(s,c.min)),o||(a=Math.max(a,c.max));return s=o&&s>a?a:s,a=r&&s>a?s:a,{min:Zo(s,Zo(a,s)),max:Zo(a,Zo(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wn(this.options.beforeUpdate,[this])}update(e,s,a){const{beginAtZero:r,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=S8(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?J5(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=i7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,a;this.isHorizontal()?(s=this.left,a=this.right):(s=this.top,a=this.bottom,e=!e),this._startPixel=s,this._endPixel=a,this._reversePixels=e,this._length=a-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wn(this.options.afterUpdate,[this])}beforeSetDimensions(){wn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let a,r,o;for(a=0,r=e.length;a<r;a++)o=e[a],o.label=wn(s.callback,[o.value,a,e],this)}afterTickToLabelConversion(){wn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,a=Z5(this.ticks.length,e.ticks.maxTicksLimit),r=s.minRotation||0,o=s.maxRotation;let c=r,d,h,f;if(!this._isVisible()||!s.display||r>=o||a<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),x=p.widest.width,v=p.highest.height,y=lr(this.chart.width-x,0,this.maxWidth);d=e.offset?this.maxWidth/a:y/(a-1),x+6>d&&(d=y/(a-(e.offset?.5:1)),h=this.maxHeight-Ef(e.grid)-s.padding-Q5(e.title,this.chart.options.font),f=Math.sqrt(x*x+v*v),c=Xk(Math.min(Math.asin(lr((p.highest.height+6)/d,-1,1)),Math.asin(lr(h/f,-1,1))-Math.asin(lr(v/f,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){wn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:a,title:r,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const h=Q5(r,s.options.font);if(d?(e.width=this.maxWidth,e.height=Ef(o)+h):(e.height=this.maxHeight,e.width=Ef(o)+h),a.display&&this.ticks.length){const{first:f,last:p,widest:x,highest:v}=this._getLabelSizes(),y=a.padding*2,N=Yl(this.labelRotation),_=Math.cos(N),k=Math.sin(N);if(d){const C=a.mirror?0:k*x.width+_*v.height;e.height=Math.min(this.maxHeight,e.height+C+y)}else{const C=a.mirror?0:_*x.width+k*v.height;e.width=Math.min(this.maxWidth,e.width+C+y)}this._calculatePadding(f,p,k,_)}}this._handleMargins(),d?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,a,r){const{ticks:{align:o,padding:c},position:d}=this.options,h=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,y=0;h?f?(v=r*e.width,y=a*s.height):(v=a*e.height,y=r*s.width):o==="start"?y=s.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,y=s.width/2),this.paddingLeft=Math.max((v-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-x+c)*this.width/(this.width-x),0)}else{let p=s.height/2,x=e.height/2;o==="start"?(p=0,x=e.height):o==="end"&&(p=s.height,x=0),this.paddingTop=p+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,a;for(s=0,a=e.length;s<a;s++)Ks(e[s].label)&&(e.splice(s,1),a--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let a=this.ticks;s<a.length&&(a=J5(a,s)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,a){const{ctx:r,_longestTextCache:o}=this,c=[],d=[],h=Math.floor(s/Z5(s,a));let f=0,p=0,x,v,y,N,_,k,C,D,L,$,W;for(x=0;x<s;x+=h){if(N=e[x].label,_=this._resolveTickFontOptions(x),r.font=k=_.string,C=o[k]=o[k]||{data:{},gc:[]},D=_.lineHeight,L=$=0,!Ks(N)&&!Na(N))L=A5(r,C.data,C.gc,L,N),$=D;else if(Na(N))for(v=0,y=N.length;v<y;++v)W=N[v],!Ks(W)&&!Na(W)&&(L=A5(r,C.data,C.gc,L,W),$+=D);c.push(L),d.push($),f=Math.max(L,f),p=Math.max($,p)}m7(o,s);const le=c.indexOf(f),ee=d.indexOf(p),U=oe=>({width:c[oe]||0,height:d[oe]||0});return{first:U(0),last:U(s-1),widest:U(le),highest:U(ee),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return Zk(this._alignToPixels?Fd(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const a=s[e];return a.$context||(a.$context=g7(this.getContext(),e,a))}return this.$context||(this.$context=p7(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Yl(this.labelRotation),a=Math.abs(Math.cos(s)),r=Math.abs(Math.sin(s)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,d=o?o.widest.width+c:0,h=o?o.highest.height+c:0;return this.isHorizontal()?h*a>d*r?d/a:h/r:h*r<d*a?h/a:d/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,a=this.chart,r=this.options,{grid:o,position:c,border:d}=r,h=o.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),v=Ef(o),y=[],N=d.setContext(this.getContext()),_=N.display?N.width:0,k=_/2,C=function(z){return Fd(a,z,_)};let D,L,$,W,le,ee,U,oe,re,O,R,ie;if(c==="top")D=C(this.bottom),ee=this.bottom-v,oe=D-k,O=C(e.top)+k,ie=e.bottom;else if(c==="bottom")D=C(this.top),O=e.top,ie=C(e.bottom)-k,ee=D+k,oe=this.top+v;else if(c==="left")D=C(this.right),le=this.right-v,U=D-k,re=C(e.left)+k,R=e.right;else if(c==="right")D=C(this.left),re=e.left,R=C(e.right)-k,le=D+k,U=this.left+v;else if(s==="x"){if(c==="center")D=C((e.top+e.bottom)/2+.5);else if(qs(c)){const z=Object.keys(c)[0],J=c[z];D=C(this.chart.scales[z].getPixelForValue(J))}O=e.top,ie=e.bottom,ee=D+k,oe=ee+v}else if(s==="y"){if(c==="center")D=C((e.left+e.right)/2);else if(qs(c)){const z=Object.keys(c)[0],J=c[z];D=C(this.chart.scales[z].getPixelForValue(J))}le=D-k,U=le-v,re=e.left,R=e.right}const X=Ds(r.ticks.maxTicksLimit,x),se=Math.max(1,Math.ceil(x/X));for(L=0;L<x;L+=se){const z=this.getContext(L),J=o.setContext(z),Q=d.setContext(z),xe=J.lineWidth,B=J.color,me=Q.dash||[],M=Q.dashOffset,T=J.tickWidth,q=J.tickColor,Y=J.tickBorderDash||[],I=J.tickBorderDashOffset;$=f7(this,L,h),$!==void 0&&(W=Fd(a,$,xe),f?le=U=re=R=W:ee=oe=O=ie=W,y.push({tx1:le,ty1:ee,tx2:U,ty2:oe,x1:re,y1:O,x2:R,y2:ie,width:xe,color:B,borderDash:me,borderDashOffset:M,tickWidth:T,tickColor:q,tickBorderDash:Y,tickBorderDashOffset:I}))}return this._ticksLength=x,this._borderValue=D,y}_computeLabelItems(e){const s=this.axis,a=this.options,{position:r,ticks:o}=a,c=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:f,padding:p,mirror:x}=o,v=Ef(a.grid),y=v+p,N=x?-p:y,_=-Yl(this.labelRotation),k=[];let C,D,L,$,W,le,ee,U,oe,re,O,R,ie="middle";if(r==="top")le=this.bottom-N,ee=this._getXAxisLabelAlignment();else if(r==="bottom")le=this.top+N,ee=this._getXAxisLabelAlignment();else if(r==="left"){const se=this._getYAxisLabelAlignment(v);ee=se.textAlign,W=se.x}else if(r==="right"){const se=this._getYAxisLabelAlignment(v);ee=se.textAlign,W=se.x}else if(s==="x"){if(r==="center")le=(e.top+e.bottom)/2+y;else if(qs(r)){const se=Object.keys(r)[0],z=r[se];le=this.chart.scales[se].getPixelForValue(z)+y}ee=this._getXAxisLabelAlignment()}else if(s==="y"){if(r==="center")W=(e.left+e.right)/2-y;else if(qs(r)){const se=Object.keys(r)[0],z=r[se];W=this.chart.scales[se].getPixelForValue(z)}ee=this._getYAxisLabelAlignment(v).textAlign}s==="y"&&(h==="start"?ie="top":h==="end"&&(ie="bottom"));const X=this._getLabelSizes();for(C=0,D=d.length;C<D;++C){L=d[C],$=L.label;const se=o.setContext(this.getContext(C));U=this.getPixelForTick(C)+o.labelOffset,oe=this._resolveTickFontOptions(C),re=oe.lineHeight,O=Na($)?$.length:1;const z=O/2,J=se.color,Q=se.textStrokeColor,xe=se.textStrokeWidth;let B=ee;c?(W=U,ee==="inner"&&(C===D-1?B=this.options.reverse?"left":"right":C===0?B=this.options.reverse?"right":"left":B="center"),r==="top"?f==="near"||_!==0?R=-O*re+re/2:f==="center"?R=-X.highest.height/2-z*re+re:R=-X.highest.height+re/2:f==="near"||_!==0?R=re/2:f==="center"?R=X.highest.height/2-z*re:R=X.highest.height-O*re,x&&(R*=-1),_!==0&&!se.showLabelBackdrop&&(W+=re/2*Math.sin(_))):(le=U,R=(1-O)*re/2);let me;if(se.showLabelBackdrop){const M=zi(se.backdropPadding),T=X.heights[C],q=X.widths[C];let Y=R-M.top,I=0-M.left;switch(ie){case"middle":Y-=T/2;break;case"bottom":Y-=T;break}switch(ee){case"center":I-=q/2;break;case"right":I-=q;break;case"inner":C===D-1?I-=q:C>0&&(I-=q/2);break}me={left:I,top:Y,width:q+M.width,height:T+M.height,color:se.backdropColor}}k.push({label:$,font:oe,textOffset:R,options:{rotation:_,color:J,strokeColor:Q,strokeWidth:xe,textAlign:B,textBaseline:ie,translation:[W,le],backdrop:me}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Yl(this.labelRotation))return e==="top"?"left":"right";let r="center";return s.align==="start"?r="left":s.align==="end"?r="right":s.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:a,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),d=e+o,h=c.widest.width;let f,p;return s==="left"?r?(p=this.right+o,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p+=h)):(p=this.right-d,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p=this.left)):s==="right"?r?(p=this.left+o,a==="near"?f="right":a==="center"?(f="center",p-=h/2):(f="left",p-=h)):(p=this.left+d,a==="near"?f="left":a==="center"?(f="center",p+=h/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:a,top:r,width:o,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(a,r,o,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?s.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const s=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const d=(h,f,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(h.x,h.y),a.lineTo(f.x,f.y),a.stroke(),a.restore())};if(s.display)for(o=0,c=r.length;o<c;++o){const h=r[o];s.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:a,grid:r}}=this,o=a.setContext(this.getContext()),c=a.display?o.width:0;if(!c)return;const d=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,p,x,v;this.isHorizontal()?(f=Fd(e,this.left,c)-c/2,p=Fd(e,this.right,d)+d/2,x=v=h):(x=Fd(e,this.top,c)-c/2,v=Fd(e,this.bottom,d)+d/2,f=p=h),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(f,x),s.lineTo(p,v),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const a=this.ctx,r=this._computeLabelArea();r&&Vy(a,r);const o=this.getLabelItems(e);for(const c of o){const d=c.options,h=c.font,f=c.label,p=c.textOffset;hm(a,f,0,p,h,d)}r&&Hy(a)}drawTitle(){const{ctx:e,options:{position:s,title:a,reverse:r}}=this;if(!a.display)return;const o=cr(a.font),c=zi(a.padding),d=a.align;let h=o.lineHeight/2;s==="bottom"||s==="center"||qs(s)?(h+=c.bottom,Na(a.text)&&(h+=o.lineHeight*(a.text.length-1))):h+=c.top;const{titleX:f,titleY:p,maxWidth:x,rotation:v}=b7(this,h,s,d);hm(e,a.text,0,0,o,{color:a.color,maxWidth:x,rotation:v,textAlign:x7(d,s,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,a=Ds(e.grid&&e.grid.z,-1),r=Ds(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ah.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:a,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",r=[];let o,c;for(o=0,c=s.length;o<c;++o){const d=s[o];d[a]===this.id&&(!e||d.type===e)&&r.push(d)}return r}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return cr(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hp{constructor(e,s,a){this.type=e,this.scope=s,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let a;w7(s)&&(a=this.register(s));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,y7(e,c,a),this.override&&ra.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,a=e.id,r=this.scope;a in s&&delete s[a],r&&a in ra[r]&&(delete ra[r][a],this.override&&delete ou[a])}}function y7(t,e,s){const a=om(Object.create(null),[s?ra.get(s):{},ra.get(e),t.defaults]);ra.set(e,a),t.defaultRoutes&&v7(e,t.defaultRoutes),t.descriptors&&ra.describe(e,t.descriptors)}function v7(t,e){Object.keys(e).forEach(s=>{const a=s.split("."),r=a.pop(),o=[t].concat(a).join("."),c=e[s].split("."),d=c.pop(),h=c.join(".");ra.route(o,r,h,d)})}function w7(t){return"id"in t&&"defaults"in t}class N7{constructor(){this.controllers=new Hp(Qd,"datasets",!0),this.elements=new Hp(Jl,"elements"),this.plugins=new Hp(Object,"plugins"),this.scales=new Hp(Ah,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,a){[...s].forEach(r=>{const o=a||this._getRegistryForType(r);a||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):sn(r,c=>{const d=a||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,s,a){const r=By(e);wn(a["before"+r],[],a),s[e](a),wn(a["after"+r],[],a)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const a=this._typedRegistries[s];if(a.isForType(e))return a}return this.plugins}_get(e,s,a){const r=s.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+a+".");return r}}var sl=new N7;class j7{constructor(){this._init=[]}notify(e,s,a,r){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,s,a);return s==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,s,a,r){r=r||{};for(const o of e){const c=o.plugin,d=c[a],h=[s,r,o.options];if(wn(d,h,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Ks(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const a=e&&e.config,r=Ds(a.options&&a.options.plugins,{}),o=S7(a);return r===!1&&!s?[]:A7(e,o,r,s)}_notifyStateChanges(e){const s=this._oldCache||[],a=this._cache,r=(o,c)=>o.filter(d=>!c.some(h=>d.plugin.id===h.plugin.id));this._notify(r(s,a),e,"stop"),this._notify(r(a,s),e,"start")}}function S7(t){const e={},s=[],a=Object.keys(sl.plugins.items);for(let o=0;o<a.length;o++)s.push(sl.getPlugin(a[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function _7(t,e){return!e&&t===!1?null:t===!0?{}:t}function A7(t,{plugins:e,localIds:s},a,r){const o=[],c=t.getContext();for(const d of e){const h=d.id,f=_7(a[h],r);f!==null&&o.push({plugin:d,options:C7(t.config,{plugin:d,local:s[h]},f,c)})}return o}function C7(t,{plugin:e,local:s},a,r){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(a,o);return s&&e.defaults&&c.push(e.defaults),t.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rb(t,e){const s=ra.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function k7(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function D7(t,e){return t===e?"_index_":"_value_"}function ew(t){if(t==="x"||t==="y"||t==="r")return t}function E7(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Fb(t,...e){if(ew(t))return t;for(const s of e){const a=s.axis||E7(s.position)||t.length>1&&ew(t[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function tw(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function L7(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(a=>a.xAxisID===t||a.yAxisID===t);if(s.length)return tw(t,"x",s[0])||tw(t,"y",s[0])}return{}}function T7(t,e){const s=ou[t.type]||{scales:{}},a=e.scales||{},r=Rb(t.type,e),o=Object.create(null);return Object.keys(a).forEach(c=>{const d=a[c];if(!qs(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=Fb(c,d,L7(c,t),ra.scales[d.type]),f=D7(h,r),p=s.scales||{};o[c]=Kf(Object.create(null),[{axis:h},d,p[h],p[f]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,h=c.indexAxis||Rb(d,e),p=(ou[d]||{}).scales||{};Object.keys(p).forEach(x=>{const v=k7(x,h),y=c[v+"AxisID"]||v;o[y]=o[y]||Object.create(null),Kf(o[y],[{axis:v},a[y],p[x]])})}),Object.keys(o).forEach(c=>{const d=o[c];Kf(d,[ra.scales[d.type],ra.scale])}),o}function k4(t){const e=t.options||(t.options={});e.plugins=Ds(e.plugins,{}),e.scales=T7(t,e)}function D4(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function M7(t){return t=t||{},t.data=D4(t.data),k4(t),t}const sw=new Map,E4=new Set;function $p(t,e){let s=sw.get(t);return s||(s=e(),sw.set(t,s),E4.add(s)),s}const Lf=(t,e,s)=>{const a=iu(e,s);a!==void 0&&t.add(a)};class P7{constructor(e){this._config=M7(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=D4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),k4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $p(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return $p(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return $p(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,a=this.type;return $p(`${a}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const a=this._scopeCache;let r=a.get(e);return(!r||s)&&(r=new Map,a.set(e,r)),r}getOptionScopes(e,s,a){const{options:r,type:o}=this,c=this._cachedScopes(e,a),d=c.get(s);if(d)return d;const h=new Set;s.forEach(p=>{e&&(h.add(e),p.forEach(x=>Lf(h,e,x))),p.forEach(x=>Lf(h,r,x)),p.forEach(x=>Lf(h,ou[o]||{},x)),p.forEach(x=>Lf(h,ra,x)),p.forEach(x=>Lf(h,Mb,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),E4.has(s)&&c.set(s,f),f}chartOptionScopes(){const{options:e,type:s}=this;return[e,ou[s]||{},ra.datasets[s]||{},{type:s},ra,Mb]}resolveNamedOptions(e,s,a,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=nw(this._resolverCache,e,r);let h=c;if(R7(c,s)){o.$shared=!1,a=td(a)?a():a;const f=this.createResolver(e,a,d);h=yh(c,a,f)}for(const f of s)o[f]=h[f];return o}createResolver(e,s,a=[""],r){const{resolver:o}=nw(this._resolverCache,e,a);return qs(s)?yh(o,s,void 0,r):o}}function nw(t,e,s){let a=t.get(e);a||(a=new Map,t.set(e,a));const r=s.join();let o=a.get(r);return o||(o={resolver:Yy(e,s),subPrefixes:s.filter(d=>!d.toLowerCase().includes("hover"))},a.set(r,o)),o}const O7=t=>qs(t)&&Object.getOwnPropertyNames(t).some(e=>td(t[e]));function R7(t,e){const{isScriptable:s,isIndexable:a}=h4(t);for(const r of e){const o=s(r),c=a(r),d=(c||o)&&t[r];if(o&&(td(d)||O7(d))||c&&Na(d))return!0}return!1}var F7="4.5.0";const B7=["top","bottom","left","right","chartArea"];function aw(t,e){return t==="top"||t==="bottom"||B7.indexOf(t)===-1&&e==="x"}function rw(t,e){return function(s,a){return s[t]===a[t]?s[e]-a[e]:s[t]-a[t]}}function iw(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),wn(s&&s.onComplete,[t],e)}function z7(t){const e=t.chart,s=e.options.animation;wn(s&&s.onProgress,[t],e)}function L4(t){return Xy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const u0={},ow=t=>{const e=L4(t);return Object.values(u0).filter(s=>s.canvas===e).pop()};function I7(t,e,s){const a=Object.keys(t);for(const r of a){const o=+r;if(o>=e){const c=t[r];delete t[r],(s>0||o>e)&&(t[o+s]=c)}}}function q7(t,e,s,a){return!s||t.type==="mouseout"?null:a?e:t}var qc;let cg=(qc=class{static register(...e){sl.add(...e),lw()}static unregister(...e){sl.remove(...e),lw()}constructor(e,s){const a=this.config=new P7(s),r=L4(e),o=ow(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||r7(r)),this.platform.updateConfig(a);const d=this.platform.acquireContext(r,c.aspectRatio),h=d&&d.canvas,f=h&&h.height,p=h&&h.width;if(this.id=Rk(),this.ctx=d,this.canvas=h,this.width=p,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new j7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=t8(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],u0[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Vl.listen(this,"complete",iw),Vl.listen(this,"progress",z7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:a,height:r,_aspectRatio:o}=this;return Ks(e)?s&&o?o:r?a/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():E5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return C5(this.canvas,this.ctx),this}stop(){return Vl.stop(this),this}resize(e,s){Vl.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const a=this.options,r=this.canvas,o=a.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,s,o),d=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,E5(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),wn(a.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};sn(s,(a,r)=>{a.id=r})}buildOrUpdateScales(){const e=this.options,s=e.scales,a=this.scales,r=Object.keys(a).reduce((c,d)=>(c[d]=!1,c),{});let o=[];s&&(o=o.concat(Object.keys(s).map(c=>{const d=s[c],h=Fb(c,d),f=h==="r",p=h==="x";return{options:d,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),sn(o,c=>{const d=c.options,h=d.id,f=Fb(h,d),p=Ds(d.type,c.dtype);(d.position===void 0||aw(d.position,f)!==aw(c.dposition))&&(d.position=c.dposition),r[h]=!0;let x=null;if(h in a&&a[h].type===p)x=a[h];else{const v=sl.getScale(p);x=new v({id:h,type:p,ctx:this.ctx,chart:this}),a[x.id]=x}x.init(d,e)}),sn(r,(c,d)=>{c||delete a[d]}),sn(a,c=>{Ri.configure(this,c,c.options),Ri.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,a=e.length;if(e.sort((r,o)=>r.index-o.index),a>s){for(let r=s;r<a;++r)this._destroyDatasetMeta(r);e.splice(s,a-s)}this._sortedMetasets=e.slice(0).sort(rw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((a,r)=>{s.filter(o=>o===a._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let a,r;for(this._removeUnreferencedMetasets(),a=0,r=s.length;a<r;a++){const o=s[a];let c=this.getDatasetMeta(a);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(a),c=this.getDatasetMeta(a)),c.type=d,c.indexAxis=o.indexAxis||Rb(d,this.options),c.order=o.order||0,c.index=a,c.label=""+o.label,c.visible=this.isDatasetVisible(a),c.controller)c.controller.updateIndex(a),c.controller.linkScales();else{const h=sl.getController(d),{datasetElementType:f,dataElementType:p}=ra.datasets[d];Object.assign(h,{dataElementType:sl.getElement(p),datasetElementType:f&&sl.getElement(f)}),c.controller=new h(this,a),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){sn(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const a=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:x}=this.getDatasetMeta(f),v=!r&&o.indexOf(x)===-1;x.buildOrUpdateElements(v),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=a.layout.autoPadding?c:0,this._updateLayout(c),r||sn(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(rw("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){sn(this.scales,e=>{Ri.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!x5(s,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:a,start:r,count:o}of s){const c=a==="_removeElements"?-o:o;I7(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,a=o=>new Set(e.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),r=a(0);for(let o=1;o<s;o++)if(!x5(r,a(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ri.update(this,this.width,this.height,e);const s=this.chartArea,a=s.width<=0||s.height<=0;this._layers=[],sn(this.boxes,r=>{a&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,a=this.data.datasets.length;s<a;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,a=this.data.datasets.length;s<a;++s)this._updateDataset(s,td(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const a=this.getDatasetMeta(e),r={meta:a,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(a.controller._update(s),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vl.has(this)?this.attached&&!Vl.running(this)&&Vl.start(this):(this.draw(),iw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:a,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,a=[];let r,o;for(r=0,o=s.length;r<o;++r){const c=s[r];(!e||c.visible)&&a.push(c)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,a={meta:e,index:e.index,cancelable:!0},r=oD(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&Vy(s,r),e.controller.draw(),r&&Hy(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return um(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,a,r){const o=BD.modes[s];return typeof o=="function"?o(this,e,a,r):[]}getDatasetMeta(e){const s=this.data.datasets[e],a=this._metasets;let r=a.filter(o=>o&&o._dataset===s).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=uu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!s.hidden}setDatasetVisibility(e,s){const a=this.getDatasetMeta(e);a.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,a){const r=a?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);lm(s)?(o.data[s].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),c.update(o,{visible:a}),this.update(d=>d.datasetIndex===e?r:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Vl.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),C5(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete u0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,a=(o,c)=>{s.addEventListener(this,o,c),e[o]=c},r=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};sn(this.options.events,o=>a(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,a=(h,f)=>{s.addEventListener(this,h,f),e[h]=f},r=(h,f)=>{e[h]&&(s.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let c;const d=()=>{r("attach",d),this.attached=!0,this.resize(),a("resize",o),a("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),a("attach",d)},s.isAttached(this.canvas)?d():c()}unbindEvents(){sn(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},sn(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,a){const r=a?"set":"remove";let o,c,d,h;for(s==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),d=0,h=e.length;d<h;++d){c=e[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],a=e.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!A0(a,s)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,s))}notifyPlugins(e,s,a){return this._plugins.notify(this,e,s,a)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,a){const r=this.options.hover,o=(h,f)=>h.filter(p=>!f.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),c=o(s,e),d=a?e:o(e,s);c.length&&this.updateHoverStyle(c,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(e,s){const a={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,r)===!1)return;const o=this._handleEvent(e,s,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(o||a.changed)&&this.render(),this}_handleEvent(e,s,a){const{_active:r=[],options:o}=this,c=s,d=this._getActiveElements(e,r,a,c),h=Uk(e),f=q7(e,this._lastEvent,a,h);a&&(this._lastEvent=null,wn(o.onHover,[e,d,this],this),h&&wn(o.onClick,[e,d,this],this));const p=!A0(d,r);return(p||s)&&(this._active=d,this._updateHoverStyles(d,r,s)),this._lastEvent=f,p}_getActiveElements(e,s,a,r){if(e.type==="mouseout")return[];if(!a)return s;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},qt(qc,"defaults",ra),qt(qc,"instances",u0),qt(qc,"overrides",ou),qt(qc,"registry",sl),qt(qc,"version",F7),qt(qc,"getChart",ow),qc);function lw(){return sn(cg.instances,t=>t._plugins.invalidate())}function U7(t,e,s){const{startAngle:a,x:r,y:o,outerRadius:c,innerRadius:d,options:h}=e,{borderWidth:f,borderJoinStyle:p}=h,x=Math.min(f/c,mo(a-s));if(t.beginPath(),t.arc(r,o,c-f/2,a+x/2,s-x/2),d>0){const v=Math.min(f/d,mo(a-s));t.arc(r,o,d+f/2,s-v/2,a+v/2,!0)}else{const v=Math.min(f/2,c*mo(a-s));if(p==="round")t.arc(r,o,v,s-nn/2,a+nn/2,!0);else if(p==="bevel"){const y=2*v*v,N=-y*Math.cos(s+nn/2)+r,_=-y*Math.sin(s+nn/2)+o,k=y*Math.cos(a+nn/2)+r,C=y*Math.sin(a+nn/2)+o;t.lineTo(N,_),t.lineTo(k,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function V7(t,e,s){const{startAngle:a,pixelMargin:r,x:o,y:c,outerRadius:d,innerRadius:h}=e;let f=r/d;t.beginPath(),t.arc(o,c,d,a-f,s+f),h>r?(f=r/h,t.arc(o,c,h,s+f,a-f,!0)):t.arc(o,c,r,s+ja,a-ja),t.closePath(),t.clip()}function H7(t){return $y(t,["outerStart","outerEnd","innerStart","innerEnd"])}function $7(t,e,s,a){const r=H7(t.options.borderRadius),o=(s-e)/2,c=Math.min(o,a*e/2),d=h=>{const f=(s-Math.min(o,h))*a/2;return lr(h,0,Math.min(o,f))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:lr(r.innerStart,0,c),innerEnd:lr(r.innerEnd,0,c)}}function Xu(t,e,s,a){return{x:s+t*Math.cos(e),y:a+t*Math.sin(e)}}function T0(t,e,s,a,r,o){const{x:c,y:d,startAngle:h,pixelMargin:f,innerRadius:p}=e,x=Math.max(e.outerRadius+a+s-f,0),v=p>0?p+a+s+f:0;let y=0;const N=r-h;if(a){const se=p>0?p-a:0,z=x>0?x-a:0,J=(se+z)/2,Q=J!==0?N*J/(J+a):N;y=(N-Q)/2}const _=Math.max(.001,N*x-s/nn)/x,k=(N-_)/2,C=h+k+y,D=r-k-y,{outerStart:L,outerEnd:$,innerStart:W,innerEnd:le}=$7(e,v,x,D-C),ee=x-L,U=x-$,oe=C+L/ee,re=D-$/U,O=v+W,R=v+le,ie=C+W/O,X=D-le/R;if(t.beginPath(),o){const se=(oe+re)/2;if(t.arc(c,d,x,oe,se),t.arc(c,d,x,se,re),$>0){const xe=Xu(U,re,c,d);t.arc(xe.x,xe.y,$,re,D+ja)}const z=Xu(R,D,c,d);if(t.lineTo(z.x,z.y),le>0){const xe=Xu(R,X,c,d);t.arc(xe.x,xe.y,le,D+ja,X+Math.PI)}const J=(D-le/v+(C+W/v))/2;if(t.arc(c,d,v,D-le/v,J,!0),t.arc(c,d,v,J,C+W/v,!0),W>0){const xe=Xu(O,ie,c,d);t.arc(xe.x,xe.y,W,ie+Math.PI,C-ja)}const Q=Xu(ee,C,c,d);if(t.lineTo(Q.x,Q.y),L>0){const xe=Xu(ee,oe,c,d);t.arc(xe.x,xe.y,L,C-ja,oe)}}else{t.moveTo(c,d);const se=Math.cos(oe)*x+c,z=Math.sin(oe)*x+d;t.lineTo(se,z);const J=Math.cos(re)*x+c,Q=Math.sin(re)*x+d;t.lineTo(J,Q)}t.closePath()}function Y7(t,e,s,a,r){const{fullCircles:o,startAngle:c,circumference:d}=e;let h=e.endAngle;if(o){T0(t,e,s,a,h,r);for(let f=0;f<o;++f)t.fill();isNaN(d)||(h=c+(d%Yn||Yn))}return T0(t,e,s,a,h,r),t.fill(),h}function W7(t,e,s,a,r){const{fullCircles:o,startAngle:c,circumference:d,options:h}=e,{borderWidth:f,borderJoinStyle:p,borderDash:x,borderDashOffset:v,borderRadius:y}=h,N=h.borderAlign==="inner";if(!f)return;t.setLineDash(x||[]),t.lineDashOffset=v,N?(t.lineWidth=f*2,t.lineJoin=p||"round"):(t.lineWidth=f,t.lineJoin=p||"bevel");let _=e.endAngle;if(o){T0(t,e,s,a,_,r);for(let k=0;k<o;++k)t.stroke();isNaN(d)||(_=c+(d%Yn||Yn))}N&&V7(t,e,_),h.selfJoin&&_-c>=nn&&y===0&&p!=="miter"&&U7(t,e,_),o||(T0(t,e,s,a,_,r),t.stroke())}class Hf extends Jl{constructor(s){super();qt(this,"circumference");qt(this,"endAngle");qt(this,"fullCircles");qt(this,"innerRadius");qt(this,"outerRadius");qt(this,"pixelMargin");qt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,a,r){const o=this.getProps(["x","y"],r),{angle:c,distance:d}=a4(o,{x:s,y:a}),{startAngle:h,endAngle:f,innerRadius:p,outerRadius:x,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,N=Ds(v,f-h),_=dm(c,h,f)&&h!==f,k=N>=Yn||_,C=Yc(d,p+y,x+y);return k&&C}getCenterPoint(s){const{x:a,y:r,startAngle:o,endAngle:c,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:f,spacing:p}=this.options,x=(o+c)/2,v=(d+h+p+f)/2;return{x:a+Math.cos(x)*v,y:r+Math.sin(x)*v}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:a,circumference:r}=this,o=(a.offset||0)/4,c=(a.spacing||0)/2,d=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>Yn?Math.floor(r/Yn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const h=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(h)*o,Math.sin(h)*o);const f=1-Math.sin(Math.min(nn,r||0)),p=o*f;s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,Y7(s,this,p,c,d),W7(s,this,p,c,d),s.restore()}}qt(Hf,"id","arc"),qt(Hf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),qt(Hf,"defaultRoutes",{backgroundColor:"backgroundColor"}),qt(Hf,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function T4(t,e,s=e){t.lineCap=Ds(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Ds(s.borderDash,e.borderDash)),t.lineDashOffset=Ds(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Ds(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ds(s.borderWidth,e.borderWidth),t.strokeStyle=Ds(s.borderColor,e.borderColor)}function G7(t,e,s){t.lineTo(s.x,s.y)}function X7(t){return t.stepped?p8:t.tension||t.cubicInterpolationMode==="monotone"?g8:G7}function M4(t,e,s={}){const a=t.length,{start:r=0,end:o=a-1}=s,{start:c,end:d}=e,h=Math.max(r,c),f=Math.min(o,d),p=r<c&&o<c||r>d&&o>d;return{count:a,start:h,loop:e.loop,ilen:f<h&&!p?a+f-h:f-h}}function K7(t,e,s,a){const{points:r,options:o}=e,{count:c,start:d,loop:h,ilen:f}=M4(r,s,a),p=X7(o);let{move:x=!0,reverse:v}=a||{},y,N,_;for(y=0;y<=f;++y)N=r[(d+(v?f-y:y))%c],!N.skip&&(x?(t.moveTo(N.x,N.y),x=!1):p(t,_,N,v,o.stepped),_=N);return h&&(N=r[(d+(v?f:0))%c],p(t,_,N,v,o.stepped)),!!h}function Z7(t,e,s,a){const r=e.points,{count:o,start:c,ilen:d}=M4(r,s,a),{move:h=!0,reverse:f}=a||{};let p=0,x=0,v,y,N,_,k,C;const D=$=>(c+(f?d-$:$))%o,L=()=>{_!==k&&(t.lineTo(p,k),t.lineTo(p,_),t.lineTo(p,C))};for(h&&(y=r[D(0)],t.moveTo(y.x,y.y)),v=0;v<=d;++v){if(y=r[D(v)],y.skip)continue;const $=y.x,W=y.y,le=$|0;le===N?(W<_?_=W:W>k&&(k=W),p=(x*p+$)/++x):(L(),t.lineTo($,W),N=le,x=0,_=k=W),C=W}L()}function Bb(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?Z7:K7}function J7(t){return t.stepped?G8:t.tension||t.cubicInterpolationMode==="monotone"?X8:Ud}function Q7(t,e,s,a){let r=e._path;r||(r=e._path=new Path2D,e.path(r,s,a)&&r.closePath()),T4(t,e.options),t.stroke(r)}function eE(t,e,s,a){const{segments:r,options:o}=e,c=Bb(e);for(const d of r)T4(t,o,d.style),t.beginPath(),c(t,e,d,{start:s,end:s+a-1})&&t.closePath(),t.stroke()}const tE=typeof Path2D=="function";function sE(t,e,s,a){tE&&!e.options.segment?Q7(t,e,s,a):eE(t,e,s,a)}class $f extends Jl{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const r=a.spanGaps?this._loop:this._fullLoop;I8(this._points,a,e,r,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nD(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,a=e.length;return a&&s[e[a-1].end]}interpolate(e,s){const a=this.options,r=e[s],o=this.points,c=eD(this,{property:s,start:r,end:r});if(!c.length)return;const d=[],h=J7(a);let f,p;for(f=0,p=c.length;f<p;++f){const{start:x,end:v}=c[f],y=o[x],N=o[v];if(y===N){d.push(y);continue}const _=Math.abs((r-y[s])/(N[s]-y[s])),k=h(y,N,_,a.stepped);k[s]=e[s],d.push(k)}return d.length===1?d[0]:d}pathSegment(e,s,a){return Bb(this)(e,this,s,a)}path(e,s,a){const r=this.segments,o=Bb(this);let c=this._loop;s=s||0,a=a||this.points.length-s;for(const d of r)c&=o(e,this,d,{start:s,end:s+a-1});return!!c}draw(e,s,a,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),sE(e,this,a,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}qt($f,"id","line"),qt($f,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),qt($f,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),qt($f,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function cw(t,e,s,a){const r=t.options,{[s]:o}=t.getProps([s],a);return Math.abs(e-o)<r.radius+r.hitRadius}class h0 extends Jl{constructor(s){super();qt(this,"parsed");qt(this,"skip");qt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,a,r){const o=this.options,{x:c,y:d}=this.getProps(["x","y"],r);return Math.pow(s-c,2)+Math.pow(a-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,a){return cw(this,s,"x",a)}inYRange(s,a){return cw(this,s,"y",a)}getCenterPoint(s){const{x:a,y:r}=this.getProps(["x","y"],s);return{x:a,y:r}}size(s){s=s||this.options||{};let a=s.radius||0;a=Math.max(a,a&&s.hoverRadius||0);const r=a&&s.borderWidth||0;return(a+r)*2}draw(s,a){const r=this.options;this.skip||r.radius<.1||!um(this,a,this.size(r)/2)||(s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.fillStyle=r.backgroundColor,Pb(s,r,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}qt(h0,"id","point"),qt(h0,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),qt(h0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function P4(t,e){const{x:s,y:a,base:r,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let d,h,f,p,x;return t.horizontal?(x=c/2,d=Math.min(s,r),h=Math.max(s,r),f=a-x,p=a+x):(x=o/2,d=s-x,h=s+x,f=Math.min(a,r),p=Math.max(a,r)),{left:d,top:f,right:h,bottom:p}}function Wc(t,e,s,a){return t?0:lr(e,s,a)}function nE(t,e,s){const a=t.options.borderWidth,r=t.borderSkipped,o=u4(a);return{t:Wc(r.top,o.top,0,s),r:Wc(r.right,o.right,0,e),b:Wc(r.bottom,o.bottom,0,s),l:Wc(r.left,o.left,0,e)}}function aE(t,e,s){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=ch(r),c=Math.min(e,s),d=t.borderSkipped,h=a||qs(r);return{topLeft:Wc(!h||d.top||d.left,o.topLeft,0,c),topRight:Wc(!h||d.top||d.right,o.topRight,0,c),bottomLeft:Wc(!h||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:Wc(!h||d.bottom||d.right,o.bottomRight,0,c)}}function rE(t){const e=P4(t),s=e.right-e.left,a=e.bottom-e.top,r=nE(t,s/2,a/2),o=aE(t,s/2,a/2);return{outer:{x:e.left,y:e.top,w:s,h:a,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:s-r.l-r.r,h:a-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Zx(t,e,s,a){const r=e===null,o=s===null,d=t&&!(r&&o)&&P4(t,a);return d&&(r||Yc(e,d.left,d.right))&&(o||Yc(s,d.top,d.bottom))}function iE(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function oE(t,e){t.rect(e.x,e.y,e.w,e.h)}function Jx(t,e,s={}){const a=t.x!==s.x?-e:0,r=t.y!==s.y?-e:0,o=(t.x+t.w!==s.x+s.w?e:0)-a,c=(t.y+t.h!==s.y+s.h?e:0)-r;return{x:t.x+a,y:t.y+r,w:t.w+o,h:t.h+c,radius:t.radius}}class f0 extends Jl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:a,backgroundColor:r}}=this,{inner:o,outer:c}=rE(this),d=iE(c.radius)?D0:oE;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),d(e,Jx(c,s,o)),e.clip(),d(e,Jx(o,-s,c)),e.fillStyle=a,e.fill("evenodd")),e.beginPath(),d(e,Jx(o,s)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,s,a){return Zx(this,e,s,a)}inXRange(e,s){return Zx(this,e,null,s)}inYRange(e,s){return Zx(this,null,e,s)}getCenterPoint(e){const{x:s,y:a,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(s+r)/2:s,y:o?a:(a+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}qt(f0,"id","bar"),qt(f0,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),qt(f0,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dw=(t,e)=>{let{boxHeight:s=e,boxWidth:a=e}=t;return t.usePointStyle&&(s=Math.min(s,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:s,itemHeight:Math.max(e,s)}},lE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class uw extends Jl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,a){this.maxWidth=e,this.maxHeight=s,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=wn(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(a=>e.filter(a,this.chart.data))),e.sort&&(s=s.sort((a,r)=>e.sort(a,r,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const a=e.labels,r=cr(a.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=dw(a,o);let f,p;s.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(c,o,d,h)+10):(p=this.maxHeight,f=this._fitCols(c,r,d,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,s,a,r){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+d;let x=e;o.textAlign="left",o.textBaseline="middle";let v=-1,y=-p;return this.legendItems.forEach((N,_)=>{const k=a+s/2+o.measureText(N.text).width;(_===0||f[f.length-1]+k+2*d>c)&&(x+=p,f[f.length-(_>0?0:1)]=0,y+=p,v++),h[_]={left:0,top:y,row:v,width:k,height:r},f[f.length-1]+=k+d}),x}_fitCols(e,s,a,r){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],p=c-e;let x=d,v=0,y=0,N=0,_=0;return this.legendItems.forEach((k,C)=>{const{itemWidth:D,itemHeight:L}=cE(a,s,o,k,r);C>0&&y+L+2*d>p&&(x+=v+d,f.push({width:v,height:y}),N+=v+d,_++,v=y=0),h[C]={left:N,top:y,col:_,width:D,height:L},v=Math.max(v,D),y+=L+d}),x+=v,f.push({width:v,height:y}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:a,labels:{padding:r},rtl:o}}=this,c=dh(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=nr(a,this.left+r,this.right-this.lineWidths[d]);for(const f of s)d!==f.row&&(d=f.row,h=nr(a,this.left+r,this.right-this.lineWidths[d])),f.top+=this.top+e+r,f.left=c.leftForLtr(c.x(h),f.width),h+=f.width+r}else{let d=0,h=nr(a,this.top+e+r,this.bottom-this.columnSizes[d].height);for(const f of s)f.col!==d&&(d=f.col,h=nr(a,this.top+e+r,this.bottom-this.columnSizes[d].height)),f.top=h,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),h+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vy(e,this),this._draw(),Hy(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:a,ctx:r}=this,{align:o,labels:c}=e,d=ra.color,h=dh(e.rtl,this.left,this.width),f=cr(c.font),{padding:p}=c,x=f.size,v=x/2;let y;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:N,boxHeight:_,itemHeight:k}=dw(c,x),C=function(le,ee,U){if(isNaN(N)||N<=0||isNaN(_)||_<0)return;r.save();const oe=Ds(U.lineWidth,1);if(r.fillStyle=Ds(U.fillStyle,d),r.lineCap=Ds(U.lineCap,"butt"),r.lineDashOffset=Ds(U.lineDashOffset,0),r.lineJoin=Ds(U.lineJoin,"miter"),r.lineWidth=oe,r.strokeStyle=Ds(U.strokeStyle,d),r.setLineDash(Ds(U.lineDash,[])),c.usePointStyle){const re={radius:_*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:oe},O=h.xPlus(le,N/2),R=ee+v;d4(r,re,O,R,c.pointStyleWidth&&N)}else{const re=ee+Math.max((x-_)/2,0),O=h.leftForLtr(le,N),R=ch(U.borderRadius);r.beginPath(),Object.values(R).some(ie=>ie!==0)?D0(r,{x:O,y:re,w:N,h:_,radius:R}):r.rect(O,re,N,_),r.fill(),oe!==0&&r.stroke()}r.restore()},D=function(le,ee,U){hm(r,U.text,le,ee+k/2,f,{strikethrough:U.hidden,textAlign:h.textAlign(U.textAlign)})},L=this.isHorizontal(),$=this._computeTitleHeight();L?y={x:nr(o,this.left+p,this.right-a[0]),y:this.top+p+$,line:0}:y={x:this.left+p,y:nr(o,this.top+$+p,this.bottom-s[0].height),line:0},x4(this.ctx,e.textDirection);const W=k+p;this.legendItems.forEach((le,ee)=>{r.strokeStyle=le.fontColor,r.fillStyle=le.fontColor;const U=r.measureText(le.text).width,oe=h.textAlign(le.textAlign||(le.textAlign=c.textAlign)),re=N+v+U;let O=y.x,R=y.y;h.setWidth(this.width),L?ee>0&&O+re+p>this.right&&(R=y.y+=W,y.line++,O=y.x=nr(o,this.left+p,this.right-a[y.line])):ee>0&&R+W>this.bottom&&(O=y.x=O+s[y.line].width+p,y.line++,R=y.y=nr(o,this.top+$+p,this.bottom-s[y.line].height));const ie=h.x(O);if(C(ie,R,le),O=s8(oe,O+N+v,L?O+re:this.right,e.rtl),D(h.x(O),R,le),L)y.x+=re+p;else if(typeof le.text!="string"){const X=f.lineHeight;y.y+=O4(le,X)+p}else y.y+=W}),b4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,a=cr(s.font),r=zi(s.padding);if(!s.display)return;const o=dh(e.rtl,this.left,this.width),c=this.ctx,d=s.position,h=a.size/2,f=r.top+h;let p,x=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,x=nr(e.align,x,this.right-v);else{const N=this.columnSizes.reduce((_,k)=>Math.max(_,k.height),0);p=f+nr(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const y=nr(d,x,x+v);c.textAlign=o.textAlign(Iy(d)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=a.string,hm(c,s.text,y,p,a)}_computeTitleHeight(){const e=this.options.title,s=cr(e.font),a=zi(e.padding);return e.display?s.lineHeight+a.height:0}_getLegendItemAt(e,s){let a,r,o;if(Yc(e,this.left,this.right)&&Yc(s,this.top,this.bottom)){for(o=this.legendHitBoxes,a=0;a<o.length;++a)if(r=o[a],Yc(e,r.left,r.left+r.width)&&Yc(s,r.top,r.top+r.height))return this.legendItems[a]}return null}handleEvent(e){const s=this.options;if(!hE(e.type,s))return;const a=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=lE(r,a);r&&!o&&wn(s.onLeave,[e,r,this],this),this._hoveredItem=a,a&&!o&&wn(s.onHover,[e,a,this],this)}else a&&wn(s.onClick,[e,a,this],this)}}function cE(t,e,s,a,r){const o=dE(a,t,e,s),c=uE(r,a,e.lineHeight);return{itemWidth:o,itemHeight:c}}function dE(t,e,s,a){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+s.size/2+a.measureText(r).width}function uE(t,e,s){let a=t;return typeof e.text!="string"&&(a=O4(e,s)),a}function O4(t,e){const s=t.text?t.text.length:0;return e*s}function hE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var fE={id:"legend",_element:uw,start(t,e,s){const a=t.legend=new uw({ctx:t.ctx,options:s,chart:t});Ri.configure(t,a,s),Ri.addBox(t,a)},stop(t){Ri.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const a=t.legend;Ri.configure(t,a,s),a.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const a=e.datasetIndex,r=s.chart;r.isDatasetVisible(a)?(r.hide(a),e.hidden=!0):(r.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:a,textAlign:r,color:o,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(s?0:void 0),p=zi(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:a||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class R4 extends Jl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const r=Na(a.text)?a.text.length:1;this._padding=zi(a.padding);const o=r*cr(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:a,bottom:r,right:o,options:c}=this,d=c.align;let h=0,f,p,x;return this.isHorizontal()?(p=nr(d,a,o),x=s+e,f=o-a):(c.position==="left"?(p=a+e,x=nr(d,r,s),h=nn*-.5):(p=o-e,x=nr(d,s,r),h=nn*.5),f=r-s),{titleX:p,titleY:x,maxWidth:f,rotation:h}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const a=cr(s.font),o=a.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:h,rotation:f}=this._drawArgs(o);hm(e,s.text,0,0,a,{color:s.color,maxWidth:h,rotation:f,textAlign:Iy(s.align),textBaseline:"middle",translation:[c,d]})}}function mE(t,e){const s=new R4({ctx:t.ctx,options:e,chart:t});Ri.configure(t,s,e),Ri.addBox(t,s),t.titleBlock=s}var pE={id:"title",_element:R4,start(t,e,s){mE(t,s)},stop(t){const e=t.titleBlock;Ri.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const a=t.titleBlock;Ri.configure(t,a,s),a.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yf={average(t){if(!t.length)return!1;let e,s,a=new Set,r=0,o=0;for(e=0,s=t.length;e<s;++e){const d=t[e].element;if(d&&d.hasValue()){const h=d.tooltipPosition();a.add(h.x),r+=h.y,++o}}return o===0||a.size===0?!1:{x:[...a].reduce((d,h)=>d+h)/a.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let s=e.x,a=e.y,r=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=t.length;o<c;++o){const h=t[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),p=Tb(e,f);p<r&&(r=p,d=h)}}if(d){const h=d.tooltipPosition();s=h.x,a=h.y}return{x:s,y:a}}};function el(t,e){return e&&(Na(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Hl(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function gE(t,e){const{element:s,datasetIndex:a,index:r}=e,o=t.getDatasetMeta(a).controller,{label:c,value:d}=o.getLabelAndValue(r);return{chart:t,label:c,parsed:o.getParsed(r),raw:t.data.datasets[a].data[r],formattedValue:d,dataset:o.getDataset(),dataIndex:r,datasetIndex:a,element:s}}function hw(t,e){const s=t.chart.ctx,{body:a,footer:r,title:o}=t,{boxWidth:c,boxHeight:d}=e,h=cr(e.bodyFont),f=cr(e.titleFont),p=cr(e.footerFont),x=o.length,v=r.length,y=a.length,N=zi(e.padding);let _=N.height,k=0,C=a.reduce(($,W)=>$+W.before.length+W.lines.length+W.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,x&&(_+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),C){const $=e.displayColors?Math.max(d,h.lineHeight):h.lineHeight;_+=y*$+(C-y)*h.lineHeight+(C-1)*e.bodySpacing}v&&(_+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let D=0;const L=function($){k=Math.max(k,s.measureText($).width+D)};return s.save(),s.font=f.string,sn(t.title,L),s.font=h.string,sn(t.beforeBody.concat(t.afterBody),L),D=e.displayColors?c+2+e.boxPadding:0,sn(a,$=>{sn($.before,L),sn($.lines,L),sn($.after,L)}),D=0,s.font=p.string,sn(t.footer,L),s.restore(),k+=N.width,{width:k,height:_}}function xE(t,e){const{y:s,height:a}=e;return s<a/2?"top":s>t.height-a/2?"bottom":"center"}function bE(t,e,s,a){const{x:r,width:o}=a,c=s.caretSize+s.caretPadding;if(t==="left"&&r+o+c>e.width||t==="right"&&r-o-c<0)return!0}function yE(t,e,s,a){const{x:r,width:o}=s,{width:c,chartArea:{left:d,right:h}}=t;let f="center";return a==="center"?f=r<=(d+h)/2?"left":"right":r<=o/2?f="left":r>=c-o/2&&(f="right"),bE(f,t,e,s)&&(f="center"),f}function fw(t,e,s){const a=s.yAlign||e.yAlign||xE(t,s);return{xAlign:s.xAlign||e.xAlign||yE(t,e,s,a),yAlign:a}}function vE(t,e){let{x:s,width:a}=t;return e==="right"?s-=a:e==="center"&&(s-=a/2),s}function wE(t,e,s){let{y:a,height:r}=t;return e==="top"?a+=s:e==="bottom"?a-=r+s:a-=r/2,a}function mw(t,e,s,a){const{caretSize:r,caretPadding:o,cornerRadius:c}=t,{xAlign:d,yAlign:h}=s,f=r+o,{topLeft:p,topRight:x,bottomLeft:v,bottomRight:y}=ch(c);let N=vE(e,d);const _=wE(e,h,f);return h==="center"?d==="left"?N+=f:d==="right"&&(N-=f):d==="left"?N-=Math.max(p,v)+r:d==="right"&&(N+=Math.max(x,y)+r),{x:lr(N,0,a.width-e.width),y:lr(_,0,a.height-e.height)}}function Yp(t,e,s){const a=zi(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-a.right:t.x+a.left}function pw(t){return el([],Hl(t))}function NE(t,e,s){return uu(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function gw(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const F4={beforeTitle:ql,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,a=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return s[e.dataIndex]}return""},afterTitle:ql,beforeBody:ql,beforeLabel:ql,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Ks(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:ql,afterBody:ql,beforeFooter:ql,footer:ql,afterFooter:ql};function Br(t,e,s,a){const r=t[e].call(s,a);return typeof r>"u"?F4[e].call(s,a):r}class zb extends Jl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&s.options.animation&&a.animations,o=new v4(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=NE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:a}=s,r=Br(a,"beforeTitle",this,e),o=Br(a,"title",this,e),c=Br(a,"afterTitle",this,e);let d=[];return d=el(d,Hl(r)),d=el(d,Hl(o)),d=el(d,Hl(c)),d}getBeforeBody(e,s){return pw(Br(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:a}=s,r=[];return sn(e,o=>{const c={before:[],lines:[],after:[]},d=gw(a,o);el(c.before,Hl(Br(d,"beforeLabel",this,o))),el(c.lines,Br(d,"label",this,o)),el(c.after,Hl(Br(d,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,s){return pw(Br(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:a}=s,r=Br(a,"beforeFooter",this,e),o=Br(a,"footer",this,e),c=Br(a,"afterFooter",this,e);let d=[];return d=el(d,Hl(r)),d=el(d,Hl(o)),d=el(d,Hl(c)),d}_createItems(e){const s=this._active,a=this.chart.data,r=[],o=[],c=[];let d=[],h,f;for(h=0,f=s.length;h<f;++h)d.push(gE(this.chart,s[h]));return e.filter&&(d=d.filter((p,x,v)=>e.filter(p,x,v,a))),e.itemSort&&(d=d.sort((p,x)=>e.itemSort(p,x,a))),sn(d,p=>{const x=gw(e.callbacks,p);r.push(Br(x,"labelColor",this,p)),o.push(Br(x,"labelPointStyle",this,p)),c.push(Br(x,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(e,s){const a=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const d=Yf[a.position].call(this,r,this._eventPosition);c=this._createItems(a),this.title=this.getTitle(c,a),this.beforeBody=this.getBeforeBody(c,a),this.body=this.getBody(c,a),this.afterBody=this.getAfterBody(c,a),this.footer=this.getFooter(c,a);const h=this._size=hw(this,a),f=Object.assign({},d,h),p=fw(this.chart,a,f),x=mw(a,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,a,r){const o=this.getCaretPosition(e,a,r);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(e,s,a){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:d}=a,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:x}=ch(d),{x:v,y}=e,{width:N,height:_}=s;let k,C,D,L,$,W;return o==="center"?($=y+_/2,r==="left"?(k=v,C=k-c,L=$+c,W=$-c):(k=v+N,C=k+c,L=$-c,W=$+c),D=k):(r==="left"?C=v+Math.max(h,p)+c:r==="right"?C=v+N-Math.max(f,x)-c:C=this.caretX,o==="top"?(L=y,$=L-c,k=C-c,D=C+c):(L=y+_,$=L+c,k=C+c,D=C-c),W=L),{x1:k,x2:C,x3:D,y1:L,y2:$,y3:W}}drawTitle(e,s,a){const r=this.title,o=r.length;let c,d,h;if(o){const f=dh(a.rtl,this.x,this.width);for(e.x=Yp(this,a.titleAlign,a),s.textAlign=f.textAlign(a.titleAlign),s.textBaseline="middle",c=cr(a.titleFont),d=a.titleSpacing,s.fillStyle=a.titleColor,s.font=c.string,h=0;h<o;++h)s.fillText(r[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,h+1===o&&(e.y+=a.titleMarginBottom-d)}}_drawColorBox(e,s,a,r,o){const c=this.labelColors[a],d=this.labelPointStyles[a],{boxHeight:h,boxWidth:f}=o,p=cr(o.bodyFont),x=Yp(this,"left",o),v=r.x(x),y=h<p.lineHeight?(p.lineHeight-h)/2:0,N=s.y+y;if(o.usePointStyle){const _={radius:Math.min(f,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},k=r.leftForLtr(v,f)+f/2,C=N+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Pb(e,_,k,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Pb(e,_,k,C)}else{e.lineWidth=qs(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const _=r.leftForLtr(v,f),k=r.leftForLtr(r.xPlus(v,1),f-2),C=ch(c.borderRadius);Object.values(C).some(D=>D!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,D0(e,{x:_,y:N,w:f,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),D0(e,{x:k,y:N+1,w:f-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(_,N,f,h),e.strokeRect(_,N,f,h),e.fillStyle=c.backgroundColor,e.fillRect(k,N+1,f-2,h-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,s,a){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:f,boxPadding:p}=a,x=cr(a.bodyFont);let v=x.lineHeight,y=0;const N=dh(a.rtl,this.x,this.width),_=function(U){s.fillText(U,N.x(e.x+y),e.y+v/2),e.y+=v+o},k=N.textAlign(c);let C,D,L,$,W,le,ee;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=Yp(this,k,a),s.fillStyle=a.bodyColor,sn(this.beforeBody,_),y=d&&k!=="right"?c==="center"?f/2+p:f+2+p:0,$=0,le=r.length;$<le;++$){for(C=r[$],D=this.labelTextColors[$],s.fillStyle=D,sn(C.before,_),L=C.lines,d&&L.length&&(this._drawColorBox(s,e,$,N,a),v=Math.max(x.lineHeight,h)),W=0,ee=L.length;W<ee;++W)_(L[W]),v=x.lineHeight;sn(C.after,_)}y=0,v=x.lineHeight,sn(this.afterBody,_),e.y-=o}drawFooter(e,s,a){const r=this.footer,o=r.length;let c,d;if(o){const h=dh(a.rtl,this.x,this.width);for(e.x=Yp(this,a.footerAlign,a),e.y+=a.footerMarginTop,s.textAlign=h.textAlign(a.footerAlign),s.textBaseline="middle",c=cr(a.footerFont),s.fillStyle=a.footerColor,s.font=c.string,d=0;d<o;++d)s.fillText(r[d],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+a.footerSpacing}}drawBackground(e,s,a,r){const{xAlign:o,yAlign:c}=this,{x:d,y:h}=e,{width:f,height:p}=a,{topLeft:x,topRight:v,bottomLeft:y,bottomRight:N}=ch(r.cornerRadius);s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.beginPath(),s.moveTo(d+x,h),c==="top"&&this.drawCaret(e,s,a,r),s.lineTo(d+f-v,h),s.quadraticCurveTo(d+f,h,d+f,h+v),c==="center"&&o==="right"&&this.drawCaret(e,s,a,r),s.lineTo(d+f,h+p-N),s.quadraticCurveTo(d+f,h+p,d+f-N,h+p),c==="bottom"&&this.drawCaret(e,s,a,r),s.lineTo(d+y,h+p),s.quadraticCurveTo(d,h+p,d,h+p-y),c==="center"&&o==="left"&&this.drawCaret(e,s,a,r),s.lineTo(d,h+x),s.quadraticCurveTo(d,h,d+x,h),s.closePath(),s.fill(),r.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,a=this.$animations,r=a&&a.x,o=a&&a.y;if(r||o){const c=Yf[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=hw(this,e),h=Object.assign({},c,this._size),f=fw(s,e,h),p=mw(e,h,f,s);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(s);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const c=zi(s.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&d&&(e.save(),e.globalAlpha=a,this.drawBackground(o,e,r,s),x4(e,s.textDirection),o.y+=c.top,this.drawTitle(o,e,s),this.drawBody(o,e,s),this.drawFooter(o,e,s),b4(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const a=this._active,r=e.map(({datasetIndex:d,index:h})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[h],index:h}}),o=!A0(a,r),c=this._positionChanged(r,s);(o||c)&&(this._active=r,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,a=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,s,a),d=this._positionChanged(c,e),h=s||!A0(c,o)||d;return h&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),h}_getActiveElements(e,s,a,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return s.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,a);return o.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:a,caretY:r,options:o}=this,c=Yf[o.position].call(this,e,s);return c!==!1&&(a!==c.x||r!==c.y)}}qt(zb,"positioners",Yf);var jE={id:"tooltip",_element:zb,positioners:Yf,afterInit(t,e,s){s&&(t.tooltip=new zb({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:F4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SE=(t,e,s,a)=>(typeof e=="string"?(s=t.push(e)-1,a.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function _E(t,e,s,a){const r=t.indexOf(e);if(r===-1)return SE(t,e,s,a);const o=t.lastIndexOf(e);return r!==o?s:r}const AE=(t,e)=>t===null?null:lr(Math.round(t),0,e);function xw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ib extends Ah{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const a=this.getLabels();for(const{index:r,label:o}of s)a[r]===o&&a.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Ks(e))return null;const a=this.getLabels();return s=isFinite(s)&&a[s]===e?s:_E(a,e,Ds(s,e),this._addedLabels),AE(s,a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:a,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),s||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){const e=this.min,s=this.max,a=this.options.offset,r=[];let o=this.getLabels();o=e===0&&s===o.length-1?o:o.slice(e,s+1),this._valueRange=Math.max(o.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let c=e;c<=s;c++)r.push({value:c});return r}getLabelForValue(e){return xw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}qt(Ib,"id","category"),qt(Ib,"defaults",{ticks:{callback:xw}});function CE(t,e){const s=[],{bounds:r,step:o,min:c,max:d,precision:h,count:f,maxTicks:p,maxDigits:x,includeBounds:v}=t,y=o||1,N=p-1,{min:_,max:k}=e,C=!Ks(c),D=!Ks(d),L=!Ks(f),$=(k-_)/(x+1);let W=y5((k-_)/N/y)*y,le,ee,U,oe;if(W<1e-14&&!C&&!D)return[{value:_},{value:k}];oe=Math.ceil(k/W)-Math.floor(_/W),oe>N&&(W=y5(oe*W/N/y)*y),Ks(h)||(le=Math.pow(10,h),W=Math.ceil(W*le)/le),r==="ticks"?(ee=Math.floor(_/W)*W,U=Math.ceil(k/W)*W):(ee=_,U=k),C&&D&&o&&Wk((d-c)/o,W/1e3)?(oe=Math.round(Math.min((d-c)/W,p)),W=(d-c)/oe,ee=c,U=d):L?(ee=C?c:ee,U=D?d:U,oe=f-1,W=(U-ee)/oe):(oe=(U-ee)/W,Zf(oe,Math.round(oe),W/1e3)?oe=Math.round(oe):oe=Math.ceil(oe));const re=Math.max(v5(W),v5(ee));le=Math.pow(10,Ks(h)?re:h),ee=Math.round(ee*le)/le,U=Math.round(U*le)/le;let O=0;for(C&&(v&&ee!==c?(s.push({value:c}),ee<c&&O++,Zf(Math.round((ee+O*W)*le)/le,c,bw(c,$,t))&&O++):ee<c&&O++);O<oe;++O){const R=Math.round((ee+O*W)*le)/le;if(D&&R>d)break;s.push({value:R})}return D&&v&&U!==d?s.length&&Zf(s[s.length-1].value,d,bw(d,$,t))?s[s.length-1].value=d:s.push({value:d}):(!D||U===d)&&s.push({value:U}),s}function bw(t,e,{horizontal:s,minRotation:a}){const r=Yl(a),o=(s?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class kE extends Ah{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Ks(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:r,max:o}=this;const c=h=>r=s?r:h,d=h=>o=a?o:h;if(e){const h=rl(r),f=rl(o);h<0&&f<0?d(0):h>0&&f>0&&c(0)}if(r===o){let h=o===0?1:Math.abs(o*.05);d(o+h),e||c(r-h)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:a}=e,r;return a?(r=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),s=s||11),s&&(r=Math.min(s,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const r={maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,c=CE(r,o);return e.bounds==="ticks"&&Gk(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const r=(a-s)/Math.max(e.length-1,1)/2;s-=r,a+=r}this._startValue=s,this._endValue=a,this._valueRange=a-s}getLabelForValue(e){return Uy(e,this.chart.options.locale,this.options.ticks.format)}}class qb extends kE{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Bi(e)?e:0,this.max=Bi(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,a=Yl(this.options.ticks.minRotation),r=(e?Math.sin(a):Math.cos(a))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}qt(qb,"id","linear"),qt(qb,"defaults",{ticks:{callback:c4.formatters.numeric}});const dg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ir=Object.keys(dg);function yw(t,e){return t-e}function vw(t,e){if(Ks(e))return null;const s=t._adapter,{parser:a,round:r,isoWeekday:o}=t._parseOpts;let c=e;return typeof a=="function"&&(c=a(c)),Bi(c)||(c=typeof a=="string"?s.parse(c,a):s.parse(c)),c===null?null:(r&&(c=r==="week"&&(cm(o)||o===!0)?s.startOf(c,"isoWeek",o):s.startOf(c,r)),+c)}function ww(t,e,s,a){const r=Ir.length;for(let o=Ir.indexOf(t);o<r-1;++o){const c=dg[Ir[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(d*c.size))<=a)return Ir[o]}return Ir[r-1]}function DE(t,e,s,a,r){for(let o=Ir.length-1;o>=Ir.indexOf(s);o--){const c=Ir[o];if(dg[c].common&&t._adapter.diff(r,a,c)>=e-1)return c}return Ir[s?Ir.indexOf(s):0]}function EE(t){for(let e=Ir.indexOf(t)+1,s=Ir.length;e<s;++e)if(dg[Ir[e]].common)return Ir[e]}function Nw(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:a,hi:r}=zy(s,e),o=s[a]>=e?s[a]:s[r];t[o]=!0}}function LE(t,e,s,a){const r=t._adapter,o=+r.startOf(e[0].value,a),c=e[e.length-1].value;let d,h;for(d=o;d<=c;d=+r.add(d,1,a))h=s[d],h>=0&&(e[h].major=!0);return e}function jw(t,e,s){const a=[],r={},o=e.length;let c,d;for(c=0;c<o;++c)d=e[c],r[d]=c,a.push({value:d,major:!1});return o===0||!s?a:LE(t,a,r,s)}class M0 extends Ah{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const a=e.time||(e.time={}),r=this._adapter=new MD._date(e.adapters.date);r.init(s),Kf(a.displayFormats,r.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:vw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,a=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function h(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!d&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!d)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Bi(r)&&!isNaN(r)?r:+s.startOf(Date.now(),a),o=Bi(o)&&!isNaN(o)?o:+s.endOf(Date.now(),a)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],a=e[e.length-1]),{min:s,max:a}}buildTicks(){const e=this.options,s=e.time,a=e.ticks,r=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,d=Qk(r,o,c);return this._unit=s.unit||(a.autoSkip?ww(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):DE(this,d.length,s.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:EE(this._unit),this.initOffsets(r),e.reverse&&d.reverse(),jw(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,a=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?s=1-r:s=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?a=o:a=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=lr(s,0,c),a=lr(a,0,c),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,s=this.min,a=this.max,r=this.options,o=r.time,c=o.unit||ww(o.minUnit,s,a,this._getLabelCapacity(s)),d=Ds(r.ticks.stepSize,1),h=c==="week"?o.isoWeekday:!1,f=cm(h)||h===!0,p={};let x=s,v,y;if(f&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,f?"day":c),e.diff(a,s,c)>1e5*d)throw new Error(s+" and "+a+" are too far apart with stepSize of "+d+" "+c);const N=r.ticks.source==="data"&&this.getDataTimestamps();for(v=x,y=0;v<a;v=+e.add(v,d,c),y++)Nw(p,v,N);return(v===a||r.bounds==="ticks"||y===1)&&Nw(p,v,N),Object.keys(p).sort(yw).map(_=>+_)}getLabelForValue(e){const s=this._adapter,a=this.options.time;return a.tooltipFormat?s.format(e,a.tooltipFormat):s.format(e,a.displayFormats.datetime)}format(e,s){const r=this.options.time.displayFormats,o=this._unit,c=s||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,s,a,r){const o=this.options,c=o.ticks.callback;if(c)return wn(c,[e,s,a],this);const d=o.time.displayFormats,h=this._unit,f=this._majorUnit,p=h&&d[h],x=f&&d[f],v=a[s],y=f&&x&&v&&v.major;return this._adapter.format(e,r||(y?x:p))}generateTickLabels(e){let s,a,r;for(s=0,a=e.length;s<a;++s)r=e[s],r.label=this._tickFormatFunction(r.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+a)*s.factor)}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,a=this.ctx.measureText(e).width,r=Yl(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(r),c=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:a*o+d*c,h:a*c+d*o}}_getLabelCapacity(e){const s=this.options.time,a=s.displayFormats,r=a[s.unit]||a.millisecond,o=this._tickFormatFunction(e,0,jw(this,[e],this._majorUnit),r),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],s,a;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(s=0,a=r.length;s<a;++s)e=e.concat(r[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,a;if(e.length)return e;const r=this.getLabels();for(s=0,a=r.length;s<a;++s)e.push(vw(this,r[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return i4(e.sort(yw))}}qt(M0,"id","time"),qt(M0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wp(t,e,s){let a=0,r=t.length-1,o,c,d,h;s?(e>=t[a].pos&&e<=t[r].pos&&({lo:a,hi:r}=Wd(t,"pos",e)),{pos:o,time:d}=t[a],{pos:c,time:h}=t[r]):(e>=t[a].time&&e<=t[r].time&&({lo:a,hi:r}=Wd(t,"time",e)),{time:o,pos:d}=t[a],{time:c,pos:h}=t[r]);const f=c-o;return f?d+(h-d)*(e-o)/f:d}class Sw extends M0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Wp(s,this.min),this._tableRange=Wp(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:a}=this,r=[],o=[];let c,d,h,f,p;for(c=0,d=e.length;c<d;++c)f=e[c],f>=s&&f<=a&&r.push(f);if(r.length<2)return[{time:s,pos:0},{time:a,pos:1}];for(c=0,d=r.length;c<d;++c)p=r[c+1],h=r[c-1],f=r[c],Math.round((p+h)/2)!==f&&o.push({time:f,pos:c/(d-1)});return o}_generate(){const e=this.min,s=this.max;let a=super.getDataTimestamps();return(!a.includes(e)||!a.length)&&a.splice(0,0,e),(!a.includes(s)||a.length===1)&&a.push(s),a.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),a=this.getLabelTimestamps();return s.length&&a.length?e=this.normalize(s.concat(a)):e=s.length?s:a,e=this._cache.all=e,e}getDecimalForValue(e){return(Wp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,a=this.getDecimalForPixel(e)/s.factor-s.end;return Wp(this._table,a*this._tableRange+this._minPos,!0)}}qt(Sw,"id","timeseries"),qt(Sw,"defaults",M0.defaults);const B4="label";function _w(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function TE(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function z4(t,e){t.labels=e}function I4(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B4;const a=[];t.datasets=e.map(r=>{const o=t.datasets.find(c=>c[s]===r[s]);return!o||!r.data||a.includes(o)?{...r}:(a.push(o),Object.assign(o,r),o)})}function ME(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:B4;const s={labels:[],datasets:[]};return z4(s,t.labels),I4(s,t.datasets,e),s}function PE(t,e){const{height:s=150,width:a=300,redraw:r=!1,datasetIdKey:o,type:c,data:d,options:h,plugins:f=[],fallbackContent:p,updateMode:x,...v}=t,y=P.useRef(null),N=P.useRef(null),_=()=>{y.current&&(N.current=new cg(y.current,{type:c,data:ME(d,o),options:h&&{...h},plugins:f}),_w(e,N.current))},k=()=>{_w(e,null),N.current&&(N.current.destroy(),N.current=null)};return P.useEffect(()=>{!r&&N.current&&h&&TE(N.current,h)},[r,h]),P.useEffect(()=>{!r&&N.current&&z4(N.current.config.data,d.labels)},[r,d.labels]),P.useEffect(()=>{!r&&N.current&&d.datasets&&I4(N.current.config.data,d.datasets,o)},[r,d.datasets]),P.useEffect(()=>{N.current&&(r?(k(),setTimeout(_)):N.current.update(x))},[r,h,d.labels,d.datasets,x]),P.useEffect(()=>{N.current&&(k(),setTimeout(_))},[c]),P.useEffect(()=>(_(),()=>k()),[]),Ea.createElement("canvas",{ref:y,role:"img",height:s,width:a,...v},p)}const OE=P.forwardRef(PE);function Jy(t,e){return cg.register(e),P.forwardRef((s,a)=>Ea.createElement(OE,{...s,ref:a,type:t}))}const RE=Jy("line",c0),FE=Jy("bar",l0),BE=Jy("pie",Ob),zE=({user:t,onLogout:e,activeItem:s,setActiveItem:a,isOpen:r,setIsOpen:o})=>{const[c,d]=P.useState({hrMaster:!1,allowanceDeduction:!1,loans:!1,salaryProcess:!1,timeAttendance:!1}),h=()=>{d(N=>({...N,hrMaster:!N.hrMaster}))},f=()=>{d(N=>({...N,allowanceDeduction:!N.allowanceDeduction}))},p=()=>{d(N=>({...N,loans:!N.loans}))},x=()=>{d(N=>({...N,salaryProcess:!N.salaryProcess}))},v=()=>{d(N=>({...N,timeAttendance:!N.timeAttendance}))},y=[{id:"dashboard",name:"Dashboard",icon:SC,badge:null},{id:"hrMaster",name:"HR Master",icon:Ha,badge:null,subItems:[{id:"show",name:"Show Employee",icon:Va},{id:"employeeMaster",name:" Add Employee Master"},{id:"departmentMaster",name:"Department Master"},{id:"shiftTime",name:"Shift Time"},{id:"grouproster",name:"Roster"},{id:"resignation",name:"Resignation"},{id:"termination",name:"Termination"},{id:"allowanceDeduction",name:"Compensation",icon:wa,subItems:[{id:"createNewAllowance",name:"Allowance"},{id:"createNewDeduction",name:"Deduction"}]},{id:"loans",name:"Loans",icon:wa,subItems:[{id:"viewLoans",name:"View Loans"},{id:"employeeLoan",name:"Employee Wise Loan"}]},{id:"salaryProcess",name:"Salary Process",icon:wa,subItems:[{id:"SalaryProcessPage",name:"Salary Process"},{id:"SalaryPage",name:"View Salary"}]},{id:"timeAttendance",name:"Time Attendance",icon:Va,subItems:[{id:"TimeCard",name:"Time Card"},{id:"Overtime",name:"Over Time"},{id:"leaveMaster",name:"Leave Master"},{id:"leaveApproval",name:"Leave Approval"},{id:"hrLeaveApproval",name:"HR Leave Approval"},{id:"noPayManagement",name:"NoPay"},{id:"leavecalendar",name:"Leave Calendar"}]}]},{id:"reports",name:"Reports",icon:$A,badge:null},{id:"utilities",name:"Utilities",icon:ar,badge:null}];return n.jsxs(n.Fragment,{children:[r&&n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 lg:hidden",onClick:()=>o(!1)}),n.jsxs("div",{className:`
        min-h-screen bg-white border-r border-gray-200 shadow-lg z-50
        transform transition-transform duration-300 ease-in-out
        w-64
        fixed left-0 top-0
        lg:static lg:z-0 lg:translate-x-0
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:n.jsx(Nr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold text-gray-900",children:"HRM System"}),n.jsx("p",{className:"text-xs text-gray-500",children:"v2.1.0"})]})]}),n.jsx("button",{onClick:()=>o(!1),className:"lg:hidden text-gray-400 hover:text-gray-600",children:n.jsx(As,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-semibold text-sm",children:t.name.split(" ").map(N=>N[0]).join("")})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.name}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:"HR Manager"})]})]})}),n.jsx("nav",{className:"flex-1 p-4",children:n.jsx("ul",{className:"space-y-2",children:y.map(N=>n.jsx("li",{children:N.subItems?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:h,className:`
                        w-full flex items-center justify-between gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
                        transition-all duration-200 group
                        ${s===N.id||N.subItems.some(_=>s===_.id)?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                      `,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(N.icon,{className:`h-5 w-5 ${s===N.id||N.subItems.some(_=>s===_.id)?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),n.jsx("span",{children:N.name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[N.badge&&n.jsx("span",{className:`
                              px-2 py-0.5 text-xs rounded-full font-medium
                              ${s===N.id||N.subItems.some(_=>s===_.id)?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}
                            `,children:N.badge}),c.hrMaster?n.jsx(Zd,{className:"h-4 w-4 text-gray-500"}):n.jsx(ru,{className:"h-4 w-4 text-gray-500"})]})]}),c.hrMaster&&n.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:N.subItems.map(_=>{const k={allowanceDeduction:{toggle:f,expanded:c.allowanceDeduction},loans:{toggle:p,expanded:c.loans},salaryProcess:{toggle:x,expanded:c.salaryProcess},timeAttendance:{toggle:v,expanded:c.timeAttendance}};if(_.subItems){const C=k[_.id]||{};return n.jsxs("li",{children:[n.jsxs("button",{onClick:C.toggle,className:`
                                    w-full flex items-center justify-between gap-3 px-3 py-2 rounded-lg text-sm font-medium
                                    transition-all duration-200
                                    ${s===_.id||_.subItems.some(D=>s===D.id)?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                                  `,children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),_.name]}),C.expanded?n.jsx(Zd,{className:"h-4 w-4 text-gray-500"}):n.jsx(ru,{className:"h-4 w-4 text-gray-500"})]}),C.expanded&&n.jsx("ul",{className:"ml-4 mt-1 space-y-1",children:_.subItems.map(D=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>a(D.id),className:`
                                            w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium
                                            transition-all duration-200
                                            ${s===D.id?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                                          `,children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),n.jsx("span",{children:D.name})]})},D.id))})]},_.id)}return n.jsx("li",{children:n.jsxs("button",{onClick:()=>a(_.id),className:`
                                  w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium
                                  transition-all duration-200
                                  ${s===_.id?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                                `,children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),n.jsx("span",{children:_.name})]})},_.id)})})]}):n.jsxs("button",{onClick:()=>a(N.id),className:`
                      w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
                      transition-all duration-200 group
                      ${s===N.id?"bg-indigo-50 text-indigo-700 border-r-2 border-indigo-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                    `,children:[n.jsx(N.icon,{className:`h-5 w-5 ${s===N.id?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),n.jsx("span",{className:"flex-1 text-left",children:N.name}),N.badge&&n.jsx("span",{className:`
                        px-2 py-0.5 text-xs rounded-full font-medium
                        ${s===N.id?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}
                      `,children:N.badge})]})},N.id))})}),n.jsxs("div",{className:"p-4 border-t border-gray-100 space-y-2",children:[n.jsxs("button",{onClick:()=>a("settings"),className:`
              w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium
              transition-all duration-200 group
              ${s==="settings"?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
            `,children:[n.jsx(Zj,{className:`h-5 w-5 ${s==="settings"?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-all duration-200 group",children:[n.jsx(MC,{className:"h-5 w-5 text-red-500 group-hover:text-red-600"}),n.jsx("span",{children:"Logout"})]})]})]})]})},q4=P.createContext(),Aw={personal:{id:"",title:"",attendanceEmpNo:"",epfNo:"",nicNumber:"",dob:"",gender:"",religion:"",countryOfBirth:"",profilePicture:null,profilePicturePreview:null,employmentStatus:"",nameWithInitial:"",fullName:"",displayName:"",maritalStatus:"",relationshipType:"",spouseTitle:"",spouseName:"",spouseAge:"",spouseDob:"",spouseNic:"",children:[{name:"",age:"",dob:"",nic:""}]},address:{permanentAddress:"",temporaryAddress:"",email:"",landLine:"",mobileLine:"",gnDivision:"",policeStation:"",district:"",province:"",electoralDivision:"",emergencyContact:{relationship:"",contactName:"",contactAddress:"",contactTel:""}},compensation:{basicSalary:"",incrementValue:"",incrementEffectiveFrom:"",bankName:"",branchName:"",bankCode:"",branchCode:"",bankAccountNo:"",comments:"",secondaryEmp:!1,primaryEmploymentBasic:!1,enableEpfEtf:!1,otActive:!1,earlyDeduction:!1,incrementActive:!1,nopayActive:!1,morningOt:!1,ot_morning_rate:"0",ot_night_rate:"0",eveningOt:!1,budgetaryReliefAllowance2015:!1,budgetaryReliefAllowance2016:!1},organization:{company:"",department:"",subDepartment:"",companyName:"",departmentName:"",subDepartmentName:"",currentSupervisor:"",dateOfJoined:"",designation:"",designationName:"",probationPeriod:!1,trainingPeriod:!1,contractPeriod:!1,probationFrom:"",probationTo:"",trainingFrom:"",trainingTo:"",contractFrom:"",contractTo:"",confirmationDate:"",resignationDate:"",resignationLetter:null,resignationApproved:!1,currentStatus:1,dayOff:""},documents:[]},IE=({children:t})=>{const[e,s]=P.useState(Aw),[a,r]=P.useState(!1),[o,c]=P.useState({}),[d,h]=P.useState(!1);P.useEffect(()=>{(()=>{var D;try{const L=localStorage.getItem("employeeFormData");if(L){const $=JSON.parse(L),W=((D=$.documents)==null?void 0:D.map(le=>({...le,preview:null})))||[];s({...$,documents:W,personal:{...$.personal,profilePicture:null}})}}catch(L){console.error("Error loading form data:",L)}})()},[]),P.useEffect(()=>{(()=>{try{const D={...e,personal:{...e.personal,profilePicture:e.personal.profilePicturePreview},documents:e.documents.map(L=>({...L,file:null,type:L.type,name:L.name,size:L.size,status:L.status}))};localStorage.setItem("employeeFormData",JSON.stringify(D))}catch(D){console.error("Error saving form data:",D)}})()},[e]);const f=P.useCallback((C,D)=>{s(L=>({...L,[C]:{...L[C],...D}}))},[]),p=P.useCallback(C=>{const D=Array.from(C).map(L=>({file:L,type:"",preview:L.type.startsWith("image/")?URL.createObjectURL(L):null,name:L.name,size:(L.size/1048576).toFixed(2)+" MB",status:"pending"}));s(L=>({...L,documents:[...L.documents,...D]}))},[]),x=P.useCallback((C,D)=>{s(L=>{const $=[...L.documents];return $[C]={...$[C],type:D},{...L,documents:$}})},[]),v=P.useCallback(C=>{s(D=>{const L=D.documents[C];return L!=null&&L.preview&&URL.revokeObjectURL(L.preview),{...D,documents:D.documents.filter(($,W)=>W!==C)}})},[]),y=P.useCallback(()=>{e.documents.forEach(C=>{C!=null&&C.preview&&URL.revokeObjectURL(C.preview)}),s(Aw),c({}),localStorage.removeItem("employeeFormData")},[e.documents]),N=P.useCallback(C=>{c(C)},[]),_=P.useCallback(C=>{c(D=>{const L={...D};return delete L[C],L})},[]),k=P.useCallback((C,D)=>{c(L=>{if(!L[C])return L;const $={...L};return delete $[C][D],Object.keys($[C]).length===0&&delete $[C],$})},[]);return n.jsx(q4.Provider,{value:{formData:e,updateFormData:f,setFormData:s,addDocuments:p,removeDocument:v,clearForm:y,isLoading:a,setIsLoading:r,errors:o,setFormErrors:N,clearSectionErrors:_,clearFieldError:k,isSubmitting:d,setIsSubmitting:h,updateDocumentType:x},children:t})},hu=()=>{const t=P.useContext(q4);if(!t)throw new Error("useEmployeeForm must be used within an EmployeeFormProvider");return t},Ht=({error:t})=>t?n.jsxs("div",{className:"mt-1 flex items-start text-red-600 text-sm",children:[n.jsx(zr,{className:"w-4 h-4 mt-0.5 mr-1 flex-shrink-0"}),n.jsx("span",{children:t})]}):null;function U4(t,e){const[s,a]=P.useState(t);return P.useEffect(()=>{const r=setTimeout(()=>{a(t)},e);return()=>{clearTimeout(r)}},[t,e]),s}function V4(t,e){return function(){return t.apply(e,arguments)}}const{toString:qE}=Object.prototype,{getPrototypeOf:Qy}=Object,{iterator:ug,toStringTag:H4}=Symbol,hg=(t=>e=>{const s=qE.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),go=t=>(t=t.toLowerCase(),e=>hg(e)===t),fg=t=>e=>typeof e===t,{isArray:Ch}=Array,mm=fg("undefined");function UE(t){return t!==null&&!mm(t)&&t.constructor!==null&&!mm(t.constructor)&&Ur(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $4=go("ArrayBuffer");function VE(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$4(t.buffer),e}const HE=fg("string"),Ur=fg("function"),Y4=fg("number"),mg=t=>t!==null&&typeof t=="object",$E=t=>t===!0||t===!1,m0=t=>{if(hg(t)!=="object")return!1;const e=Qy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(H4 in t)&&!(ug in t)},YE=go("Date"),WE=go("File"),GE=go("Blob"),XE=go("FileList"),KE=t=>mg(t)&&Ur(t.pipe),ZE=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ur(t.append)&&((e=hg(t))==="formdata"||e==="object"&&Ur(t.toString)&&t.toString()==="[object FormData]"))},JE=go("URLSearchParams"),[QE,eL,tL,sL]=["ReadableStream","Request","Response","Headers"].map(go),nL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _m(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,r;if(typeof t!="object"&&(t=[t]),Ch(t))for(a=0,r=t.length;a<r;a++)e.call(null,t[a],a,t);else{const o=s?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let d;for(a=0;a<c;a++)d=o[a],e.call(null,t[d],d,t)}}function W4(t,e){e=e.toLowerCase();const s=Object.keys(t);let a=s.length,r;for(;a-- >0;)if(r=s[a],e===r.toLowerCase())return r;return null}const Gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,G4=t=>!mm(t)&&t!==Gd;function Ub(){const{caseless:t}=G4(this)&&this||{},e={},s=(a,r)=>{const o=t&&W4(e,r)||r;m0(e[o])&&m0(a)?e[o]=Ub(e[o],a):m0(a)?e[o]=Ub({},a):Ch(a)?e[o]=a.slice():e[o]=a};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&_m(arguments[a],s);return e}const aL=(t,e,s,{allOwnKeys:a}={})=>(_m(e,(r,o)=>{s&&Ur(r)?t[o]=V4(r,s):t[o]=r},{allOwnKeys:a}),t),rL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iL=(t,e,s,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},oL=(t,e,s,a)=>{let r,o,c;const d={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)c=r[o],(!a||a(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=s!==!1&&Qy(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},lL=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const a=t.indexOf(e,s);return a!==-1&&a===s},cL=t=>{if(!t)return null;if(Ch(t))return t;let e=t.length;if(!Y4(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},dL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Qy(Uint8Array)),uL=(t,e)=>{const a=(t&&t[ug]).call(t);let r;for(;(r=a.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},hL=(t,e)=>{let s;const a=[];for(;(s=t.exec(e))!==null;)a.push(s);return a},fL=go("HTMLFormElement"),mL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,r){return a.toUpperCase()+r}),Cw=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),pL=go("RegExp"),X4=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),a={};_m(s,(r,o)=>{let c;(c=e(r,o,t))!==!1&&(a[o]=c||r)}),Object.defineProperties(t,a)},gL=t=>{X4(t,(e,s)=>{if(Ur(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Ur(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},xL=(t,e)=>{const s={},a=r=>{r.forEach(o=>{s[o]=!0})};return Ch(t)?a(t):a(String(t).split(e)),s},bL=()=>{},yL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function vL(t){return!!(t&&Ur(t.append)&&t[H4]==="FormData"&&t[ug])}const wL=t=>{const e=new Array(10),s=(a,r)=>{if(mg(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[r]=a;const o=Ch(a)?[]:{};return _m(a,(c,d)=>{const h=s(c,r+1);!mm(h)&&(o[d]=h)}),e[r]=void 0,o}}return a};return s(t,0)},NL=go("AsyncFunction"),jL=t=>t&&(mg(t)||Ur(t))&&Ur(t.then)&&Ur(t.catch),K4=((t,e)=>t?setImmediate:e?((s,a)=>(Gd.addEventListener("message",({source:r,data:o})=>{r===Gd&&o===s&&a.length&&a.shift()()},!1),r=>{a.push(r),Gd.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ur(Gd.postMessage)),SL=typeof queueMicrotask<"u"?queueMicrotask.bind(Gd):typeof process<"u"&&process.nextTick||K4,_L=t=>t!=null&&Ur(t[ug]),Je={isArray:Ch,isArrayBuffer:$4,isBuffer:UE,isFormData:ZE,isArrayBufferView:VE,isString:HE,isNumber:Y4,isBoolean:$E,isObject:mg,isPlainObject:m0,isReadableStream:QE,isRequest:eL,isResponse:tL,isHeaders:sL,isUndefined:mm,isDate:YE,isFile:WE,isBlob:GE,isRegExp:pL,isFunction:Ur,isStream:KE,isURLSearchParams:JE,isTypedArray:dL,isFileList:XE,forEach:_m,merge:Ub,extend:aL,trim:nL,stripBOM:rL,inherits:iL,toFlatObject:oL,kindOf:hg,kindOfTest:go,endsWith:lL,toArray:cL,forEachEntry:uL,matchAll:hL,isHTMLForm:fL,hasOwnProperty:Cw,hasOwnProp:Cw,reduceDescriptors:X4,freezeMethods:gL,toObjectSet:xL,toCamelCase:mL,noop:bL,toFiniteNumber:yL,findKey:W4,global:Gd,isContextDefined:G4,isSpecCompliantForm:vL,toJSONObject:wL,isAsyncFn:NL,isThenable:jL,setImmediate:K4,asap:SL,isIterable:_L};function ys(t,e,s,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}Je.inherits(ys,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Je.toJSONObject(this.config),code:this.code,status:this.status}}});const Z4=ys.prototype,J4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{J4[t]={value:t}});Object.defineProperties(ys,J4);Object.defineProperty(Z4,"isAxiosError",{value:!0});ys.from=(t,e,s,a,r,o)=>{const c=Object.create(Z4);return Je.toFlatObject(t,c,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),ys.call(c,t.message,e,s,a,r),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const AL=null;function Vb(t){return Je.isPlainObject(t)||Je.isArray(t)}function Q4(t){return Je.endsWith(t,"[]")?t.slice(0,-2):t}function kw(t,e,s){return t?t.concat(e).map(function(r,o){return r=Q4(r),!s&&o?"["+r+"]":r}).join(s?".":""):e}function CL(t){return Je.isArray(t)&&!t.some(Vb)}const kL=Je.toFlatObject(Je,{},null,function(e){return/^is[A-Z]/.test(e)});function pg(t,e,s){if(!Je.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=Je.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!Je.isUndefined(k[_])});const a=s.metaTokens,r=s.visitor||p,o=s.dots,c=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Je.isSpecCompliantForm(e);if(!Je.isFunction(r))throw new TypeError("visitor must be a function");function f(N){if(N===null)return"";if(Je.isDate(N))return N.toISOString();if(Je.isBoolean(N))return N.toString();if(!h&&Je.isBlob(N))throw new ys("Blob is not supported. Use a Buffer instead.");return Je.isArrayBuffer(N)||Je.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,_,k){let C=N;if(N&&!k&&typeof N=="object"){if(Je.endsWith(_,"{}"))_=a?_:_.slice(0,-2),N=JSON.stringify(N);else if(Je.isArray(N)&&CL(N)||(Je.isFileList(N)||Je.endsWith(_,"[]"))&&(C=Je.toArray(N)))return _=Q4(_),C.forEach(function(L,$){!(Je.isUndefined(L)||L===null)&&e.append(c===!0?kw([_],$,o):c===null?_:_+"[]",f(L))}),!1}return Vb(N)?!0:(e.append(kw(k,_,o),f(N)),!1)}const x=[],v=Object.assign(kL,{defaultVisitor:p,convertValue:f,isVisitable:Vb});function y(N,_){if(!Je.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(N),Je.forEach(N,function(C,D){(!(Je.isUndefined(C)||C===null)&&r.call(e,C,Je.isString(D)?D.trim():D,_,v))===!0&&y(C,_?_.concat(D):[D])}),x.pop()}}if(!Je.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Dw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function e2(t,e){this._pairs=[],t&&pg(t,this,e)}const e3=e2.prototype;e3.append=function(e,s){this._pairs.push([e,s])};e3.toString=function(e){const s=e?function(a){return e.call(this,a,Dw)}:Dw;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function DL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t3(t,e,s){if(!e)return t;const a=s&&s.encode||DL;Je.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let o;if(r?o=r(e,s):o=Je.isURLSearchParams(e)?e.toString():new e2(e,s).toString(a),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ew{constructor(){this.handlers=[]}use(e,s,a){return this.handlers.push({fulfilled:e,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Je.forEach(this.handlers,function(a){a!==null&&e(a)})}}const s3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EL=typeof URLSearchParams<"u"?URLSearchParams:e2,LL=typeof FormData<"u"?FormData:null,TL=typeof Blob<"u"?Blob:null,ML={isBrowser:!0,classes:{URLSearchParams:EL,FormData:LL,Blob:TL},protocols:["http","https","file","blob","url","data"]},t2=typeof window<"u"&&typeof document<"u",Hb=typeof navigator=="object"&&navigator||void 0,PL=t2&&(!Hb||["ReactNative","NativeScript","NS"].indexOf(Hb.product)<0),OL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RL=t2&&window.location.href||"http://localhost",FL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:t2,hasStandardBrowserEnv:PL,hasStandardBrowserWebWorkerEnv:OL,navigator:Hb,origin:RL},Symbol.toStringTag,{value:"Module"})),rr={...FL,...ML};function BL(t,e){return pg(t,new rr.classes.URLSearchParams,Object.assign({visitor:function(s,a,r,o){return rr.isNode&&Je.isBuffer(s)?(this.append(a,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function zL(t){return Je.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function IL(t){const e={},s=Object.keys(t);let a;const r=s.length;let o;for(a=0;a<r;a++)o=s[a],e[o]=t[o];return e}function n3(t){function e(s,a,r,o){let c=s[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=o>=s.length;return c=!c&&Je.isArray(r)?r.length:c,h?(Je.hasOwnProp(r,c)?r[c]=[r[c],a]:r[c]=a,!d):((!r[c]||!Je.isObject(r[c]))&&(r[c]=[]),e(s,a,r[c],o)&&Je.isArray(r[c])&&(r[c]=IL(r[c])),!d)}if(Je.isFormData(t)&&Je.isFunction(t.entries)){const s={};return Je.forEachEntry(t,(a,r)=>{e(zL(a),r,s,0)}),s}return null}function qL(t,e,s){if(Je.isString(t))try{return(e||JSON.parse)(t),Je.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const Am={transitional:s3,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const a=s.getContentType()||"",r=a.indexOf("application/json")>-1,o=Je.isObject(e);if(o&&Je.isHTMLForm(e)&&(e=new FormData(e)),Je.isFormData(e))return r?JSON.stringify(n3(e)):e;if(Je.isArrayBuffer(e)||Je.isBuffer(e)||Je.isStream(e)||Je.isFile(e)||Je.isBlob(e)||Je.isReadableStream(e))return e;if(Je.isArrayBufferView(e))return e.buffer;if(Je.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return BL(e,this.formSerializer).toString();if((d=Je.isFileList(e))||a.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return pg(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(s.setContentType("application/json",!1),qL(e)):e}],transformResponse:[function(e){const s=this.transitional||Am.transitional,a=s&&s.forcedJSONParsing,r=this.responseType==="json";if(Je.isResponse(e)||Je.isReadableStream(e))return e;if(e&&Je.isString(e)&&(a&&!this.responseType||r)){const c=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?ys.from(d,ys.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Je.forEach(["delete","get","head","post","put","patch"],t=>{Am.headers[t]={}});const UL=Je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VL=t=>{const e={};let s,a,r;return t&&t.split(`
`).forEach(function(c){r=c.indexOf(":"),s=c.substring(0,r).trim().toLowerCase(),a=c.substring(r+1).trim(),!(!s||e[s]&&UL[s])&&(s==="set-cookie"?e[s]?e[s].push(a):e[s]=[a]:e[s]=e[s]?e[s]+", "+a:a)}),e},Lw=Symbol("internals");function Tf(t){return t&&String(t).trim().toLowerCase()}function p0(t){return t===!1||t==null?t:Je.isArray(t)?t.map(p0):String(t)}function HL(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)e[a[1]]=a[2];return e}const $L=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qx(t,e,s,a,r){if(Je.isFunction(a))return a.call(this,e,s);if(r&&(e=s),!!Je.isString(e)){if(Je.isString(a))return e.indexOf(a)!==-1;if(Je.isRegExp(a))return a.test(e)}}function YL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,a)=>s.toUpperCase()+a)}function WL(t,e){const s=Je.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(r,o,c){return this[a].call(this,e,r,o,c)},configurable:!0})})}let Vr=class{constructor(e){e&&this.set(e)}set(e,s,a){const r=this;function o(d,h,f){const p=Tf(h);if(!p)throw new Error("header name must be a non-empty string");const x=Je.findKey(r,p);(!x||r[x]===void 0||f===!0||f===void 0&&r[x]!==!1)&&(r[x||h]=p0(d))}const c=(d,h)=>Je.forEach(d,(f,p)=>o(f,p,h));if(Je.isPlainObject(e)||e instanceof this.constructor)c(e,s);else if(Je.isString(e)&&(e=e.trim())&&!$L(e))c(VL(e),s);else if(Je.isObject(e)&&Je.isIterable(e)){let d={},h,f;for(const p of e){if(!Je.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[f=p[0]]=(h=d[f])?Je.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,s)}else e!=null&&o(s,e,a);return this}get(e,s){if(e=Tf(e),e){const a=Je.findKey(this,e);if(a){const r=this[a];if(!s)return r;if(s===!0)return HL(r);if(Je.isFunction(s))return s.call(this,r,a);if(Je.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Tf(e),e){const a=Je.findKey(this,e);return!!(a&&this[a]!==void 0&&(!s||Qx(this,this[a],a,s)))}return!1}delete(e,s){const a=this;let r=!1;function o(c){if(c=Tf(c),c){const d=Je.findKey(a,c);d&&(!s||Qx(a,a[d],d,s))&&(delete a[d],r=!0)}}return Je.isArray(e)?e.forEach(o):o(e),r}clear(e){const s=Object.keys(this);let a=s.length,r=!1;for(;a--;){const o=s[a];(!e||Qx(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const s=this,a={};return Je.forEach(this,(r,o)=>{const c=Je.findKey(a,o);if(c){s[c]=p0(r),delete s[o];return}const d=e?YL(o):String(o).trim();d!==o&&delete s[o],s[d]=p0(r),a[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return Je.forEach(this,(a,r)=>{a!=null&&a!==!1&&(s[r]=e&&Je.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const a=new this(e);return s.forEach(r=>a.set(r)),a}static accessor(e){const a=(this[Lw]=this[Lw]={accessors:{}}).accessors,r=this.prototype;function o(c){const d=Tf(c);a[d]||(WL(r,c),a[d]=!0)}return Je.isArray(e)?e.forEach(o):o(e),this}};Vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Je.reduceDescriptors(Vr.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[s]=a}}});Je.freezeMethods(Vr);function eb(t,e){const s=this||Am,a=e||s,r=Vr.from(a.headers);let o=a.data;return Je.forEach(t,function(d){o=d.call(s,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function a3(t){return!!(t&&t.__CANCEL__)}function kh(t,e,s){ys.call(this,t??"canceled",ys.ERR_CANCELED,e,s),this.name="CanceledError"}Je.inherits(kh,ys,{__CANCEL__:!0});function r3(t,e,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):e(new ys("Request failed with status code "+s.status,[ys.ERR_BAD_REQUEST,ys.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function GL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XL(t,e){t=t||10;const s=new Array(t),a=new Array(t);let r=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),p=a[o];c||(c=f),s[r]=h,a[r]=f;let x=o,v=0;for(;x!==r;)v+=s[x++],x=x%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-c<e)return;const y=p&&f-p;return y?Math.round(v*1e3/y):void 0}}function KL(t,e){let s=0,a=1e3/e,r,o;const c=(f,p=Date.now())=>{s=p,r=null,o&&(clearTimeout(o),o=null),t.apply(null,f)};return[(...f)=>{const p=Date.now(),x=p-s;x>=a?c(f,p):(r=f,o||(o=setTimeout(()=>{o=null,c(r)},a-x)))},()=>r&&c(r)]}const P0=(t,e,s=3)=>{let a=0;const r=XL(50,250);return KL(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,h=c-a,f=r(h),p=c<=d;a=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&p?(d-c)/f:void 0,event:o,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},s)},Tw=(t,e)=>{const s=t!=null;return[a=>e[0]({lengthComputable:s,total:t,loaded:a}),e[1]]},Mw=t=>(...e)=>Je.asap(()=>t(...e)),ZL=rr.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,rr.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(rr.origin),rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent)):()=>!0,JL=rr.hasStandardBrowserEnv?{write(t,e,s,a,r,o){const c=[t+"="+encodeURIComponent(e)];Je.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),Je.isString(a)&&c.push("path="+a),Je.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function i3(t,e,s){let a=!QL(e);return t&&(a||s==!1)?eT(t,e):e}const Pw=t=>t instanceof Vr?{...t}:t;function lu(t,e){e=e||{};const s={};function a(f,p,x,v){return Je.isPlainObject(f)&&Je.isPlainObject(p)?Je.merge.call({caseless:v},f,p):Je.isPlainObject(p)?Je.merge({},p):Je.isArray(p)?p.slice():p}function r(f,p,x,v){if(Je.isUndefined(p)){if(!Je.isUndefined(f))return a(void 0,f,x,v)}else return a(f,p,x,v)}function o(f,p){if(!Je.isUndefined(p))return a(void 0,p)}function c(f,p){if(Je.isUndefined(p)){if(!Je.isUndefined(f))return a(void 0,f)}else return a(void 0,p)}function d(f,p,x){if(x in e)return a(f,p);if(x in t)return a(void 0,f)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(f,p,x)=>r(Pw(f),Pw(p),x,!0)};return Je.forEach(Object.keys(Object.assign({},t,e)),function(p){const x=h[p]||r,v=x(t[p],e[p],p);Je.isUndefined(v)&&x!==d||(s[p]=v)}),s}const o3=t=>{const e=lu({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:d}=e;e.headers=c=Vr.from(c),e.url=t3(i3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(Je.isFormData(s)){if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[f,...p]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([f||"multipart/form-data",...p].join("; "))}}if(rr.hasStandardBrowserEnv&&(a&&Je.isFunction(a)&&(a=a(e)),a||a!==!1&&ZL(e.url))){const f=r&&o&&JL.read(o);f&&c.set(r,f)}return e},tT=typeof XMLHttpRequest<"u",sT=tT&&function(t){return new Promise(function(s,a){const r=o3(t);let o=r.data;const c=Vr.from(r.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r,p,x,v,y,N;function _(){y&&y(),N&&N(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(r.method.toUpperCase(),r.url,!0),k.timeout=r.timeout;function C(){if(!k)return;const L=Vr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),W={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:L,config:t,request:k};r3(function(ee){s(ee),_()},function(ee){a(ee),_()},W),k=null}"onloadend"in k?k.onloadend=C:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(C)},k.onabort=function(){k&&(a(new ys("Request aborted",ys.ECONNABORTED,t,k)),k=null)},k.onerror=function(){a(new ys("Network Error",ys.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let $=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const W=r.transitional||s3;r.timeoutErrorMessage&&($=r.timeoutErrorMessage),a(new ys($,W.clarifyTimeoutError?ys.ETIMEDOUT:ys.ECONNABORTED,t,k)),k=null},o===void 0&&c.setContentType(null),"setRequestHeader"in k&&Je.forEach(c.toJSON(),function($,W){k.setRequestHeader(W,$)}),Je.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),d&&d!=="json"&&(k.responseType=r.responseType),f&&([v,N]=P0(f,!0),k.addEventListener("progress",v)),h&&k.upload&&([x,y]=P0(h),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(p=L=>{k&&(a(!L||L.type?new kh(null,t,k):L),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const D=GL(r.url);if(D&&rr.protocols.indexOf(D)===-1){a(new ys("Unsupported protocol "+D+":",ys.ERR_BAD_REQUEST,t));return}k.send(o||null)})},nT=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let a=new AbortController,r;const o=function(f){if(!r){r=!0,d();const p=f instanceof Error?f:this.reason;a.abort(p instanceof ys?p:new kh(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,o(new ys(`timeout ${e} of ms exceeded`,ys.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:h}=a;return h.unsubscribe=()=>Je.asap(d),h}},aT=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let a=0,r;for(;a<s;)r=a+e,yield t.slice(a,r),a=r},rT=async function*(t,e){for await(const s of iT(t))yield*aT(s,e)},iT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:a}=await e.read();if(s)break;yield a}}finally{await e.cancel()}},Ow=(t,e,s,a)=>{const r=rT(t,e);let o=0,c,d=h=>{c||(c=!0,a&&a(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await r.next();if(f){d(),h.close();return}let x=p.byteLength;if(s){let v=o+=x;s(v)}h.enqueue(new Uint8Array(p))}catch(f){throw d(f),f}},cancel(h){return d(h),r.return()}},{highWaterMark:2})},gg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",l3=gg&&typeof ReadableStream=="function",oT=gg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),c3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lT=l3&&c3(()=>{let t=!1;const e=new Request(rr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Rw=64*1024,$b=l3&&c3(()=>Je.isReadableStream(new Response("").body)),O0={stream:$b&&(t=>t.body)};gg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!O0[e]&&(O0[e]=Je.isFunction(t[e])?s=>s[e]():(s,a)=>{throw new ys(`Response type '${e}' is not supported`,ys.ERR_NOT_SUPPORT,a)})})})(new Response);const cT=async t=>{if(t==null)return 0;if(Je.isBlob(t))return t.size;if(Je.isSpecCompliantForm(t))return(await new Request(rr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Je.isArrayBufferView(t)||Je.isArrayBuffer(t))return t.byteLength;if(Je.isURLSearchParams(t)&&(t=t+""),Je.isString(t))return(await oT(t)).byteLength},dT=async(t,e)=>{const s=Je.toFiniteNumber(t.getContentLength());return s??cT(e)},uT=gg&&(async t=>{let{url:e,method:s,data:a,signal:r,cancelToken:o,timeout:c,onDownloadProgress:d,onUploadProgress:h,responseType:f,headers:p,withCredentials:x="same-origin",fetchOptions:v}=o3(t);f=f?(f+"").toLowerCase():"text";let y=nT([r,o&&o.toAbortSignal()],c),N;const _=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let k;try{if(h&&lT&&s!=="get"&&s!=="head"&&(k=await dT(p,a))!==0){let W=new Request(e,{method:"POST",body:a,duplex:"half"}),le;if(Je.isFormData(a)&&(le=W.headers.get("content-type"))&&p.setContentType(le),W.body){const[ee,U]=Tw(k,P0(Mw(h)));a=Ow(W.body,Rw,ee,U)}}Je.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;N=new Request(e,{...v,signal:y,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:a,duplex:"half",credentials:C?x:void 0});let D=await fetch(N,v);const L=$b&&(f==="stream"||f==="response");if($b&&(d||L&&_)){const W={};["status","statusText","headers"].forEach(oe=>{W[oe]=D[oe]});const le=Je.toFiniteNumber(D.headers.get("content-length")),[ee,U]=d&&Tw(le,P0(Mw(d),!0))||[];D=new Response(Ow(D.body,Rw,ee,()=>{U&&U(),_&&_()}),W)}f=f||"text";let $=await O0[Je.findKey(O0,f)||"text"](D,t);return!L&&_&&_(),await new Promise((W,le)=>{r3(W,le,{data:$,headers:Vr.from(D.headers),status:D.status,statusText:D.statusText,config:t,request:N})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new ys("Network Error",ys.ERR_NETWORK,t,N),{cause:C.cause||C}):ys.from(C,C&&C.code,t,N)}}),Yb={http:AL,xhr:sT,fetch:uT};Je.forEach(Yb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Fw=t=>`- ${t}`,hT=t=>Je.isFunction(t)||t===null||t===!1,d3={getAdapter:t=>{t=Je.isArray(t)?t:[t];const{length:e}=t;let s,a;const r={};for(let o=0;o<e;o++){s=t[o];let c;if(a=s,!hT(s)&&(a=Yb[(c=String(s)).toLowerCase()],a===void 0))throw new ys(`Unknown adapter '${c}'`);if(a)break;r[c||"#"+o]=a}if(!a){const o=Object.entries(r).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(Fw).join(`
`):" "+Fw(o[0]):"as no adapter specified";throw new ys("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:Yb};function tb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new kh(null,t)}function Bw(t){return tb(t),t.headers=Vr.from(t.headers),t.data=eb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),d3.getAdapter(t.adapter||Am.adapter)(t).then(function(a){return tb(t),a.data=eb.call(t,t.transformResponse,a),a.headers=Vr.from(a.headers),a},function(a){return a3(a)||(tb(t),a&&a.response&&(a.response.data=eb.call(t,t.transformResponse,a.response),a.response.headers=Vr.from(a.response.headers))),Promise.reject(a)})}const u3="1.10.0",xg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xg[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const zw={};xg.transitional=function(e,s,a){function r(o,c){return"[Axios v"+u3+"] Transitional option '"+o+"'"+c+(a?". "+a:"")}return(o,c,d)=>{if(e===!1)throw new ys(r(c," has been removed"+(s?" in "+s:"")),ys.ERR_DEPRECATED);return s&&!zw[c]&&(zw[c]=!0,console.warn(r(c," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(o,c,d):!0}};xg.spelling=function(e){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function fT(t,e,s){if(typeof t!="object")throw new ys("options must be an object",ys.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let r=a.length;for(;r-- >0;){const o=a[r],c=e[o];if(c){const d=t[o],h=d===void 0||c(d,o,t);if(h!==!0)throw new ys("option "+o+" must be "+h,ys.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ys("Unknown option "+o,ys.ERR_BAD_OPTION)}}const g0={assertOptions:fT,validators:xg},Jo=g0.validators;let eu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ew,response:new Ew}}async request(e,s){try{return await this._request(e,s)}catch(a){if(a instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=lu(this.defaults,s);const{transitional:a,paramsSerializer:r,headers:o}=s;a!==void 0&&g0.assertOptions(a,{silentJSONParsing:Jo.transitional(Jo.boolean),forcedJSONParsing:Jo.transitional(Jo.boolean),clarifyTimeoutError:Jo.transitional(Jo.boolean)},!1),r!=null&&(Je.isFunction(r)?s.paramsSerializer={serialize:r}:g0.assertOptions(r,{encode:Jo.function,serialize:Jo.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),g0.assertOptions(s,{baseUrl:Jo.spelling("baseURL"),withXsrfToken:Jo.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=o&&Je.merge(o.common,o[s.method]);o&&Je.forEach(["delete","get","head","post","put","patch","common"],N=>{delete o[N]}),s.headers=Vr.concat(c,o);const d=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(h=h&&_.synchronous,d.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let p,x=0,v;if(!h){const N=[Bw.bind(this),void 0];for(N.unshift.apply(N,d),N.push.apply(N,f),v=N.length,p=Promise.resolve(s);x<v;)p=p.then(N[x++],N[x++]);return p}v=d.length;let y=s;for(x=0;x<v;){const N=d[x++],_=d[x++];try{y=N(y)}catch(k){_.call(this,k);break}}try{p=Bw.call(this,y)}catch(N){return Promise.reject(N)}for(x=0,v=f.length;x<v;)p=p.then(f[x++],f[x++]);return p}getUri(e){e=lu(this.defaults,e);const s=i3(e.baseURL,e.url,e.allowAbsoluteUrls);return t3(s,e.params,e.paramsSerializer)}};Je.forEach(["delete","get","head","options"],function(e){eu.prototype[e]=function(s,a){return this.request(lu(a||{},{method:e,url:s,data:(a||{}).data}))}});Je.forEach(["post","put","patch"],function(e){function s(a){return function(o,c,d){return this.request(lu(d||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}eu.prototype[e]=s(),eu.prototype[e+"Form"]=s(!0)});let mT=class h3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const a=this;this.promise.then(r=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](r);a._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(d=>{a.subscribe(d),o=d}).then(r);return c.cancel=function(){a.unsubscribe(o)},c},e(function(o,c,d){a.reason||(a.reason=new kh(o,c,d),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=a=>{e.abort(a)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new h3(function(r){e=r}),cancel:e}}};function pT(t){return function(s){return t.apply(null,s)}}function gT(t){return Je.isObject(t)&&t.isAxiosError===!0}const Wb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wb).forEach(([t,e])=>{Wb[e]=t});function f3(t){const e=new eu(t),s=V4(eu.prototype.request,e);return Je.extend(s,eu.prototype,e,{allOwnKeys:!0}),Je.extend(s,e,null,{allOwnKeys:!0}),s.create=function(r){return f3(lu(t,r))},s}const ia=f3(Am);ia.Axios=eu;ia.CanceledError=kh;ia.CancelToken=mT;ia.isCancel=a3;ia.VERSION=u3;ia.toFormData=pg;ia.AxiosError=ys;ia.Cancel=ia.CanceledError;ia.all=function(e){return Promise.all(e)};ia.spread=pT;ia.isAxiosError=gT;ia.mergeConfig=lu;ia.AxiosHeaders=Vr;ia.formToJSON=t=>n3(Je.isHTMLForm(t)?new FormData(t):t);ia.getAdapter=d3.getAdapter;ia.HttpStatusCode=Wb;ia.default=ia;const{Axios:cV,AxiosError:dV,CanceledError:uV,isCancel:hV,CancelToken:fV,VERSION:mV,all:pV,Cancel:gV,isAxiosError:xV,spread:bV,toFormData:yV,AxiosHeaders:vV,HttpStatusCode:wV,formToJSON:NV,getAdapter:jV,mergeConfig:SV}=ia;let Wf=null;function m3(t){Wf=t,t!==null?localStorage.setItem("token",t):localStorage.removeItem("token")}function xT(){return Wf!==null||(Wf=localStorage.getItem("token")),Wf}const R0={apiBaseUrl:"https://hrmapi.cybernetic.lk"},bT=R0.apiBaseUrl+"/api",bt=ia.create({baseURL:bT,headers:{Accept:"application/json"}});bt.interceptors.request.use(t=>{const e=xT();return e!==null&&(t.headers.Authorization=`Bearer ${e}`),t});const Wl={async submitEmployee(t){try{const e=new FormData;return t.personal.profilePicture&&e.append("profile_picture",t.personal.profilePicture),e.append("personal",JSON.stringify({...t.personal,profilePicture:void 0})),e.append("address",JSON.stringify(t.address)),e.append("compensation",JSON.stringify(t.compensation)),e.append("organization",JSON.stringify(t.organization)),t.documents&&t.documents.length>0&&t.documents.forEach((a,r)=>{a.file&&e.append(`documents[${r}]`,a.file)}),(await bt.post("/employees",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw e.response?e:e.request?new Error("No response from server"):new Error("Error setting up request")}},async updateEmployee(t,e){try{const s=new FormData;return e.personal.profilePicture&&s.append("profile_picture",e.personal.profilePicture),s.append("personal",JSON.stringify({...e.personal,profilePicture:void 0})),s.append("address",JSON.stringify(e.address)),s.append("compensation",JSON.stringify(e.compensation)),s.append("organization",JSON.stringify(e.organization)),e.documents&&e.documents.length>0&&e.documents.forEach((r,o)=>{r.file&&s.append(`documents[${o}]`,r.file)}),(await bt.put(`/employees/${t}`,s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s.response?s:s.request?new Error("No response from server"):new Error("Error setting up request")}},async searchEmployees(t){try{return(await bt.get("/emp/search",{params:{search:t}})).data}catch(e){return console.error("Error fetching employees:",e),[]}},async fetchEmployees(){try{return(await bt.get("/employees")).data}catch(t){return console.error("Error fetching employees:",t),[]}},async fetchEmployeesForTable(t=1,e=10,s=""){try{return(await bt.get(`/emp/table?page=${t}&per_page=${e}&search=${s}`)).data}catch(a){return console.error("Error fetching employees:",a),[]}},async fetchEmployeeById(t){try{return(await bt.get(`/employees/${t}`)).data}catch(e){return console.error("Error fetching employees:",e),[]}},async deleteEmployeeById(t){try{const e=await bt.delete(`/employees/${t}`);return!0}catch(e){return console.error("Error delete employees:",e),[]}}},yT=[{value:"",label:"Select Relationship Type"},{value:"husband",label:"Husband"},{value:"wife",label:"Wife"},{value:"relation",label:"Relation"},{value:"non-relation",label:"Non-Relation"},{value:"friend",label:"Friend"}],vT=({isOpen:t,onClose:e,title:s,children:a})=>t?n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h3",{className:"text-lg font-semibold",children:s}),n.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:n.jsx(As,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4",children:a})]})}):null,wT=({onNext:t,activeCategory:e})=>{var xe,B,me,M,T,q,Y,I,G,ce,pe,de,Ne,be,Te,Ge,Ee,ue,gt,ut,Ve,Ze,ct,ve,Ye,ht,pt,St,rt,Dt,fe,nt,Xe,Pt,Nt,ss,Re;const{formData:s,updateFormData:a,errors:r,clearFieldError:o,clearForm:c,setFormData:d}=hu(),[h,f]=P.useState(null),[p,x]=P.useState(!1),[v,y]=P.useState(!1),[N,_]=P.useState(""),[k,C]=P.useState([]),[D,L]=P.useState(!1),[$,W]=P.useState(""),le=U4(N,500);P.useEffect(()=>{if(s.personal.profilePicture)if(s.personal.profilePicture instanceof File){const qe=new FileReader;qe.onload=He=>f(He.target.result),qe.readAsDataURL(s.personal.profilePicture)}else typeof s.personal.profilePicture=="string"&&f(s.personal.profilePicture)},[s.personal.profilePicture]),P.useEffect(()=>{(async()=>{if(!le){C([]);return}L(!0);try{const He=await Wl.searchEmployees(le);C(He)}catch(He){console.error("Search error:",He),C([])}finally{L(!1)}})()},[le]);const ee=qe=>{const He=qe.getFullYear(),Pe=String(qe.getMonth()+1).padStart(2,"0"),yt=String(qe.getDate()).padStart(2,"0");return`${He}-${Pe}-${yt}`},U=new Date,oe=new Date(U.getFullYear()-15,U.getMonth(),U.getDate()),re=ee(oe),O=qe=>{var Mt;const{name:He,value:Pe,type:yt,checked:vt}=qe.target;if(He==="dob")if(Pe&&Pe>re){W("Date of Birth must be at least 15 years before today.");return}else $&&W("");if((Mt=r.personal)!=null&&Mt[He]&&o("personal",He),a("personal",{[He]:yt==="checkbox"?vt:Pe}),qe.target.type==="file"&&qe.target.files[0]){const Zt=qe.target.files[0],Gt=new FileReader;Gt.onload=Rt=>{f(Rt.target.result),a("personal",{profilePicture:Zt,profilePicturePreview:Rt.target.result})},Gt.readAsDataURL(Zt)}},R=(qe,He)=>{const{name:Pe,value:yt}=He.target,vt=[...s.personal.children];vt[qe][Pe]=yt,a("personal",{children:vt})},ie=()=>{a("personal",{children:[...s.personal.children,{name:"",age:"",dob:"",nic:""}]})},X=qe=>{if(s.personal.children.length>1){const He=s.personal.children.filter((Pe,yt)=>yt!==qe);a("personal",{children:He})}},se=qe=>{qe.preventDefault(),x(!1);const He=qe.dataTransfer.files[0];if(He&&He.type.startsWith("image/")){const Pe=new FileReader;Pe.onload=yt=>{f(yt.target.result),a("personal",{profilePicture:He,profilePicturePreview:yt.target.result})},Pe.readAsDataURL(He)}},z=qe=>{qe.preventDefault(),x(!0)},J=qe=>{qe.preventDefault(),x(!1)},Q=async qe=>{var He,Pe,yt,vt,Mt,Zt,Gt,Rt,jt,js,Os,xn,jn,Ot,vs,cs,Fe,ke,Ft,Wt,Et,hs,we,mt,kt,is,ps,bs,Wn,la,bn,je,_t,Ut,ns,ds,gs,Ss,rn,ca,Ma,Bn,Sa,xa,qi,Gs,Dn,Yr,gi,$a,xi,zn,Ar,zs,hr,Wr,Gr,Pa,fr,yo,Xr,vo,hl,fl,wo,Cr,Ui,kr,Vi,En,Kr,Dr,Jt,No,ml,ba;try{const wt=await Wl.fetchEmployeeById(qe),Er={personal:{id:wt.id,title:wt.title,attendanceEmpNo:wt.attendance_employee_no,epfNo:wt.epf,nicNumber:wt.nic,dob:wt.dob,gender:wt.gender,religion:wt.religion,countryOfBirth:wt.country_of_birth,profilePicture:null,profilePicturePreview:wt.profile_photo_path?`${R0.apiBaseUrl}/storage/${wt.profile_photo_path}`:null,employmentStatus:wt.employment_status,nameWithInitial:wt.name_with_initials,fullName:wt.full_name,displayName:wt.display_name,maritalStatus:wt.marital_status,relationshipType:wt.relationship_type,spouseTitle:(He=wt.spouse)==null?void 0:He.title,spouseName:(Pe=wt.spouse)==null?void 0:Pe.name,spouseAge:(yt=wt.spouse)==null?void 0:yt.age,spouseDob:(vt=wt.spouse)==null?void 0:vt.dob,spouseNic:(Mt=wt.spouse)==null?void 0:Mt.nic,children:((Zt=wt.children)==null?void 0:Zt.length)>0?wt.children.map(Zs=>({name:Zs.name,age:Zs.age,dob:Zs.dob,nic:Zs.nic})):[{name:"",age:"",dob:"",nic:""}]},address:{permanentAddress:(Gt=wt.contact_detail)==null?void 0:Gt.permanent_address,temporaryAddress:(Rt=wt.contact_detail)==null?void 0:Rt.temporary_address,email:(jt=wt.contact_detail)==null?void 0:jt.email,landLine:(js=wt.contact_detail)==null?void 0:js.land_line,mobileLine:(Os=wt.contact_detail)==null?void 0:Os.mobile_line,gnDivision:(xn=wt.contact_detail)==null?void 0:xn.gn_division,policeStation:(jn=wt.contact_detail)==null?void 0:jn.police_station,district:(Ot=wt.contact_detail)==null?void 0:Ot.district,province:(vs=wt.contact_detail)==null?void 0:vs.province,electoralDivision:(cs=wt.contact_detail)==null?void 0:cs.electoral_division,emergencyContact:{relationship:(Fe=wt.contact_detail)==null?void 0:Fe.emg_relationship,contactName:(ke=wt.contact_detail)==null?void 0:ke.emg_name,contactAddress:(Ft=wt.contact_detail)==null?void 0:Ft.emg_address,contactTel:(Wt=wt.contact_detail)==null?void 0:Wt.emg_tel}},compensation:{basicSalary:(Et=wt.compensation)==null?void 0:Et.basic_salary,incrementValue:(hs=wt.compensation)==null?void 0:hs.increment_value,incrementEffectiveFrom:(we=wt.compensation)==null?void 0:we.increment_effective_from,bankName:(mt=wt.compensation)==null?void 0:mt.bank_name,branchName:(kt=wt.compensation)==null?void 0:kt.branch_name,bankCode:(is=wt.compensation)==null?void 0:is.bank_code,branchCode:(ps=wt.compensation)==null?void 0:ps.branch_code,bankAccountNo:(bs=wt.compensation)==null?void 0:bs.bank_account_no,comments:(Wn=wt.compensation)==null?void 0:Wn.comments,secondaryEmp:((la=wt.compensation)==null?void 0:la.secondary_emp)===1,primaryEmploymentBasic:((bn=wt.compensation)==null?void 0:bn.primary_employment_basic)===1,enableEpfEtf:((je=wt.compensation)==null?void 0:je.enable_epf_etf)===1,otActive:((_t=wt.compensation)==null?void 0:_t.ot_active)===1,earlyDeduction:((Ut=wt.compensation)==null?void 0:Ut.early_deduction)===1,incrementActive:((ns=wt.compensation)==null?void 0:ns.increment_active)===1,nopayActive:((ds=wt.compensation)==null?void 0:ds.nopay_active)===1,morningOt:((gs=wt.compensation)==null?void 0:gs.morning_ot)===1,eveningOt:((Ss=wt.compensation)==null?void 0:Ss.evening_ot)===1,budgetaryReliefAllowance2015:((rn=wt.compensation)==null?void 0:rn.budgetary_relief_allowance_2015)===1,budgetaryReliefAllowance2016:((ca=wt.compensation)==null?void 0:ca.budgetary_relief_allowance_2016)===1},organization:{company:(Sa=(Bn=(Ma=wt.organization_assignment)==null?void 0:Ma.company)==null?void 0:Bn.id)==null?void 0:Sa.toString(),department:(Gs=(qi=(xa=wt.organization_assignment)==null?void 0:xa.department)==null?void 0:qi.id)==null?void 0:Gs.toString(),subDepartment:(gi=(Yr=(Dn=wt.organization_assignment)==null?void 0:Dn.sub_department)==null?void 0:Yr.id)==null?void 0:gi.toString(),companyName:(xi=($a=wt.organization_assignment)==null?void 0:$a.company)==null?void 0:xi.name,departmentName:(Ar=(zn=wt.organization_assignment)==null?void 0:zn.department)==null?void 0:Ar.name,subDepartmentName:(hr=(zs=wt.organization_assignment)==null?void 0:zs.sub_department)==null?void 0:hr.name,currentSupervisor:(Wr=wt.organization_assignment)==null?void 0:Wr.current_supervisor,dateOfJoined:(Gr=wt.organization_assignment)==null?void 0:Gr.date_of_joining,designation:(yo=(fr=(Pa=wt.organization_assignment)==null?void 0:Pa.designation)==null?void 0:fr.id)==null?void 0:yo.toString(),designationName:(vo=(Xr=wt.organization_assignment)==null?void 0:Xr.designation)==null?void 0:vo.name,probationPeriod:((hl=wt.organization_assignment)==null?void 0:hl.probationary_period)===1,trainingPeriod:((fl=wt.organization_assignment)==null?void 0:fl.training_period)===1,contractPeriod:((wo=wt.organization_assignment)==null?void 0:wo.contract_period)===1,probationFrom:(Cr=wt.organization_assignment)==null?void 0:Cr.probationary_period_from,probationTo:(Ui=wt.organization_assignment)==null?void 0:Ui.probationary_period_to,trainingFrom:(kr=wt.organization_assignment)==null?void 0:kr.training_period_from,trainingTo:(Vi=wt.organization_assignment)==null?void 0:Vi.training_period_to,contractFrom:(En=wt.organization_assignment)==null?void 0:En.contract_period_from,contractTo:(Kr=wt.organization_assignment)==null?void 0:Kr.contract_period_to,confirmationDate:(Dr=wt.organization_assignment)==null?void 0:Dr.confirmation_date,resignationDate:(Jt=wt.organization_assignment)==null?void 0:Jt.date_of_resigning,resignationLetter:null,resignationApproved:((No=wt.organization_assignment)==null?void 0:No.resignation_approved)===1,currentStatus:wt.is_active?1:0,dayOff:(ml=wt.organization_assignment)==null?void 0:ml.day_off},documents:((ba=wt.documents)==null?void 0:ba.map(Zs=>({id:Zs.id,name:Zs.name,type:Zs.type,size:Zs.size,status:Zs.status,preview:Zs.path?`${R0.apiBaseUrl}/storage/${Zs.path}`:null})))||[]};d(Zs=>({...Zs,...Er})),y(!1)}catch(Oa){console.error("Error loading employee data:",Oa)}};return n.jsxs("div",{className:"rounded-2xl overflow-hidden",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-xl mb-6 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-3 rounded-xl",children:n.jsx(vr,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Employee Personal Details"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Complete employee information management system"})]})]}),n.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Py,{className:"w-4 h-4"}),n.jsx("span",{children:"Edit Employee"})]})]})}),n.jsx(vT,{isOpen:v,onClose:()=>y(!1),title:"Search Employee",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ga,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Search by name, ID, EPF, NIC...",value:N,onChange:qe=>_(qe.target.value)})]}),D&&n.jsx("div",{className:"flex justify-center py-4",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!D&&k.length>0&&n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:k.map(qe=>n.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>Q(qe.id),children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:qe.profile_photo_path?n.jsx("img",{src:qe.profile_photo_path,alt:qe.full_name,className:"h-full w-full object-cover"}):n.jsx(vr,{className:"h-6 w-6 text-gray-500"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:qe.full_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["EPF: ",qe.epf," | NIC: ",qe.nic]})]})]},qe.id))}),!D&&N&&k.length===0&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"No employees found matching your search."})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 p-2 rounded-lg",children:n.jsx(vr,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Basic Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"title",value:s.personal.title,onChange:O,className:`w-full border ${(xe=r.personal)!=null&&xe.title?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,required:!0,children:[n.jsx("option",{value:"",children:"Select Title"}),n.jsx("option",{children:"Mr"}),n.jsx("option",{children:"Mrs"}),n.jsx("option",{children:"Miss"}),n.jsx("option",{children:"Ms"}),n.jsx("option",{children:"Dr"})]}),n.jsx(Ht,{error:(B=r.personal)==null?void 0:B.title})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Attendance Emp No ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"attendanceEmpNo",value:s.personal.attendanceEmpNo,onChange:O,className:`w-full border ${(me=r.personal)!=null&&me.attendanceEmpNo?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter employee number",required:!0}),n.jsx(Ht,{error:(M=r.personal)==null?void 0:M.attendanceEmpNo})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["EPF No ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"epfNo",value:s.personal.epfNo,onChange:O,className:`w-full border ${(T=r.personal)!=null&&T.epfNo?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter EPF number",required:!0}),n.jsx(Ht,{error:(q=r.personal)==null?void 0:q.epfNo})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["NIC Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"nicNumber",value:s.personal.nicNumber,onChange:O,className:`w-full border ${(Y=r.personal)!=null&&Y.nicNumber?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter NIC number",required:!0}),n.jsx(Ht,{error:(I=r.personal)==null?void 0:I.nicNumber})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Date of Birth ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"dob",value:s.personal.dob,onChange:O,max:re,className:`w-full border ${(G=r.personal)!=null&&G.dob||$?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,required:!0}),n.jsx(Ht,{error:((ce=r.personal)==null?void 0:ce.dob)||$})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Gender ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"gender",value:s.personal.gender,onChange:O,className:`w-full border ${(pe=r.personal)!=null&&pe.gender?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,required:!0,children:[n.jsx("option",{value:"",children:"Select Gender"}),n.jsx("option",{children:"Male"}),n.jsx("option",{children:"Female"}),n.jsx("option",{children:"Other"})]}),n.jsx(Ht,{error:(de=r.personal)==null?void 0:de.gender})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Religion"}),n.jsx("input",{name:"religion",value:s.personal.religion,onChange:O,className:`w-full border ${(Ne=r.personal)!=null&&Ne.religion?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter religion"}),n.jsx(Ht,{error:(be=r.personal)==null?void 0:be.religion})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Country of Birth"}),n.jsx("input",{name:"countryOfBirth",value:s.personal.countryOfBirth,onChange:O,className:`w-full border ${(Te=r.personal)!=null&&Te.countryOfBirth?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter country of birth"}),n.jsx(Ht,{error:(Ge=r.personal)==null?void 0:Ge.countryOfBirth})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Picture"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`w-16 h-16 rounded-full border-2  ${r!=null&&r.profile_picture?"border-red-500":"border-gray-200"}  overflow-hidden bg-gray-50 flex items-center justify-center`,children:h?n.jsx("img",{src:h,alt:"Profile preview",className:"w-full h-full object-cover"}):n.jsx(vr,{className:"w-6 h-6 text-gray-400"})}),h&&n.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),n.jsxs("div",{className:`relative flex-1 border-2 border-dashed rounded-lg px-4 py-3 
              transition-all duration-200 cursor-pointer
              ${r!=null&&r.profile_picture?"border-red-500":"border-gray-300"}
              ${p?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}
            `,onDrop:se,onDragOver:z,onDragLeave:J,children:[n.jsx("input",{name:"profilePicture",type:"file",accept:"image/*",onChange:O,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(VA,{className:"w-4 h-4"}),n.jsx("span",{children:"Choose photo"})]}),n.jsx("div",{className:"text-gray-400",children:"or drag and drop"})]})]})]}),s.personal.profilePicture&&n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(ed,{className:"w-3 h-3"}),n.jsx("span",{children:s.personal.profilePicture.name||"File selected"})]}),n.jsx(Ht,{error:r==null?void 0:r.profile_picture})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-2 rounded-lg",children:n.jsx(sg,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Employment Status"})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[{value:"1",label:"Permanent Basis"},{value:"2",label:"Training"},{value:"3",label:"Contract Basis"},{value:"4",label:"Daily Wages Salary"}].map(qe=>{var He;return n.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border ${(He=r.personal)!=null&&He.employmentStatus?"border-red-500":"border-gray-200"} hover:bg-gray-50 transition-colors cursor-pointer`,children:[n.jsx("input",{type:"radio",name:"employmentStatus",value:qe.value,checked:s.personal.employmentStatus===qe.value,onChange:O,className:"w-4 h-4 text-blue-600 focus:ring-blue-500 focus:ring-2"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:qe.label})]},qe.value)})}),n.jsx(Ht,{error:(Ee=r.personal)==null?void 0:Ee.employmentStatus})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 p-2 rounded-lg",children:n.jsx(vr,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Name Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name With Initial ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"nameWithInitial",value:s.personal.nameWithInitial,onChange:O,className:`w-full border ${(ue=r.personal)!=null&&ue.nameWithInitial?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"e.g., J.A. Smith",required:!0}),n.jsx(Ht,{error:(gt=r.personal)==null?void 0:gt.nameWithInitial})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"fullName",value:s.personal.fullName,onChange:O,className:`w-full border ${(ut=r.personal)!=null&&ut.fullName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter full name",required:!0}),n.jsx(Ht,{error:(Ve=r.personal)==null?void 0:Ve.fullName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Display Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"displayName",value:s.personal.displayName,onChange:O,className:`w-full border ${(Ze=r.personal)!=null&&Ze.displayName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter display name",required:!0}),n.jsx(Ht,{error:(ct=r.personal)==null?void 0:ct.displayName})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Marital Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"maritalStatus",value:s.personal.maritalStatus,onChange:O,className:`w-full lg:w-1/3 border ${(ve=r.personal)!=null&&ve.maritalStatus?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{children:"Single"}),n.jsx("option",{children:"Married"}),n.jsx("option",{children:"Divorced"}),n.jsx("option",{children:"Widowed"})]}),n.jsx(Ht,{error:(Ye=r.personal)==null?void 0:Ye.maritalStatus})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-pink-500 p-2 rounded-lg",children:n.jsx(Ha,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Relationship Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Relationship Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("select",{name:"relationshipType",value:s.personal.relationshipType||"",onChange:O,className:`w-full border ${(ht=r.personal)!=null&&ht.relationshipType?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,children:yT.map(qe=>n.jsx("option",{value:qe.value,children:qe.label},qe.value))}),n.jsx(Ht,{error:(pt=r.personal)==null?void 0:pt.relationshipType})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"spouseTitle",value:s.personal.spouseTitle||"",onChange:O,className:`w-full border ${(St=r.personal)!=null&&St.spouseTitle?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white`,required:!0,children:[n.jsx("option",{value:"",children:"Select Title"}),n.jsx("option",{children:"Mr"}),n.jsx("option",{children:"Mrs"}),n.jsx("option",{children:"Miss"}),n.jsx("option",{children:"Ms"}),n.jsx("option",{children:"Dr"})]}),n.jsx(Ht,{error:(rt=r.personal)==null?void 0:rt.spouseTitle})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"spouseName",value:s.personal.spouseName,onChange:O,className:`w-full border ${(Dt=r.personal)!=null&&Dt.spouseName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter spouse name"}),n.jsx(Ht,{error:(fe=r.personal)==null?void 0:fe.spouseName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Age ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"spouseAge",type:"number",min:"0",value:s.personal.spouseAge,onChange:O,className:`w-full border ${(nt=r.personal)!=null&&nt.spouseAge?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter age"}),n.jsx(Ht,{error:(Xe=r.personal)==null?void 0:Xe.spouseAge})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["DOB ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"spouseDob",type:"date",value:s.personal.spouseDob,onChange:O,className:`w-full border ${(Pt=r.personal)!=null&&Pt.spouseDob?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),n.jsx(Ht,{error:(Nt=r.personal)==null?void 0:Nt.spouseDob})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["NIC ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"spouseNic",value:s.personal.spouseNic,onChange:O,className:`w-full border ${(ss=r.personal)!=null&&ss.spouseNic?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:"Enter NIC number"}),n.jsx(Ht,{error:(Re=r.personal)==null?void 0:Re.spouseNic})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-2 rounded-lg",children:n.jsx(Wj,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Children Details"})]}),n.jsxs("button",{onClick:ie,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2 hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:[n.jsx(Zc,{className:"w-4 h-4"}),"Add Child"]})]}),n.jsx("div",{className:"space-y-4",children:s.personal.children.map((qe,He)=>{var Pe,yt,vt,Mt,Zt,Gt,Rt,jt,js,Os,xn,jn,Ot,vs;return n.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-600",children:["Child ",He+1]}),s.personal.children.length>1&&n.jsx("button",{onClick:()=>X(He),className:"bg-red-500 hover:bg-red-600 text-white p-1.5 rounded-lg transition-colors duration-200 flex items-center gap-1",children:n.jsx(or,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("input",{name:"name",placeholder:"Child name",value:qe.name,onChange:cs=>R(He,cs),className:`w-full border ${(vt=(yt=(Pe=r.personal)==null?void 0:Pe.children)==null?void 0:yt[He])!=null&&vt.name?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),n.jsx("input",{name:"age",type:"number",min:"0",placeholder:"Age",value:qe.age,onChange:cs=>R(He,cs),className:`w-full border ${(Gt=(Zt=(Mt=r.personal)==null?void 0:Mt.children)==null?void 0:Zt[He])!=null&&Gt.age?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),n.jsx("input",{name:"dob",type:"date",value:qe.dob,onChange:cs=>R(He,cs),className:`w-full border ${(js=(jt=(Rt=r.personal)==null?void 0:Rt.children)==null?void 0:jt[He])!=null&&js.dob?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`}),n.jsx("input",{name:"nic",placeholder:"NIC number",value:qe.nic,onChange:cs=>R(He,cs),className:`w-full border ${(jn=(xn=(Os=r.personal)==null?void 0:Os.children)==null?void 0:xn[He])!=null&&jn.nic?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`})]}),((vs=(Ot=r.personal)==null?void 0:Ot.children)==null?void 0:vs[He])&&n.jsx("div",{className:"mt-2 text-sm text-red-600",children:Object.values(r.personal.children[He]).map((cs,Fe)=>n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"mr-1",children:""}),n.jsx("span",{children:cs})]},Fe))})]},He)})})]})]}),n.jsx("div",{className:"flex justify-end mt-8",children:n.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})})]})},Iw={Provinces:[{name:"Central Province",districts:["Kandy","Matale","Nuwara Eliya"]},{name:"Eastern Province",districts:["Ampara","Batticaloa","Trincomalee"]},{name:"Northern Province",districts:["Jaffna","Kilinochchi","Mannar","Mullaitivu","Vavuniya"]},{name:"North Central Province",districts:["Anuradhapura","Polonnaruwa"]},{name:"North Western Province",districts:["Kurunegala","Puttalam"]},{name:"Sabaragamuwa Province",districts:["Kegalle","Ratnapura"]},{name:"Southern Province",districts:["Galle","Matara","Hambantota"]},{name:"Uva Province",districts:["Badulla","Monaragala"]},{name:"Western Province",districts:["Colombo","Gampaha","Kalutara"]}]},NT=({onNext:t,onPrevious:e,activeCategory:s})=>{var p,x,v,y,N,_,k,C,D,L,$,W,le,ee,U,oe,re,O,R,ie,X,se,z,J,Q,xe,B,me,M,T,q,Y,I,G,ce,pe;const{formData:a,updateFormData:r,errors:o,clearFieldError:c}=hu(),d=de=>{var Te;const{name:Ne,value:be}=de.target;(Te=o.address)!=null&&Te[Ne]&&c("address",Ne),Ne==="province"?r("address",{[Ne]:be,district:""}):r("address",{[Ne]:be})},h=de=>{var Te,Ge;const{name:Ne,value:be}=de.target;(Ge=(Te=o.address)==null?void 0:Te.emergencyContact)!=null&&Ge[Ne]&&c("address",`emergencyContact.${Ne}`),r("address",{emergencyContact:{...a.address.emergencyContact,[Ne]:be}})},f=()=>{if(!a.address.province)return[];const de=Iw.Provinces.find(Ne=>Ne.name===a.address.province);return de?de.districts:[]};return n.jsx("div",{id:"address",className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-3 rounded-xl",children:n.jsx(rg,{className:"w-6 h-6 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Address And Contact Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Gj,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Permanent Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"permanentAddress",value:a.address.permanentAddress,onChange:d,rows:"3",className:`w-full border ${(p=o.address)!=null&&p.permanentAddress?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Enter permanent address"}),n.jsx(Ht,{error:(x=o.address)==null?void 0:x.permanentAddress})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temporary Address"}),n.jsx("textarea",{name:"temporaryAddress",value:a.address.temporaryAddress,onChange:d,rows:"3",className:`w-full border ${(v=o.address)!=null&&v.temporaryAddress?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Enter temporary address"}),n.jsx(Ht,{error:(y=o.address)==null?void 0:y.temporaryAddress})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(Hc,{className:"w-5 h-5 text-green-600"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Email ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ag,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("input",{name:"email",type:"email",value:a.address.email,onChange:d,className:`w-full border ${(N=o.address)!=null&&N.email?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter email address"})]}),n.jsx(Ht,{error:(_=o.address)==null?void 0:_.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Land Line"}),n.jsxs("div",{className:"relative",children:[n.jsx(Hc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("input",{name:"landLine",value:a.address.landLine,onChange:de=>{const Ne=de.target.value.replace(/\D/g,"").slice(0,10);d({target:{name:"landLine",value:Ne}})},className:`w-full border ${(k=o.address)!=null&&k.landLine?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter land line number"})]}),n.jsx(Ht,{error:(C=o.address)==null?void 0:C.landLine}),a.address.landLine&&a.address.landLine.length!==10&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Land line must be 10 digits"})]}),n.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Mobile Line ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Hc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("input",{name:"mobileLine",value:a.address.mobileLine,onChange:de=>{const Ne=de.target.value.replace(/\D/g,"").slice(0,10);d({target:{name:"mobileLine",value:Ne}})},className:`w-full border ${(D=o.address)!=null&&D.mobileLine?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter mobile number"})]}),n.jsx(Ht,{error:(L=o.address)==null?void 0:L.mobileLine}),a.address.mobileLine&&a.address.mobileLine.length!==10&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Mobile number must be 10 digits"})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(wC,{className:"w-5 h-5 text-purple-600"}),"Location Details"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Province ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"province",value:a.address.province,onChange:d,className:`w-full border ${($=o.address)!=null&&$.province?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white`,children:[n.jsx("option",{value:"",children:"Select Province"}),Iw.Provinces.map((de,Ne)=>n.jsx("option",{value:de.name,children:de.name},Ne))]}),n.jsx(Ht,{error:(W=o.address)==null?void 0:W.province})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Electoral Division"}),n.jsx("input",{name:"electoralDivision",value:a.address.electoralDivision,onChange:d,className:`w-full border ${(le=o.address)!=null&&le.electoralDivision?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter electoral division"}),n.jsx(Ht,{error:(ee=o.address)==null?void 0:ee.electoralDivision})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"GN Division"}),n.jsx("input",{name:"gnDivision",value:a.address.gnDivision,onChange:d,className:`w-full border ${(U=o.address)!=null&&U.gnDivision?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter GN division"}),n.jsx(Ht,{error:(oe=o.address)==null?void 0:oe.gnDivision})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Police Station"}),n.jsx("input",{name:"policeStation",value:a.address.policeStation,onChange:d,className:`w-full border ${(re=o.address)!=null&&re.policeStation?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter police station"}),n.jsx(Ht,{error:(O=o.address)==null?void 0:O.policeStation})]}),n.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["District ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"district",value:a.address.district,onChange:d,disabled:!a.address.province,className:`w-full border ${(R=o.address)!=null&&R.district?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white ${a.address.province?"":"opacity-70 cursor-not-allowed"}`,children:[n.jsx("option",{value:"",children:"Select District"}),f().map((de,Ne)=>n.jsx("option",{value:de,children:de},Ne))]}),n.jsx(Ht,{error:(ie=o.address)==null?void 0:ie.district})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[n.jsx(ig,{className:"w-5 h-5 text-red-600"}),"Emergency Contact"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Relationship ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"relationship",value:a.address.emergencyContact.relationship,onChange:h,className:`w-full border ${(se=(X=o.address)==null?void 0:X.emergencyContact)!=null&&se.relationship?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white`,children:[n.jsx("option",{value:"",children:"Select Relationship"}),n.jsx("option",{value:"Spouse",children:"Spouse"}),n.jsx("option",{value:"Parent",children:"Parent"}),n.jsx("option",{value:"Sibling",children:"Sibling"}),n.jsx("option",{value:"Child",children:"Child"}),n.jsx("option",{value:"Friend",children:"Friend"})]}),n.jsx(Ht,{error:(J=(z=o.address)==null?void 0:z.emergencyContact)==null?void 0:J.relationship})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"contactName",value:a.address.emergencyContact.contactName,onChange:h,className:`w-full border ${(xe=(Q=o.address)==null?void 0:Q.emergencyContact)!=null&&xe.contactName?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter contact name"}),n.jsx(Ht,{error:(me=(B=o.address)==null?void 0:B.emergencyContact)==null?void 0:me.contactName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"contactAddress",value:a.address.emergencyContact.contactAddress,onChange:h,rows:"2",className:`w-full border ${(T=(M=o.address)==null?void 0:M.emergencyContact)!=null&&T.contactAddress?"border-red-500":"border-gray-300"} rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Enter contact address"}),n.jsx(Ht,{error:(Y=(q=o.address)==null?void 0:q.emergencyContact)==null?void 0:Y.contactAddress})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contact Tel ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Hc,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("input",{name:"contactTel",value:a.address.emergencyContact.contactTel,onChange:de=>{const Ne=de.target.value.replace(/\D/g,"").slice(0,10);h({target:{name:"contactTel",value:Ne}})},className:`w-full border ${(G=(I=o.address)==null?void 0:I.emergencyContact)!=null&&G.contactTel?"border-red-500":"border-gray-300"} rounded-lg pl-10 pr-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter contact telephone"})]}),n.jsx(Ht,{error:(pe=(ce=o.address)==null?void 0:ce.emergencyContact)==null?void 0:pe.contactTel}),a.address.emergencyContact.contactTel&&a.address.emergencyContact.contactTel.length!==10&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Contact number must be 10 digits"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between mt-8",children:[n.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Previous"}),n.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})]})]})})},id="/apiData",cu=async()=>{try{return(await bt.get(`${id}/companies`)).data}catch(t){return console.error("Error fetching companies:",t),[]}},F0=async()=>{try{return(await bt.get(`${id}/departments`)).data}catch(t){return console.error("Error fetching departments:",t),[]}},s2=async t=>{try{return(await bt.get(`${id}/departments/${t}`)).data}catch(e){return console.error("Error fetching departments:",e),[]}},Gb=async()=>{try{return(await bt.get(`${id}/subDepartments`)).data}catch(t){return console.error("Error fetching sub-departments:",t),[]}},jT=async t=>{try{return(await bt.get(`${id}/subDepartments/${t}`)).data}catch(e){return console.error("Error fetching sub-departments:",e),[]}},ST=async()=>{try{return(await bt.get(`${id}/designations`)).data}catch(t){return console.error("Error fetching Designations:",t),[]}},_T=async t=>{try{return(await bt.post("/companies",t)).data}catch(e){throw console.error("Error adding companies:",e),e}},AT=async(t,e)=>{try{return(await bt.put(`/companies/${t}`,e)).data}catch(s){throw console.error("Error updating company:",s),s}},CT=async t=>{try{await bt.delete(`/companies/${t}`)}catch(e){throw console.error("Error deleting company:",e),e}},kT=async t=>(await bt.post("/departments",t)).data,DT=async(t,e)=>(await bt.put(`/departments/${t}`,e)).data,ET=async t=>{await bt.delete(`/departments/${t}`)},LT=async t=>{try{return(await bt.post("/subdepartments",t)).data}catch(e){throw console.error("Error creating sub-department:",e),e}},TT=async(t,e)=>{try{return(await bt.put(`/subdepartments/${t}`,e)).data}catch(s){throw console.error("Error updating sub-department:",s),s}},MT=async t=>{try{await bt.delete(`/subdepartments/${t}`)}catch(e){throw console.error("Error deleting sub-department:",e),e}},Gp=async()=>{try{return(await bt.get("/time-cards")).data}catch(t){return console.error("Error fetching time cards:",t),[]}},PT=async t=>{try{return(await bt.get(`${id}/subDepartments/${t}/employees`)).data}catch(e){return console.error("Error fetching employees by sub-department:",e),[]}},OT=async t=>{try{const e=await bt.post("/time-cards",t);return console.log("Time card added successfully:",e.data),e.data}catch(e){throw e}},RT=async t=>{try{return(await bt.get(`${id}/companies/${t}/employees`)).data}catch(e){return console.error("Error fetching employees by company:",e),[]}},FT=({onNext:t,onPrevious:e,activeCategory:s})=>{var R,ie,X,se,z,J,Q,xe,B,me,M,T,q,Y,I,G,ce,pe,de,Ne,be,Te,Ge,Ee,ue,gt,ut;const{formData:a,updateFormData:r,errors:o,clearFieldError:c}=hu(),[d,h]=P.useState(!0),[f,p]=P.useState(!1),[x,v]=P.useState(!1),[y,N]=P.useState(!0),[_,k]=P.useState([]),[C,D]=P.useState([]),[L,$]=P.useState([]),[W,le]=P.useState([]),[ee,U]=P.useState({probationEnabled:!1,trainingEnabled:!1,contractEnabled:!1,confirmationEnabled:!1});P.useEffect(()=>{(async()=>{try{const[Ze,ct]=await Promise.all([cu(),ST()]);k(Ze),h(!1),le(ct),N(!1)}catch(Ze){console.error("Error loading data:",Ze)}})()},[]),P.useEffect(()=>{a.organization.company?(async()=>{p(!0);try{const Ze=await s2(a.organization.company);D(Ze),r("organization",{department:"",subDepartment:""}),$([])}catch(Ze){console.error("Error loading departments:",Ze)}finally{p(!1)}})():(D([]),$([]))},[a.organization.company]),P.useEffect(()=>{a.organization.department?(async()=>{v(!0);try{const Ze=await jT(a.organization.department);$(Ze),r("organization",{subDepartment:""})}catch(Ze){console.error("Error loading sub-departments:",Ze)}finally{v(!1)}})():$([])},[a.organization.department]);const oe=Ve=>{var St;const{name:Ze,value:ct,type:ve,checked:Ye,files:ht}=Ve.target,pt=ct===""?"":Number(ct);if((St=o.organization)!=null&&St[Ze]&&c("organization",Ze),Ze==="company"){const rt=_.find(Dt=>Dt.id===pt);r("organization",{company:pt.toString(),companyName:(rt==null?void 0:rt.name)||"",department:"",departmentName:"",subDepartment:"",subDepartmentName:""});return}if(Ze==="department"){const rt=C.find(Dt=>Dt.id===pt);r("organization",{department:pt.toString(),departmentName:(rt==null?void 0:rt.name)||"",subDepartment:"",subDepartmentName:""});return}if(Ze==="subDepartment"){const rt=L.find(Dt=>Dt.id===pt);r("organization",{subDepartment:pt.toString(),subDepartmentName:(rt==null?void 0:rt.name)||""});return}if(Ze==="designation"){const rt=W.find(Dt=>Dt.id===pt);r("organization",{designation:pt.toString(),designationName:(rt==null?void 0:rt.name)||""});return}r("organization",{[Ze]:ve==="checkbox"?Ye:ve==="file"?ht[0]:ct})},re=Ve=>{U(Ze=>{const ct=!Ze[Ve],Ye={probationEnabled:"probationPeriod",trainingEnabled:"trainingPeriod",contractEnabled:"contractPeriod",confirmationEnabled:null}[Ve];return Ye&&r("organization",{[Ye]:ct}),{...Ze,[Ve]:ct}})},O=({enabled:Ve,onToggle:Ze,label:ct,value:ve})=>n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",onChange:Ze,className:"sr-only peer","aria-label":`Toggle ${ct}`}),n.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${Ve?"bg-blue-600":"bg-gray-300"} peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 peer-focus:ring-offset-2`}),n.jsx("div",{className:`absolute left-1 top-1 h-4 w-4 rounded-full bg-white transition-transform ${Ve?"translate-x-5":"translate-x-0"}`})]});return n.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-md",children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(Nr,{className:"text-blue-600",size:24}),"Organization Details"]}),n.jsxs("form",{children:[n.jsxs("div",{className:"mb-8 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[n.jsx(Ha,{className:"text-blue-500",size:20}),"Company Information"]}),n.jsx("p",{className:"text-gray-500 mb-4 pl-7",children:"Basic company and employee details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(Nr,{className:"text-gray-500",size:16}),"Company ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative flex-1",children:[d?n.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):n.jsxs("select",{name:"company",value:a.organization.company,onChange:oe,className:`w-full pl-8 pr-3 py-2 border ${(R=o.organization)!=null&&R.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[n.jsx("option",{value:"",children:"Select Company"}),_.map(Ve=>n.jsx("option",{value:Ve.id,children:Ve.name},Ve.id))]}),n.jsx(Ht,{error:(ie=o.organization)==null?void 0:ie.company})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(lh,{className:"text-gray-500",size:16}),"Department ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative flex-1",children:[f?n.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):n.jsxs("select",{name:"department",value:a.organization.department,onChange:oe,disabled:!a.organization.company||f,className:`w-full pl-8 pr-3 py-2 border ${(X=o.organization)!=null&&X.department?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${a.organization.company?"":"bg-gray-100 cursor-not-allowed"}`,children:[n.jsx("option",{value:"",children:"Select Department"}),C.map(Ve=>n.jsx("option",{value:Ve.id,children:Ve.name},Ve.id))]}),n.jsx(Ht,{error:(se=o.organization)==null?void 0:se.department})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(lh,{className:"text-gray-500",size:16}),"Sub Department ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative flex-1",children:[x?n.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):n.jsxs("select",{name:"subDepartment",value:a.organization.subDepartment,onChange:oe,disabled:!a.organization.department||x,className:`w-full pl-8 pr-3 py-2 border ${(z=o.organization)!=null&&z.subDepartment?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${a.organization.department?"":"bg-gray-100 cursor-not-allowed"}`,required:!0,children:[n.jsx("option",{value:"",children:"Select Sub Department"}),L.map(Ve=>n.jsx("option",{value:Ve.id,children:Ve.name},Ve.id))]}),n.jsx(Ht,{error:(J=o.organization)==null?void 0:J.subDepartment})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(vr,{className:"text-gray-500",size:16}),"Current Supervisor"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",name:"currentSupervisor",value:a.organization.currentSupervisor,onChange:oe,placeholder:"e.g., John Doe",className:`w-full pl-8 pr-3 py-2 border ${(Q=o.organization)!=null&&Q.currentSupervisor?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(vr,{className:"absolute left-2 top-2.5 text-gray-400",size:16})]}),n.jsx(Ht,{error:(xe=o.organization)==null?void 0:xe.currentSupervisor})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(hn,{className:"text-gray-500",size:16}),"Date of Joined ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"date",name:"dateOfJoined",value:a.organization.dateOfJoined,onChange:oe,className:`w-full pl-8 pr-3 py-2 border ${(B=o.organization)!=null&&B.dateOfJoined?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`})}),n.jsx(Ht,{error:(me=o.organization)==null?void 0:me.dateOfJoined})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(sg,{className:"text-gray-500",size:16}),"Designation ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"relative",children:y?n.jsx("div",{className:"flex items-center justify-center h-10 border border-gray-300 rounded-md bg-gray-100",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-purple-500"})}):n.jsxs("select",{name:"designation",value:a.organization.designation,onChange:oe,className:`w-full pl-8 pr-3 py-2 border ${(M=o.organization)!=null&&M.designation?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[n.jsx("option",{value:"",children:"Select designations"}),W.map(Ve=>n.jsx("option",{value:Ve.id,children:Ve.name},Ve.id))]})}),n.jsx(Ht,{error:(T=o.organization)==null?void 0:T.designation})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-1",children:[n.jsx(lh,{className:"text-gray-500",size:16}),"Day Off ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"relative",children:n.jsxs("select",{name:"dayOff",value:a.organization.dayOff||"",onChange:oe,className:`w-full pl-8 pr-3 py-2 border ${(q=o.organization)!=null&&q.dayOff?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`,required:!0,children:[n.jsx("option",{value:"",children:"Select Day Off"}),n.jsx("option",{value:"Sunday",children:"Sunday"}),n.jsx("option",{value:"Monday",children:"Monday"}),n.jsx("option",{value:"Tuesday",children:"Tuesday"}),n.jsx("option",{value:"Wednesday",children:"Wednesday"}),n.jsx("option",{value:"Thursday",children:"Thursday"}),n.jsx("option",{value:"Friday",children:"Friday"}),n.jsx("option",{value:"Saturday",children:"Saturday"}),n.jsx("option",{value:"none",children:"None"})]})}),n.jsx(Ht,{error:(Y=o.organization)==null?void 0:Y.dayOff})]})]})]}),n.jsxs("div",{className:"mb-8 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[n.jsx(jr,{className:"text-blue-500",size:20}),"Employment Periods"]}),n.jsx("p",{className:"text-gray-500 mb-4 pl-7",children:"Define training, probation, and contract periods"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"1"}),"Probation Period"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm ${a.organization.probationPeriod?"text-blue-600":"text-red-400"}`,children:a.organization.probationPeriod?"Enabled":"Disabled"}),n.jsx(O,{enabled:a.organization.probationPeriod,onToggle:()=>re("probationEnabled"),label:"Probation Period",value:a.organization.probationPeriod})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 mb-1",children:"From Date"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"probationFrom",value:a.organization.probationFrom,onChange:oe,disabled:!a.organization.probationPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.probationPeriod?(I=o.organization)!=null&&I.probationFrom?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${a.organization.probationPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(G=o.organization)==null?void 0:G.probationFrom})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 mb-1",children:"To Date"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"probationTo",value:a.organization.probationTo,onChange:oe,disabled:!a.organization.probationPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.probationPeriod?(ce=o.organization)!=null&&ce.probationTo?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${a.organization.probationPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(pe=o.organization)==null?void 0:pe.probationTo})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"2"}),"Training Period"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm ${a.organization.trainingPeriod?"text-blue-600":"text-red-400"}`,children:a.organization.trainingPeriod?"Enabled":"Disabled"}),n.jsx(O,{enabled:a.organization.trainingPeriod,onToggle:()=>re("trainingEnabled"),value:a.organization.trainingPeriod,label:"Training Period"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 mb-1",children:"From Date"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"trainingFrom",value:a.organization.trainingFrom,onChange:oe,disabled:!a.organization.trainingPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.trainingPeriod?(de=o.organization)!=null&&de.trainingFrom?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${a.organization.trainingPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(Ne=o.organization)==null?void 0:Ne.trainingFrom})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 mb-1",children:"To Date"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"trainingTo",value:a.organization.trainingTo,onChange:oe,disabled:!a.organization.trainingPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.trainingPeriod?(be=o.organization)!=null&&be.trainingTo?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${a.organization.trainingPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(Te=o.organization)==null?void 0:Te.trainingTo})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("h3",{className:"font-medium text-gray-700 flex items-center gap-2",children:[n.jsx("span",{className:"bg-blue-100 text-blue-800 rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"3"}),"Contract Period"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm ${a.organization.contractPeriod?"text-blue-600":"text-red-400"}`,children:a.organization.contractPeriod?"Enabled":"Disabled"}),n.jsx(O,{enabled:a.organization.contractPeriod,onToggle:()=>re("contractEnabled"),label:"Contract Period",value:a.organization.contractPeriod})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 mb-1",children:"From Date"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"contractFrom",value:a.organization.contractFrom,onChange:oe,disabled:!a.organization.contractPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.contractPeriod?(Ge=o.organization)!=null&&Ge.contractFrom?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${a.organization.contractPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(Ee=o.organization)==null?void 0:Ee.contractFrom})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-gray-600 mb-1",children:"To Date"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"contractTo",value:a.organization.contractTo,onChange:oe,disabled:!a.organization.contractPeriod,className:`w-full pl-8 pr-3 py-2 border ${a.organization.contractPeriod?(ue=o.organization)!=null&&ue.contractTo?"border-red-500":"border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500`}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${a.organization.contractPeriod?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(gt=o.organization)==null?void 0:gt.contractTo})]})]})]}),n.jsxs("div",{className:"md:w-1/2",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("label",{className:"text-gray-700 font-medium flex items-center gap-1",children:[n.jsx(po,{className:"text-gray-500",size:16}),"Confirmation Date"]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`text-sm ${ee.confirmationEnabled?"text-blue-600":"text-red-400"}`})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"confirmationDate",value:a.organization.confirmationDate,onChange:oe,className:"w-full pl-8 pr-3 py-2 border  rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),n.jsx(hn,{className:`absolute left-2 top-2.5 ${ee.confirmationEnabled?"text-gray-400":"text-gray-300"}`,size:16})]}),n.jsx(Ht,{error:(ut=o.organization)==null?void 0:ut.confirmationDate})]})]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 flex justify-between space-x-4",children:[n.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Previous"}),n.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})]})]})]})},BT=({onNext:t,onPrevious:e,activeCategory:s})=>{var p,x,v,y,N,_,k,C,D,L,$,W,le,ee,U,oe,re,O,R,ie,X,se,z;const{formData:a,updateFormData:r,errors:o,clearFieldError:c}=hu(),d=(J,Q)=>{var xe;(xe=o.compensation)!=null&&xe[J]&&c("compensation",J),r("compensation",{[J]:Q})},h=J=>{r("compensation",{[J]:!a.compensation[J]})},f=Number(((p=a.compensation)==null?void 0:p.basicSalary)||0)>4e4;return n.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:n.jsxs("div",{className:"p-8",children:[n.jsx("div",{className:"flex items-center gap-3 mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[n.jsx(wa,{className:"w-6 h-6 mr-2 text-green-600"}),"Compensation Management"]})}),n.jsxs("form",{children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-xl border border-green-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(wa,{className:"w-5 h-5 mr-2 text-green-600"}),"Salary Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Basic Salary ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"number",value:a.compensation.basicSalary,onChange:J=>d("basicSalary",J.target.value),className:`w-full pl-10 pr-4 py-3 border ${(x=o.compensation)!=null&&x.basicSalary?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter basic salary",required:!0})]}),n.jsx(Ht,{error:(v=o.compensation)==null?void 0:v.basicSalary})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Increment Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"number",value:a.compensation.incrementValue,onChange:J=>d("incrementValue",J.target.value),className:`w-full pl-10 pr-4 py-3 border ${(y=o.compensation)!=null&&y.incrementValue?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter increment"})]}),n.jsx(Ht,{error:(N=o.compensation)==null?void 0:N.incrementValue})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Increment Effective From"}),n.jsxs("div",{className:"relative",children:[n.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"date",value:a.compensation.incrementEffectiveFrom,onChange:J=>d("incrementEffectiveFrom",J.target.value),className:`w-full pl-10 pr-4 py-3 border ${(_=o.compensation)!=null&&_.incrementEffectiveFrom?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`})]}),n.jsx(Ht,{error:(k=o.compensation)==null?void 0:k.incrementEffectiveFrom})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 p-6 rounded-xl border border-purple-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(vr,{className:"w-5 h-5 mr-2 text-purple-600"}),"Employment Settings"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"secondaryEmp",className:"text-sm font-medium text-gray-700",children:"Secondary Employment"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.secondaryEmp?"#3b82f6":"#e5e7eb"},onClick:()=>h("secondaryEmp"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.secondaryEmp?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"enableEpfEtf",className:"text-sm font-medium text-gray-700",children:"Enable EPF/ETF"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.enableEpfEtf?"#3b82f6":"#e5e7eb"},onClick:()=>h("enableEpfEtf"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.enableEpfEtf?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"otActive",className:"text-sm font-medium text-gray-700",children:"OT Active"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.otActive?"#3b82f6":"#e5e7eb"},onClick:()=>h("otActive"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.otActive?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"incrementActive",className:"text-sm font-medium text-gray-700",children:"Increment Active"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.incrementActive?"#3b82f6":"#e5e7eb"},onClick:()=>h("incrementActive"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.incrementActive?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"nopayActive",className:"text-sm font-medium text-gray-700",children:"No-pay Active"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.nopayActive?"#3b82f6":"#e5e7eb"},onClick:()=>h("nopayActive"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.nopayActive?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"earlyDeduction",className:"text-sm font-medium text-gray-700",children:"Early Deduction"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.earlyDeduction?"#3b82f6":"#e5e7eb"},onClick:()=>h("earlyDeduction"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.earlyDeduction?"translate-x-6":"translate-x-1"}`})})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 p-6 rounded-xl border border-orange-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(zr,{className:"w-5 h-5 mr-2 text-orange-600"}),"Overtime Settings"]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"morningOt",className:"text-sm font-medium text-gray-700",children:"Morning OT"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.morningOt?"#3b82f6":"#e5e7eb"},onClick:()=>h("morningOt"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.morningOt?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[n.jsx("label",{htmlFor:"eveningOt",className:"text-sm font-medium text-gray-700",children:"Evening OT"}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.eveningOt?"#3b82f6":"#e5e7eb"},onClick:()=>h("eveningOt"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.eveningOt?"translate-x-6":"translate-x-1"}`})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Morning OT Rate ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"number",value:a.compensation.ot_morning_rate,onChange:J=>d("ot_morning_rate",J.target.value),className:`w-full pl-10 pr-4 py-3 border ${(C=o.compensation)!=null&&C.ot_morning_rate?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter Morning OT Rate",required:!0})]}),n.jsx(Ht,{error:(D=o.compensation)==null?void 0:D.ot_morning_rate})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Night OT Rate ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(wa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"number",value:a.compensation.ot_night_rate,onChange:J=>d("ot_night_rate",J.target.value),className:`w-full pl-10 pr-4 py-3 border ${(L=o.compensation)!=null&&L.ot_night_rate?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter Night OT Rate",required:!0})]}),n.jsx(Ht,{error:($=o.compensation)==null?void 0:$.ot_night_rate})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-xl border border-blue-200",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Nr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Bank Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:a.compensation.bankName,onChange:J=>d("bankName",J.target.value),className:`w-full px-4 py-3 border ${(W=o.compensation)!=null&&W.bankName?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:[n.jsx("option",{value:"1/1/1900",children:"Select Bank"}),n.jsx("option",{value:"bank1",children:"Bank of Ceylon"}),n.jsx("option",{value:"bank2",children:"Commercial Bank"}),n.jsx("option",{value:"bank3",children:"Peoples Bank"})]}),n.jsx(Ht,{error:(le=o.compensation)==null?void 0:le.bankName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Branch Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:a.compensation.branchName,onChange:J=>d("branchName",J.target.value),className:`w-full px-4 py-3 border ${(ee=o.compensation)!=null&&ee.branchName?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:[n.jsx("option",{value:"1/1/1900",children:"Select Branch"}),n.jsx("option",{value:"branch1",children:"Main Branch"}),n.jsx("option",{value:"branch2",children:"City Branch"}),n.jsx("option",{value:"branch3",children:"Regional Branch"})]}),n.jsx(Ht,{error:(U=o.compensation)==null?void 0:U.branchName})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:a.compensation.bankCode,onChange:J=>d("bankCode",J.target.value),className:`w-full px-4 py-3 border ${(oe=o.compensation)!=null&&oe.bankCode?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter bank code"}),n.jsx(Ht,{error:(re=o.compensation)==null?void 0:re.bankCode})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Branch Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:a.compensation.branchCode,onChange:J=>d("branchCode",J.target.value),className:`w-full px-4 py-3 border ${(O=o.compensation)!=null&&O.branchCode?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter branch code"}),n.jsx(Ht,{error:(R=o.compensation)==null?void 0:R.branchCode})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Xj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:a.compensation.bankAccountNo,onChange:J=>d("bankAccountNo",J.target.value),className:`w-full pl-10 pr-4 py-3 border ${(ie=o.compensation)!=null&&ie.bankAccountNo?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter account number"})]}),n.jsx(Ht,{error:(X=o.compensation)==null?void 0:X.bankAccountNo})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6 rounded-xl border border-emerald-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Budgetary Relief Allowances"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"Budgetary Relief Allowance 2015"}),n.jsx("p",{className:"text-sm text-gray-600",children:"BR1 Relief allowance for 2015"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.budgetaryReliefAllowance2015?"#3b82f6":"#e5e7eb"},onClick:()=>h("budgetaryReliefAllowance2015"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.budgetaryReliefAllowance2015?"translate-x-6":"translate-x-1"}`})}),f&&n.jsx("span",{className:"text-xs text-green-600",children:"Eligible"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"Budgetary Relief Allowance 2016"}),n.jsx("p",{className:"text-sm text-gray-600",children:"BR2 Relief allowance for 2016"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.budgetaryReliefAllowance2016?"#3b82f6":"#e5e7eb"},onClick:()=>h("budgetaryReliefAllowance2016"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.budgetaryReliefAllowance2016?"translate-x-6":"translate-x-1"}`})}),f&&n.jsx("span",{className:"text-xs text-green-600",children:"Eligible"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-6 rounded-xl border border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Primary Employment Basic"}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[n.jsx("div",{children:n.jsx("h3",{className:"font-medium text-gray-800",children:"Primary Employment Basic"})}),n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:a.compensation.primaryEmploymentBasic?"#3b82f6":"#e5e7eb"},onClick:()=>h("primaryEmploymentBasic"),children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${a.compensation.primaryEmploymentBasic?"translate-x-6":"translate-x-1"}`})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border border-yellow-200",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Comments"}),n.jsx("textarea",{value:a.compensation.comments,onChange:J=>d("comments",J.target.value),rows:"4",className:`w-full px-4 py-3 border ${(se=o.compensation)!=null&&se.comments?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none`,placeholder:"Add any additional comments or notes..."}),n.jsx(Ht,{error:(z=o.compensation)==null?void 0:z.comments})]})]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 flex justify-between space-x-4",children:[n.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400",children:"Previous"}),n.jsx("button",{type:"button",onClick:t,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Next"})]})]})]})})};/*!
* sweetalert2 v11.22.2
* Released under the MIT License.
*/function p3(t,e,s){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:s;throw new TypeError("Private element is not present on this object")}function zT(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qw(t,e){return t.get(p3(t,e))}function IT(t,e,s){zT(t,e),e.set(t,s)}function qT(t,e,s){return t.set(p3(t,e),s),s}const UT=100,Kt={},VT=()=>{Kt.previousActiveElement instanceof HTMLElement?(Kt.previousActiveElement.focus(),Kt.previousActiveElement=null):document.body&&document.body.focus()},HT=t=>new Promise(e=>{if(!t)return e();const s=window.scrollX,a=window.scrollY;Kt.restoreFocusTimeout=setTimeout(()=>{VT(),e()},UT),window.scrollTo(s,a)}),g3="swal2-",$T=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Qe=$T.reduce((t,e)=>(t[e]=g3+e,t),{}),YT=["success","warning","info","question","error"],B0=YT.reduce((t,e)=>(t[e]=g3+e,t),{}),x3="SweetAlert2:",n2=t=>t.charAt(0).toUpperCase()+t.slice(1),Sr=t=>{console.warn(`${x3} ${typeof t=="object"?t.join(" "):t}`)},fu=t=>{console.error(`${x3} ${t}`)},Uw=[],WT=t=>{Uw.includes(t)||(Uw.push(t),Sr(t))},b3=(t,e=null)=>{WT(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},bg=t=>typeof t=="function"?t():t,a2=t=>t&&typeof t.toPromise=="function",Cm=t=>a2(t)?t.toPromise():Promise.resolve(t),r2=t=>t&&Promise.resolve(t)===t,_r=()=>document.body.querySelector(`.${Qe.container}`),km=t=>{const e=_r();return e?e.querySelector(t):null},mi=t=>km(`.${t}`),Ys=()=>mi(Qe.popup),Dh=()=>mi(Qe.icon),GT=()=>mi(Qe["icon-content"]),y3=()=>mi(Qe.title),i2=()=>mi(Qe["html-container"]),v3=()=>mi(Qe.image),o2=()=>mi(Qe["progress-steps"]),yg=()=>mi(Qe["validation-message"]),dl=()=>km(`.${Qe.actions} .${Qe.confirm}`),Eh=()=>km(`.${Qe.actions} .${Qe.cancel}`),mu=()=>km(`.${Qe.actions} .${Qe.deny}`),XT=()=>mi(Qe["input-label"]),Lh=()=>km(`.${Qe.loader}`),Dm=()=>mi(Qe.actions),w3=()=>mi(Qe.footer),vg=()=>mi(Qe["timer-progress-bar"]),l2=()=>mi(Qe.close),KT=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,c2=()=>{const t=Ys();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),s=Array.from(e).sort((o,c)=>{const d=parseInt(o.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return d>h?1:d<h?-1:0}),a=t.querySelectorAll(KT),r=Array.from(a).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(s.concat(r))].filter(o=>Hr(o))},d2=()=>Gl(document.body,Qe.shown)&&!Gl(document.body,Qe["toast-shown"])&&!Gl(document.body,Qe["no-backdrop"]),wg=()=>{const t=Ys();return t?Gl(t,Qe.toast):!1},ZT=()=>{const t=Ys();return t?t.hasAttribute("data-loading"):!1},pi=(t,e)=>{if(t.textContent="",e){const a=new DOMParser().parseFromString(e,"text/html"),r=a.querySelector("head");r&&Array.from(r.childNodes).forEach(c=>{t.appendChild(c)});const o=a.querySelector("body");o&&Array.from(o.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?t.appendChild(c.cloneNode(!0)):t.appendChild(c)})}},Gl=(t,e)=>{if(!e)return!1;const s=e.split(/\s+/);for(let a=0;a<s.length;a++)if(!t.classList.contains(s[a]))return!1;return!0},JT=(t,e)=>{Array.from(t.classList).forEach(s=>{!Object.values(Qe).includes(s)&&!Object.values(B0).includes(s)&&!Object.values(e.showClass||{}).includes(s)&&t.classList.remove(s)})},hi=(t,e,s)=>{if(JT(t,e),!e.customClass)return;const a=e.customClass[s];if(a){if(typeof a!="string"&&!a.forEach){Sr(`Invalid type of customClass.${s}! Expected string or iterable object, got "${typeof a}"`);return}Ws(t,a)}},Ng=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Qe.popup} > .${Qe[e]}`);case"checkbox":return t.querySelector(`.${Qe.popup} > .${Qe.checkbox} input`);case"radio":return t.querySelector(`.${Qe.popup} > .${Qe.radio} input:checked`)||t.querySelector(`.${Qe.popup} > .${Qe.radio} input:first-child`);case"range":return t.querySelector(`.${Qe.popup} > .${Qe.range} input`);default:return t.querySelector(`.${Qe.popup} > .${Qe.input}`)}},N3=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},j3=(t,e,s)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(a=>{Array.isArray(t)?t.forEach(r=>{s?r.classList.add(a):r.classList.remove(a)}):s?t.classList.add(a):t.classList.remove(a)}))},Ws=(t,e)=>{j3(t,e,!0)},Ii=(t,e)=>{j3(t,e,!1)},Gc=(t,e)=>{const s=Array.from(t.children);for(let a=0;a<s.length;a++){const r=s[a];if(r instanceof HTMLElement&&Gl(r,e))return r}},tu=(t,e,s)=>{s===`${parseInt(s)}`&&(s=parseInt(s)),s||parseInt(s)===0?t.style.setProperty(e,typeof s=="number"?`${s}px`:s):t.style.removeProperty(e)},Ta=(t,e="flex")=>{t&&(t.style.display=e)},ur=t=>{t&&(t.style.display="none")},u2=(t,e="block")=>{t&&new MutationObserver(()=>{Em(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Vw=(t,e,s,a)=>{const r=t.querySelector(e);r&&r.style.setProperty(s,a)},Em=(t,e,s="flex")=>{e?Ta(t,s):ur(t)},Hr=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),QT=()=>!Hr(dl())&&!Hr(mu())&&!Hr(Eh()),Xb=t=>t.scrollHeight>t.clientHeight,eM=(t,e)=>{let s=t;for(;s&&s!==e;){if(Xb(s))return!0;s=s.parentElement}return!1},S3=t=>{const e=window.getComputedStyle(t),s=parseFloat(e.getPropertyValue("animation-duration")||"0"),a=parseFloat(e.getPropertyValue("transition-duration")||"0");return s>0||a>0},h2=(t,e=!1)=>{const s=vg();s&&Hr(s)&&(e&&(s.style.transition="none",s.style.width="100%"),setTimeout(()=>{s.style.transition=`width ${t/1e3}s linear`,s.style.width="0%"},10))},tM=()=>{const t=vg();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const s=parseInt(window.getComputedStyle(t).width),a=e/s*100;t.style.width=`${a}%`},sM=()=>typeof window>"u"||typeof document>"u",nM=`
 <div aria-labelledby="${Qe.title}" aria-describedby="${Qe["html-container"]}" class="${Qe.popup}" tabindex="-1">
   <button type="button" class="${Qe.close}"></button>
   <ul class="${Qe["progress-steps"]}"></ul>
   <div class="${Qe.icon}"></div>
   <img class="${Qe.image}" />
   <h2 class="${Qe.title}" id="${Qe.title}"></h2>
   <div class="${Qe["html-container"]}" id="${Qe["html-container"]}"></div>
   <input class="${Qe.input}" id="${Qe.input}" />
   <input type="file" class="${Qe.file}" />
   <div class="${Qe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Qe.select}" id="${Qe.select}"></select>
   <div class="${Qe.radio}"></div>
   <label class="${Qe.checkbox}">
     <input type="checkbox" id="${Qe.checkbox}" />
     <span class="${Qe.label}"></span>
   </label>
   <textarea class="${Qe.textarea}" id="${Qe.textarea}"></textarea>
   <div class="${Qe["validation-message"]}" id="${Qe["validation-message"]}"></div>
   <div class="${Qe.actions}">
     <div class="${Qe.loader}"></div>
     <button type="button" class="${Qe.confirm}"></button>
     <button type="button" class="${Qe.deny}"></button>
     <button type="button" class="${Qe.cancel}"></button>
   </div>
   <div class="${Qe.footer}"></div>
   <div class="${Qe["timer-progress-bar-container"]}">
     <div class="${Qe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),aM=()=>{const t=_r();return t?(t.remove(),Ii([document.documentElement,document.body],[Qe["no-backdrop"],Qe["toast-shown"],Qe["has-column"]]),!0):!1},zd=()=>{Kt.currentInstance.resetValidationMessage()},rM=()=>{const t=Ys(),e=Gc(t,Qe.input),s=Gc(t,Qe.file),a=t.querySelector(`.${Qe.range} input`),r=t.querySelector(`.${Qe.range} output`),o=Gc(t,Qe.select),c=t.querySelector(`.${Qe.checkbox} input`),d=Gc(t,Qe.textarea);e.oninput=zd,s.onchange=zd,o.onchange=zd,c.onchange=zd,d.oninput=zd,a.oninput=()=>{zd(),r.value=a.value},a.onchange=()=>{zd(),r.value=a.value}},iM=t=>typeof t=="string"?document.querySelector(t):t,oM=t=>{const e=Ys();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},lM=t=>{window.getComputedStyle(t).direction==="rtl"&&Ws(_r(),Qe.rtl)},cM=t=>{const e=aM();if(sM()){fu("SweetAlert2 requires document to initialize");return}const s=document.createElement("div");s.className=Qe.container,e&&Ws(s,Qe["no-transition"]),pi(s,nM),s.dataset.swal2Theme=t.theme;const a=iM(t.target);a.appendChild(s),t.topLayer&&(s.setAttribute("popover",""),s.showPopover()),oM(t),lM(a),rM()},f2=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?dM(t,e):t&&pi(e,t)},dM=(t,e)=>{t.jquery?uM(e,t):pi(e,t.toString())},uM=(t,e)=>{if(t.textContent="",0 in e)for(let s=0;s in e;s++)t.appendChild(e[s].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},hM=(t,e)=>{const s=Dm(),a=Lh();!s||!a||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?ur(s):Ta(s),hi(s,e,"actions"),fM(s,a,e),pi(a,e.loaderHtml||""),hi(a,e,"loader"))};function fM(t,e,s){const a=dl(),r=mu(),o=Eh();!a||!r||!o||(nb(a,"confirm",s),nb(r,"deny",s),nb(o,"cancel",s),mM(a,r,o,s),s.reverseButtons&&(s.toast?(t.insertBefore(o,a),t.insertBefore(r,a)):(t.insertBefore(o,e),t.insertBefore(r,e),t.insertBefore(a,e))))}function mM(t,e,s,a){if(!a.buttonsStyling){Ii([t,e,s],Qe.styled);return}Ws([t,e,s],Qe.styled),a.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor),a.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor),a.cancelButtonColor&&s.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor),sb(t),sb(e),sb(s)}function sb(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const s=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${s}`))}function nb(t,e,s){const a=n2(e);Em(t,s[`show${a}Button`],"inline-block"),pi(t,s[`${e}ButtonText`]||""),t.setAttribute("aria-label",s[`${e}ButtonAriaLabel`]||""),t.className=Qe[e],hi(t,s,`${e}Button`)}const pM=(t,e)=>{const s=l2();s&&(pi(s,e.closeButtonHtml||""),hi(s,e,"closeButton"),Em(s,e.showCloseButton),s.setAttribute("aria-label",e.closeButtonAriaLabel||""))},gM=(t,e)=>{const s=_r();s&&(xM(s,e.backdrop),bM(s,e.position),yM(s,e.grow),hi(s,e,"container"))};function xM(t,e){typeof e=="string"?t.style.background=e:e||Ws([document.documentElement,document.body],Qe["no-backdrop"])}function bM(t,e){e&&(e in Qe?Ws(t,Qe[e]):(Sr('The "position" parameter is not valid, defaulting to "center"'),Ws(t,Qe.center)))}function yM(t,e){e&&Ws(t,Qe[`grow-${e}`])}var gn={innerParams:new WeakMap,domCache:new WeakMap};const vM=["input","file","range","select","radio","checkbox","textarea"],wM=(t,e)=>{const s=Ys();if(!s)return;const a=gn.innerParams.get(t),r=!a||e.input!==a.input;vM.forEach(o=>{const c=Gc(s,Qe[o]);c&&(SM(o,e.inputAttributes),c.className=Qe[o],r&&ur(c))}),e.input&&(r&&NM(e),_M(e))},NM=t=>{if(!t.input)return;if(!ta[t.input]){fu(`Unexpected type of input! Expected ${Object.keys(ta).join(" | ")}, got "${t.input}"`);return}const e=_3(t.input);if(!e)return;const s=ta[t.input](e,t);Ta(e),t.inputAutoFocus&&setTimeout(()=>{N3(s)})},jM=t=>{for(let e=0;e<t.attributes.length;e++){const s=t.attributes[e].name;["id","type","value","style"].includes(s)||t.removeAttribute(s)}},SM=(t,e)=>{const s=Ys();if(!s)return;const a=Ng(s,t);if(a){jM(a);for(const r in e)a.setAttribute(r,e[r])}},_M=t=>{if(!t.input)return;const e=_3(t.input);e&&hi(e,t,"input")},m2=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Lm=(t,e,s)=>{if(s.inputLabel){const a=document.createElement("label"),r=Qe["input-label"];a.setAttribute("for",t.id),a.className=r,typeof s.customClass=="object"&&Ws(a,s.customClass.inputLabel),a.innerText=s.inputLabel,e.insertAdjacentElement("beforebegin",a)}},_3=t=>{const e=Ys();if(e)return Gc(e,Qe[t]||Qe.input)},z0=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:r2(e)||Sr(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ta={};ta.text=ta.email=ta.password=ta.number=ta.tel=ta.url=ta.search=ta.date=ta["datetime-local"]=ta.time=ta.week=ta.month=(t,e)=>(z0(t,e.inputValue),Lm(t,t,e),m2(t,e),t.type=e.input,t);ta.file=(t,e)=>(Lm(t,t,e),m2(t,e),t);ta.range=(t,e)=>{const s=t.querySelector("input"),a=t.querySelector("output");return z0(s,e.inputValue),s.type=e.input,z0(a,e.inputValue),Lm(s,t,e),t};ta.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const s=document.createElement("option");pi(s,e.inputPlaceholder),s.value="",s.disabled=!0,s.selected=!0,t.appendChild(s)}return Lm(t,t,e),t};ta.radio=t=>(t.textContent="",t);ta.checkbox=(t,e)=>{const s=Ng(Ys(),"checkbox");s.value="1",s.checked=!!e.inputValue;const a=t.querySelector("span");return pi(a,e.inputPlaceholder||e.inputLabel),s};ta.textarea=(t,e)=>{z0(t,e.inputValue),m2(t,e),Lm(t,t,e);const s=a=>parseInt(window.getComputedStyle(a).marginLeft)+parseInt(window.getComputedStyle(a).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const a=parseInt(window.getComputedStyle(Ys()).width),r=()=>{if(!document.body.contains(t))return;const o=t.offsetWidth+s(t);o>a?Ys().style.width=`${o}px`:tu(Ys(),"width",e.width)};new MutationObserver(r).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const AM=(t,e)=>{const s=i2();s&&(u2(s),hi(s,e,"htmlContainer"),e.html?(f2(e.html,s),Ta(s,"block")):e.text?(s.textContent=e.text,Ta(s,"block")):ur(s),wM(t,e))},CM=(t,e)=>{const s=w3();s&&(u2(s),Em(s,e.footer,"block"),e.footer&&f2(e.footer,s),hi(s,e,"footer"))},kM=(t,e)=>{const s=gn.innerParams.get(t),a=Dh();if(!a)return;if(s&&e.icon===s.icon){$w(a,e),Hw(a,e);return}if(!e.icon&&!e.iconHtml){ur(a);return}if(e.icon&&Object.keys(B0).indexOf(e.icon)===-1){fu(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),ur(a);return}Ta(a),$w(a,e),Hw(a,e),Ws(a,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",A3)},Hw=(t,e)=>{for(const[s,a]of Object.entries(B0))e.icon!==s&&Ii(t,a);Ws(t,e.icon&&B0[e.icon]),LM(t,e),A3(),hi(t,e,"icon")},A3=()=>{const t=Ys();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),s=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<s.length;a++)s[a].style.backgroundColor=e},DM=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,EM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,$w=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let s=t.innerHTML,a="";e.iconHtml?a=Yw(e.iconHtml):e.icon==="success"?(a=DM(e),s=s.replace(/ style=".*?"/g,"")):e.icon==="error"?a=EM:e.icon&&(a=Yw({question:"?",warning:"!",info:"i"}[e.icon])),s.trim()!==a.trim()&&pi(t,a)},LM=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const s of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Vw(t,s,"background-color",e.iconColor);Vw(t,".swal2-success-ring","border-color",e.iconColor)}},Yw=t=>`<div class="${Qe["icon-content"]}">${t}</div>`,TM=(t,e)=>{const s=v3();if(s){if(!e.imageUrl){ur(s);return}Ta(s,""),s.setAttribute("src",e.imageUrl),s.setAttribute("alt",e.imageAlt||""),tu(s,"width",e.imageWidth),tu(s,"height",e.imageHeight),s.className=Qe.image,hi(s,e,"image")}};let p2=!1,C3=0,k3=0,D3=0,E3=0;const MM=t=>{t.addEventListener("mousedown",I0),document.body.addEventListener("mousemove",q0),t.addEventListener("mouseup",U0),t.addEventListener("touchstart",I0),document.body.addEventListener("touchmove",q0),t.addEventListener("touchend",U0)},PM=t=>{t.removeEventListener("mousedown",I0),document.body.removeEventListener("mousemove",q0),t.removeEventListener("mouseup",U0),t.removeEventListener("touchstart",I0),document.body.removeEventListener("touchmove",q0),t.removeEventListener("touchend",U0)},I0=t=>{const e=Ys();if(t.target===e||Dh().contains(t.target)){p2=!0;const s=L3(t);C3=s.clientX,k3=s.clientY,D3=parseInt(e.style.insetInlineStart)||0,E3=parseInt(e.style.insetBlockStart)||0,Ws(e,"swal2-dragging")}},q0=t=>{const e=Ys();if(p2){let{clientX:s,clientY:a}=L3(t);e.style.insetInlineStart=`${D3+(s-C3)}px`,e.style.insetBlockStart=`${E3+(a-k3)}px`}},U0=()=>{const t=Ys();p2=!1,Ii(t,"swal2-dragging")},L3=t=>{let e=0,s=0;return t.type.startsWith("mouse")?(e=t.clientX,s=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,s=t.touches[0].clientY),{clientX:e,clientY:s}},OM=(t,e)=>{const s=_r(),a=Ys();if(!(!s||!a)){if(e.toast){tu(s,"width",e.width),a.style.width="100%";const r=Lh();r&&a.insertBefore(r,Dh())}else tu(a,"width",e.width);tu(a,"padding",e.padding),e.color&&(a.style.color=e.color),e.background&&(a.style.background=e.background),ur(yg()),RM(a,e),e.draggable&&!e.toast?(Ws(a,Qe.draggable),MM(a)):(Ii(a,Qe.draggable),PM(a))}},RM=(t,e)=>{const s=e.showClass||{};t.className=`${Qe.popup} ${Hr(t)?s.popup:""}`,e.toast?(Ws([document.documentElement,document.body],Qe["toast-shown"]),Ws(t,Qe.toast)):Ws(t,Qe.modal),hi(t,e,"popup"),typeof e.customClass=="string"&&Ws(t,e.customClass),e.icon&&Ws(t,Qe[`icon-${e.icon}`])},FM=(t,e)=>{const s=o2();if(!s)return;const{progressSteps:a,currentProgressStep:r}=e;if(!a||a.length===0||r===void 0){ur(s);return}Ta(s),s.textContent="",r>=a.length&&Sr("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((o,c)=>{const d=BM(o);if(s.appendChild(d),c===r&&Ws(d,Qe["active-progress-step"]),c!==a.length-1){const h=zM(e);s.appendChild(h)}})},BM=t=>{const e=document.createElement("li");return Ws(e,Qe["progress-step"]),pi(e,t),e},zM=t=>{const e=document.createElement("li");return Ws(e,Qe["progress-step-line"]),t.progressStepsDistance&&tu(e,"width",t.progressStepsDistance),e},IM=(t,e)=>{const s=y3();s&&(u2(s),Em(s,e.title||e.titleText,"block"),e.title&&f2(e.title,s),e.titleText&&(s.innerText=e.titleText),hi(s,e,"title"))},T3=(t,e)=>{OM(t,e),gM(t,e),FM(t,e),kM(t,e),TM(t,e),IM(t,e),pM(t,e),AM(t,e),hM(t,e),CM(t,e);const s=Ys();typeof e.didRender=="function"&&s&&e.didRender(s),Kt.eventEmitter.emit("didRender",s)},qM=()=>Hr(Ys()),M3=()=>{var t;return(t=dl())===null||t===void 0?void 0:t.click()},UM=()=>{var t;return(t=mu())===null||t===void 0?void 0:t.click()},VM=()=>{var t;return(t=Eh())===null||t===void 0?void 0:t.click()},Th=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),P3=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},HM=(t,e,s)=>{P3(t),e.toast||(t.keydownHandler=a=>YM(e,a,s),t.keydownTarget=e.keydownListenerCapture?window:Ys(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Kb=(t,e)=>{var s;const a=c2();if(a.length){t=t+e,t===-2&&(t=a.length-1),t===a.length?t=0:t===-1&&(t=a.length-1),a[t].focus();return}(s=Ys())===null||s===void 0||s.focus()},O3=["ArrowRight","ArrowDown"],$M=["ArrowLeft","ArrowUp"],YM=(t,e,s)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?WM(e,t):e.key==="Tab"?GM(e):[...O3,...$M].includes(e.key)?XM(e.key):e.key==="Escape"&&KM(e,t,s)))},WM=(t,e)=>{if(!bg(e.allowEnterKey))return;const s=Ng(Ys(),e.input);if(t.target&&s&&t.target instanceof HTMLElement&&t.target.outerHTML===s.outerHTML){if(["textarea","file"].includes(e.input))return;M3(),t.preventDefault()}},GM=t=>{const e=t.target,s=c2();let a=-1;for(let r=0;r<s.length;r++)if(e===s[r]){a=r;break}t.shiftKey?Kb(a,-1):Kb(a,1),t.stopPropagation(),t.preventDefault()},XM=t=>{const e=Dm(),s=dl(),a=mu(),r=Eh();if(!e||!s||!a||!r)return;const o=[s,a,r];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const c=O3.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let h=0;h<e.children.length;h++){if(d=d[c],!d)return;if(d instanceof HTMLButtonElement&&Hr(d))break}d instanceof HTMLButtonElement&&d.focus()}},KM=(t,e,s)=>{t.preventDefault(),bg(e.allowEscapeKey)&&s(Th.esc)};var wh={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ZM=()=>{const t=_r();Array.from(document.body.children).forEach(s=>{s.contains(t)||(s.hasAttribute("aria-hidden")&&s.setAttribute("data-previous-aria-hidden",s.getAttribute("aria-hidden")||""),s.setAttribute("aria-hidden","true"))})},R3=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},F3=typeof window<"u"&&!!window.GestureEvent,JM=()=>{if(F3&&!Gl(document.body,Qe.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ws(document.body,Qe.iosfix),QM()}},QM=()=>{const t=_r();if(!t)return;let e;t.ontouchstart=s=>{e=eP(s)},t.ontouchmove=s=>{e&&(s.preventDefault(),s.stopPropagation())}},eP=t=>{const e=t.target,s=_r(),a=i2();return!s||!a||tP(t)||sP(t)?!1:e===s||!Xb(s)&&e instanceof HTMLElement&&!eM(e,a)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Xb(a)&&a.contains(e))},tP=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",sP=t=>t.touches&&t.touches.length>1,nP=()=>{if(Gl(document.body,Qe.iosfix)){const t=parseInt(document.body.style.top,10);Ii(document.body,Qe.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},aP=()=>{const t=document.createElement("div");t.className=Qe["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let uh=null;const rP=t=>{uh===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(uh=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${uh+aP()}px`)},iP=()=>{uh!==null&&(document.body.style.paddingRight=`${uh}px`,uh=null)};function B3(t,e,s,a){wg()?Ww(t,a):(HT(s).then(()=>Ww(t,a)),P3(Kt)),F3?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),d2()&&(iP(),nP(),R3()),oP()}function oP(){Ii([document.documentElement,document.body],[Qe.shown,Qe["height-auto"],Qe["no-backdrop"],Qe["toast-shown"]])}function Xc(t){t=cP(t);const e=wh.swalPromiseResolve.get(this),s=lP(this);this.isAwaitingPromise?t.isDismissed||(Tm(this),e(t)):s&&e(t)}const lP=t=>{const e=Ys();if(!e)return!1;const s=gn.innerParams.get(t);if(!s||Gl(e,s.hideClass.popup))return!1;Ii(e,s.showClass.popup),Ws(e,s.hideClass.popup);const a=_r();return Ii(a,s.showClass.backdrop),Ws(a,s.hideClass.backdrop),dP(t,e,s),!0};function z3(t){const e=wh.swalPromiseReject.get(this);Tm(this),e&&e(t)}const Tm=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,gn.innerParams.get(t)||t._destroy())},cP=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),dP=(t,e,s)=>{var a;const r=_r(),o=S3(e);typeof s.willClose=="function"&&s.willClose(e),(a=Kt.eventEmitter)===null||a===void 0||a.emit("willClose",e),o?uP(t,e,r,s.returnFocus,s.didClose):B3(t,r,s.returnFocus,s.didClose)},uP=(t,e,s,a,r)=>{Kt.swalCloseEventFinishedCallback=B3.bind(null,t,s,a,r);const o=function(c){if(c.target===e){var d;(d=Kt.swalCloseEventFinishedCallback)===null||d===void 0||d.call(Kt),delete Kt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",o),e.removeEventListener("transitionend",o)}};e.addEventListener("animationend",o),e.addEventListener("transitionend",o)},Ww=(t,e)=>{setTimeout(()=>{var s;typeof e=="function"&&e.bind(t.params)(),(s=Kt.eventEmitter)===null||s===void 0||s.emit("didClose"),t._destroy&&t._destroy()})},Nh=t=>{let e=Ys();if(e||new lt,e=Ys(),!e)return;const s=Lh();wg()?ur(Dh()):hP(e,t),Ta(s),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},hP=(t,e)=>{const s=Dm(),a=Lh();!s||!a||(!e&&Hr(dl())&&(e=dl()),Ta(s),e&&(ur(e),a.setAttribute("data-button-to-replace",e.className),s.insertBefore(a,e)),Ws([t,s],Qe.loading))},fP=(t,e)=>{e.input==="select"||e.input==="radio"?bP(t,e):["text","email","number","tel","textarea"].some(s=>s===e.input)&&(a2(e.inputValue)||r2(e.inputValue))&&(Nh(dl()),yP(t,e))},mP=(t,e)=>{const s=t.getInput();if(!s)return null;switch(e.input){case"checkbox":return pP(s);case"radio":return gP(s);case"file":return xP(s);default:return e.inputAutoTrim?s.value.trim():s.value}},pP=t=>t.checked?1:0,gP=t=>t.checked?t.value:null,xP=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,bP=(t,e)=>{const s=Ys();if(!s)return;const a=r=>{e.input==="select"?vP(s,V0(r),e):e.input==="radio"&&wP(s,V0(r),e)};a2(e.inputOptions)||r2(e.inputOptions)?(Nh(dl()),Cm(e.inputOptions).then(r=>{t.hideLoading(),a(r)})):typeof e.inputOptions=="object"?a(e.inputOptions):fu(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},yP=(t,e)=>{const s=t.getInput();s&&(ur(s),Cm(e.inputValue).then(a=>{s.value=e.input==="number"?`${parseFloat(a)||0}`:`${a}`,Ta(s),s.focus(),t.hideLoading()}).catch(a=>{fu(`Error in inputValue promise: ${a}`),s.value="",Ta(s),s.focus(),t.hideLoading()}))};function vP(t,e,s){const a=Gc(t,Qe.select);if(!a)return;const r=(o,c,d)=>{const h=document.createElement("option");h.value=d,pi(h,c),h.selected=I3(d,s.inputValue),o.appendChild(h)};e.forEach(o=>{const c=o[0],d=o[1];if(Array.isArray(d)){const h=document.createElement("optgroup");h.label=c,h.disabled=!1,a.appendChild(h),d.forEach(f=>r(h,f[1],f[0]))}else r(a,d,c)}),a.focus()}function wP(t,e,s){const a=Gc(t,Qe.radio);if(!a)return;e.forEach(o=>{const c=o[0],d=o[1],h=document.createElement("input"),f=document.createElement("label");h.type="radio",h.name=Qe.radio,h.value=c,I3(c,s.inputValue)&&(h.checked=!0);const p=document.createElement("span");pi(p,d),p.className=Qe.label,f.appendChild(h),f.appendChild(p),a.appendChild(f)});const r=a.querySelectorAll("input");r.length&&r[0].focus()}const V0=t=>{const e=[];return t instanceof Map?t.forEach((s,a)=>{let r=s;typeof r=="object"&&(r=V0(r)),e.push([a,r])}):Object.keys(t).forEach(s=>{let a=t[s];typeof a=="object"&&(a=V0(a)),e.push([s,a])}),e},I3=(t,e)=>!!e&&e.toString()===t.toString(),NP=t=>{const e=gn.innerParams.get(t);t.disableButtons(),e.input?q3(t,"confirm"):x2(t,!0)},jP=t=>{const e=gn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?q3(t,"deny"):g2(t,!1)},SP=(t,e)=>{t.disableButtons(),e(Th.cancel)},q3=(t,e)=>{const s=gn.innerParams.get(t);if(!s.input){fu(`The "input" parameter is needed to be set when using returnInputValueOn${n2(e)}`);return}const a=t.getInput(),r=mP(t,s);s.inputValidator?_P(t,r,e):a&&!a.checkValidity()?(t.enableButtons(),t.showValidationMessage(s.validationMessage||a.validationMessage)):e==="deny"?g2(t,r):x2(t,r)},_P=(t,e,s)=>{const a=gn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Cm(a.inputValidator(e,a.validationMessage))).then(o=>{t.enableButtons(),t.enableInput(),o?t.showValidationMessage(o):s==="deny"?g2(t,e):x2(t,e)})},g2=(t,e)=>{const s=gn.innerParams.get(t||void 0);s.showLoaderOnDeny&&Nh(mu()),s.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Cm(s.preDeny(e,s.validationMessage))).then(r=>{r===!1?(t.hideLoading(),Tm(t)):t.close({isDenied:!0,value:typeof r>"u"?e:r})}).catch(r=>U3(t||void 0,r))):t.close({isDenied:!0,value:e})},Gw=(t,e)=>{t.close({isConfirmed:!0,value:e})},U3=(t,e)=>{t.rejectPromise(e)},x2=(t,e)=>{const s=gn.innerParams.get(t||void 0);s.showLoaderOnConfirm&&Nh(),s.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Cm(s.preConfirm(e,s.validationMessage))).then(r=>{Hr(yg())||r===!1?(t.hideLoading(),Tm(t)):Gw(t,typeof r>"u"?e:r)}).catch(r=>U3(t||void 0,r))):Gw(t,e)};function H0(){const t=gn.innerParams.get(this);if(!t)return;const e=gn.domCache.get(this);ur(e.loader),wg()?t.icon&&Ta(Dh()):AP(e),Ii([e.popup,e.actions],Qe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const AP=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ta(e[0],"inline-block"):QT()&&ur(t.actions)};function V3(){const t=gn.innerParams.get(this),e=gn.domCache.get(this);return e?Ng(e.popup,t.input):null}function H3(t,e,s){const a=gn.domCache.get(t);e.forEach(r=>{a[r].disabled=s})}function $3(t,e){const s=Ys();if(!(!s||!t))if(t.type==="radio"){const a=s.querySelectorAll(`[name="${Qe.radio}"]`);for(let r=0;r<a.length;r++)a[r].disabled=e}else t.disabled=e}function Y3(){H3(this,["confirmButton","denyButton","cancelButton"],!1)}function W3(){H3(this,["confirmButton","denyButton","cancelButton"],!0)}function G3(){$3(this.getInput(),!1)}function X3(){$3(this.getInput(),!0)}function K3(t){const e=gn.domCache.get(this),s=gn.innerParams.get(this);pi(e.validationMessage,t),e.validationMessage.className=Qe["validation-message"],s.customClass&&s.customClass.validationMessage&&Ws(e.validationMessage,s.customClass.validationMessage),Ta(e.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",Qe["validation-message"]),N3(a),Ws(a,Qe.inputerror))}function Z3(){const t=gn.domCache.get(this);t.validationMessage&&ur(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Ii(e,Qe.inputerror))}const hh={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},CP=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],kP={allowEnterKey:void 0},DP=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],J3=t=>Object.prototype.hasOwnProperty.call(hh,t),Q3=t=>CP.indexOf(t)!==-1,e6=t=>kP[t],EP=t=>{J3(t)||Sr(`Unknown parameter "${t}"`)},LP=t=>{DP.includes(t)&&Sr(`The parameter "${t}" is incompatible with toasts`)},TP=t=>{const e=e6(t);e&&b3(t,e)},t6=t=>{t.backdrop===!1&&t.allowOutsideClick&&Sr('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Sr(`Invalid theme "${t.theme}"`);for(const e in t)EP(e),t.toast&&LP(e),TP(e)};function s6(t){const e=_r(),s=Ys(),a=gn.innerParams.get(this);if(!s||Gl(s,a.hideClass.popup)){Sr("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=MP(t),o=Object.assign({},a,r);t6(o),e.dataset.swal2Theme=o.theme,T3(this,o),gn.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const MP=t=>{const e={};return Object.keys(t).forEach(s=>{Q3(s)?e[s]=t[s]:Sr(`Invalid parameter to update: ${s}`)}),e};function n6(){const t=gn.domCache.get(this),e=gn.innerParams.get(this);if(!e){a6(this);return}t.popup&&Kt.swalCloseEventFinishedCallback&&(Kt.swalCloseEventFinishedCallback(),delete Kt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Kt.eventEmitter.emit("didDestroy"),PP(this)}const PP=t=>{a6(t),delete t.params,delete Kt.keydownHandler,delete Kt.keydownTarget,delete Kt.currentInstance},a6=t=>{t.isAwaitingPromise?(ab(gn,t),t.isAwaitingPromise=!0):(ab(wh,t),ab(gn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ab=(t,e)=>{for(const s in t)t[s].delete(e)};var OP=Object.freeze({__proto__:null,_destroy:n6,close:Xc,closeModal:Xc,closePopup:Xc,closeToast:Xc,disableButtons:W3,disableInput:X3,disableLoading:H0,enableButtons:Y3,enableInput:G3,getInput:V3,handleAwaitingPromise:Tm,hideLoading:H0,rejectPromise:z3,resetValidationMessage:Z3,showValidationMessage:K3,update:s6});const RP=(t,e,s)=>{t.toast?FP(t,e,s):(zP(e),IP(e),qP(t,e,s))},FP=(t,e,s)=>{e.popup.onclick=()=>{t&&(BP(t)||t.timer||t.input)||s(Th.close)}},BP=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let $0=!1;const zP=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&($0=!0)}}},IP=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(s){t.popup.onmouseup=()=>{},(s.target===t.popup||s.target instanceof HTMLElement&&t.popup.contains(s.target))&&($0=!0)}}},qP=(t,e,s)=>{e.container.onclick=a=>{if($0){$0=!1;return}a.target===e.container&&bg(t.allowOutsideClick)&&s(Th.backdrop)}},UP=t=>typeof t=="object"&&t.jquery,Xw=t=>t instanceof Element||UP(t),VP=t=>{const e={};return typeof t[0]=="object"&&!Xw(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((s,a)=>{const r=t[a];typeof r=="string"||Xw(r)?e[s]=r:r!==void 0&&fu(`Unexpected type of ${s}! Expected "string" or "Element", got ${typeof r}`)}),e};function HP(...t){return new this(...t)}function $P(t){class e extends this{_main(a,r){return super._main(a,Object.assign({},t,r))}}return e}const YP=()=>Kt.timeout&&Kt.timeout.getTimerLeft(),r6=()=>{if(Kt.timeout)return tM(),Kt.timeout.stop()},i6=()=>{if(Kt.timeout){const t=Kt.timeout.start();return h2(t),t}},WP=()=>{const t=Kt.timeout;return t&&(t.running?r6():i6())},GP=t=>{if(Kt.timeout){const e=Kt.timeout.increase(t);return h2(e,!0),e}},XP=()=>!!(Kt.timeout&&Kt.timeout.isRunning());let Kw=!1;const Zb={};function KP(t="data-swal-template"){Zb[t]=this,Kw||(document.body.addEventListener("click",ZP),Kw=!0)}const ZP=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const s in Zb){const a=e.getAttribute(s);if(a){Zb[s].fire({template:a});return}}};class JP{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,s){const a=this._getHandlersByEventName(e);a.includes(s)||a.push(s)}once(e,s){const a=(...r)=>{this.removeListener(e,a),s.apply(this,r)};this.on(e,a)}emit(e,...s){this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,s)}catch(r){console.error(r)}})}removeListener(e,s){const a=this._getHandlersByEventName(e),r=a.indexOf(s);r>-1&&a.splice(r,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Kt.eventEmitter=new JP;const QP=(t,e)=>{Kt.eventEmitter.on(t,e)},eO=(t,e)=>{Kt.eventEmitter.once(t,e)},tO=(t,e)=>{if(!t){Kt.eventEmitter.reset();return}e?Kt.eventEmitter.removeListener(t,e):Kt.eventEmitter.removeAllListeners(t)};var sO=Object.freeze({__proto__:null,argsToParams:VP,bindClickHandler:KP,clickCancel:VM,clickConfirm:M3,clickDeny:UM,enableLoading:Nh,fire:HP,getActions:Dm,getCancelButton:Eh,getCloseButton:l2,getConfirmButton:dl,getContainer:_r,getDenyButton:mu,getFocusableElements:c2,getFooter:w3,getHtmlContainer:i2,getIcon:Dh,getIconContent:GT,getImage:v3,getInputLabel:XT,getLoader:Lh,getPopup:Ys,getProgressSteps:o2,getTimerLeft:YP,getTimerProgressBar:vg,getTitle:y3,getValidationMessage:yg,increaseTimer:GP,isDeprecatedParameter:e6,isLoading:ZT,isTimerRunning:XP,isUpdatableParameter:Q3,isValidParameter:J3,isVisible:qM,mixin:$P,off:tO,on:QP,once:eO,resumeTimer:i6,showLoading:Nh,stopTimer:r6,toggleTimer:WP});class nO{constructor(e,s){this.callback=e,this.remaining=s,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const s=this.running;return s&&this.stop(),this.remaining+=e,s&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const o6=["swal-title","swal-html","swal-footer"],aO=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const s=e.content;return hO(s),Object.assign(rO(s),iO(s),oO(s),lO(s),cO(s),dO(s),uO(s,o6))},rO=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(a=>{du(a,["name","value"]);const r=a.getAttribute("name"),o=a.getAttribute("value");!r||!o||(typeof hh[r]=="boolean"?e[r]=o!=="false":typeof hh[r]=="object"?e[r]=JSON.parse(o):e[r]=o)}),e},iO=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(a=>{const r=a.getAttribute("name"),o=a.getAttribute("value");!r||!o||(e[r]=new Function(`return ${o}`)())}),e},oO=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(a=>{du(a,["type","color","aria-label"]);const r=a.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(e[`${r}ButtonText`]=a.innerHTML,e[`show${n2(r)}Button`]=!0,a.hasAttribute("color")&&(e[`${r}ButtonColor`]=a.getAttribute("color")),a.hasAttribute("aria-label")&&(e[`${r}ButtonAriaLabel`]=a.getAttribute("aria-label")))}),e},lO=t=>{const e={},s=t.querySelector("swal-image");return s&&(du(s,["src","width","height","alt"]),s.hasAttribute("src")&&(e.imageUrl=s.getAttribute("src")||void 0),s.hasAttribute("width")&&(e.imageWidth=s.getAttribute("width")||void 0),s.hasAttribute("height")&&(e.imageHeight=s.getAttribute("height")||void 0),s.hasAttribute("alt")&&(e.imageAlt=s.getAttribute("alt")||void 0)),e},cO=t=>{const e={},s=t.querySelector("swal-icon");return s&&(du(s,["type","color"]),s.hasAttribute("type")&&(e.icon=s.getAttribute("type")),s.hasAttribute("color")&&(e.iconColor=s.getAttribute("color")),e.iconHtml=s.innerHTML),e},dO=t=>{const e={},s=t.querySelector("swal-input");s&&(du(s,["type","label","placeholder","value"]),e.input=s.getAttribute("type")||"text",s.hasAttribute("label")&&(e.inputLabel=s.getAttribute("label")),s.hasAttribute("placeholder")&&(e.inputPlaceholder=s.getAttribute("placeholder")),s.hasAttribute("value")&&(e.inputValue=s.getAttribute("value")));const a=Array.from(t.querySelectorAll("swal-input-option"));return a.length&&(e.inputOptions={},a.forEach(r=>{du(r,["value"]);const o=r.getAttribute("value");if(!o)return;const c=r.innerHTML;e.inputOptions[o]=c})),e},uO=(t,e)=>{const s={};for(const a in e){const r=e[a],o=t.querySelector(r);o&&(du(o,[]),s[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return s},hO=t=>{const e=o6.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(s=>{const a=s.tagName.toLowerCase();e.includes(a)||Sr(`Unrecognized element <${a}>`)})},du=(t,e)=>{Array.from(t.attributes).forEach(s=>{e.indexOf(s.name)===-1&&Sr([`Unrecognized attribute "${s.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},l6=10,fO=t=>{const e=_r(),s=Ys();typeof t.willOpen=="function"&&t.willOpen(s),Kt.eventEmitter.emit("willOpen",s);const r=window.getComputedStyle(document.body).overflowY;gO(e,s,t),setTimeout(()=>{mO(e,s)},l6),d2()&&(pO(e,t.scrollbarPadding,r),ZM()),!wg()&&!Kt.previousActiveElement&&(Kt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(s)),Kt.eventEmitter.emit("didOpen",s),Ii(e,Qe["no-transition"])},Y0=t=>{const e=Ys();if(t.target!==e)return;const s=_r();e.removeEventListener("animationend",Y0),e.removeEventListener("transitionend",Y0),s.style.overflowY="auto"},mO=(t,e)=>{S3(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Y0),e.addEventListener("transitionend",Y0)):t.style.overflowY="auto"},pO=(t,e,s)=>{JM(),e&&s!=="hidden"&&rP(s),setTimeout(()=>{t.scrollTop=0})},gO=(t,e,s)=>{Ws(t,s.showClass.backdrop),s.animation?(e.style.setProperty("opacity","0","important"),Ta(e,"grid"),setTimeout(()=>{Ws(e,s.showClass.popup),e.style.removeProperty("opacity")},l6)):Ta(e,"grid"),Ws([document.documentElement,document.body],Qe.shown),s.heightAuto&&s.backdrop&&!s.toast&&Ws([document.documentElement,document.body],Qe["height-auto"])};var Zw={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function xO(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Zw.email),t.input==="url"&&(t.inputValidator=Zw.url))}function bO(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Sr('Target parameter is not valid, defaulting to "body"'),t.target="body")}function yO(t){xO(t),t.showLoaderOnConfirm&&!t.preConfirm&&Sr(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bO(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),cM(t)}let nl;var Xp=new WeakMap;class oa{constructor(...e){if(IT(this,Xp,void 0),typeof window>"u")return;nl=this;const s=Object.freeze(this.constructor.argsToParams(e));this.params=s,this.isAwaitingPromise=!1,qT(Xp,this,this._main(nl.params))}_main(e,s={}){if(t6(Object.assign({},s,e)),Kt.currentInstance){const o=wh.swalPromiseResolve.get(Kt.currentInstance),{isAwaitingPromise:c}=Kt.currentInstance;Kt.currentInstance._destroy(),c||o({isDismissed:!0}),d2()&&R3()}Kt.currentInstance=nl;const a=wO(e,s);yO(a),Object.freeze(a),Kt.timeout&&(Kt.timeout.stop(),delete Kt.timeout),clearTimeout(Kt.restoreFocusTimeout);const r=NO(nl);return T3(nl,a),gn.innerParams.set(nl,a),vO(nl,r,a)}then(e){return qw(Xp,this).then(e)}finally(e){return qw(Xp,this).finally(e)}}const vO=(t,e,s)=>new Promise((a,r)=>{const o=c=>{t.close({isDismissed:!0,dismiss:c})};wh.swalPromiseResolve.set(t,a),wh.swalPromiseReject.set(t,r),e.confirmButton.onclick=()=>{NP(t)},e.denyButton.onclick=()=>{jP(t)},e.cancelButton.onclick=()=>{SP(t,o)},e.closeButton.onclick=()=>{o(Th.close)},RP(s,e,o),HM(Kt,s,o),fP(t,s),fO(s),jO(Kt,s,o),SO(e,s),setTimeout(()=>{e.container.scrollTop=0})}),wO=(t,e)=>{const s=aO(t),a=Object.assign({},hh,e,s,t);return a.showClass=Object.assign({},hh.showClass,a.showClass),a.hideClass=Object.assign({},hh.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},NO=t=>{const e={popup:Ys(),container:_r(),actions:Dm(),confirmButton:dl(),denyButton:mu(),cancelButton:Eh(),loader:Lh(),closeButton:l2(),validationMessage:yg(),progressSteps:o2()};return gn.domCache.set(t,e),e},jO=(t,e,s)=>{const a=vg();ur(a),e.timer&&(t.timeout=new nO(()=>{s("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Ta(a),hi(a,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&h2(e.timer)})))},SO=(t,e)=>{if(!e.toast){if(!bg(e.allowEnterKey)){b3("allowEnterKey"),CO();return}_O(t)||AO(t,e)||Kb(-1,1)}},_O=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const s of e)if(s instanceof HTMLElement&&Hr(s))return s.focus(),!0;return!1},AO=(t,e)=>e.focusDeny&&Hr(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Hr(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Hr(t.confirmButton)?(t.confirmButton.focus(),!0):!1,CO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const s=document.createElement("audio");s.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",s.loop=!0,document.body.appendChild(s),setTimeout(()=>{s.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}oa.prototype.disableButtons=W3;oa.prototype.enableButtons=Y3;oa.prototype.getInput=V3;oa.prototype.disableInput=X3;oa.prototype.enableInput=G3;oa.prototype.hideLoading=H0;oa.prototype.disableLoading=H0;oa.prototype.showValidationMessage=K3;oa.prototype.resetValidationMessage=Z3;oa.prototype.close=Xc;oa.prototype.closePopup=Xc;oa.prototype.closeModal=Xc;oa.prototype.closeToast=Xc;oa.prototype.rejectPromise=z3;oa.prototype.update=s6;oa.prototype._destroy=n6;Object.assign(oa,sO);Object.keys(OP).forEach(t=>{oa[t]=function(...e){return nl&&nl[t]?nl[t](...e):null}});oa.DismissReason=Th;oa.version="11.22.2";const lt=oa;lt.default=lt;typeof document<"u"&&function(t,e){var s=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=e);else try{s.innerHTML=e}catch{s.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const kO=[{label:"National ID",value:"nid",icon:""},{label:"Passport",value:"passport",icon:""},{label:"Profile Photo",value:"photo",icon:""},{label:"Resume",value:"resume",icon:""},{label:"Educational Certificates",value:"education",icon:""},{label:"Experience Letters",value:"experience",icon:""},{label:"Other Documents",value:"other",icon:""}],DO=({onNext:t,onPrevious:e,onSubmit:s,activeCategory:a})=>{const{formData:r,addDocuments:o,removeDocument:c,updateDocumentType:d}=hu(),[h,f]=P.useState(!1),[p,x]=P.useState({}),[v,y]=P.useState(!1),N=D=>{const L=Array.from(D.target.files);L.length!==0&&o(L)},_=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?y(!0):D.type==="dragleave"&&y(!1)},k=D=>{if(D.preventDefault(),D.stopPropagation(),y(!1),D.dataTransfer.files&&D.dataTransfer.files[0]){const L=Array.from(D.dataTransfer.files);o(L)}},C=(D,L)=>{d(D,L)};return n.jsx("div",{className:"min-h-screen bg-via-white p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full mb-4 shadow-lg",children:n.jsx(ed,{className:"w-8 h-8 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Employee Document Upload"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Securely upload and manage your important documents"})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl p-8 text-center transition-all duration-300 ${v?"border-indigo-500 bg-indigo-50 scale-105":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}`,onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:k,children:[n.jsx("input",{type:"file",multiple:!0,onChange:N,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:h}),n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg",children:n.jsx(ed,{className:"w-10 h-10 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Drop files here or click to browse"}),n.jsx("p",{className:"text-gray-500",children:"Support for multiple file types  Maximum 10MB per file"})]}),n.jsx("button",{type:"button",className:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow-lg",disabled:h,children:"Choose Files"})]})]})}),r.documents.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(c5,{className:"w-6 h-6 text-indigo-600 mr-3"}),n.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Documents Ready for Upload (",r.documents.length,")"]})]}),n.jsx("div",{className:"space-y-4",children:r.documents.map((D,L)=>n.jsx("div",{className:"group relative bg-gradient-to-r from-gray-50 to-white rounded-xl p-4 border border-gray-200 hover:shadow-md transition-all duration-200 hover:border-indigo-300",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:D.preview?n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:D.preview,alt:"preview",className:"w-16 h-16 object-cover rounded-lg border-2 border-gray-200 shadow-sm"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(AC,{className:"w-2 h-2 text-white"})})]}):n.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-lg border-2 border-gray-200 flex flex-col items-center justify-center text-indigo-600 shadow-sm",children:[n.jsx(c5,{className:"w-6 h-6 mb-1"}),n.jsx("span",{className:"text-xs font-medium",children:D.file.name.split(".").pop().toUpperCase()})]})}),n.jsxs("div",{className:"flex-grow min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800 truncate",children:D.name}),n.jsx("p",{className:"text-sm text-gray-500",children:D.size})]}),n.jsx("button",{onClick:()=>c(L),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-all duration-200",disabled:h,children:n.jsx(As,{className:"w-5 h-5"})})]}),n.jsx("div",{className:"mb-3",children:n.jsxs("select",{value:D.type,onChange:$=>C(L,$.target.value),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200",disabled:D.status==="uploaded",children:[n.jsx("option",{value:"",children:"Select Document Type"}),kO.map($=>n.jsxs("option",{value:$.value,children:[$.icon," ",$.label]},$.value))]})}),p[L]!==void 0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"Uploading..."}),n.jsxs("span",{className:"text-sm text-gray-500",children:[p[L],"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${p[L]}%`}})})]}),D.status==="uploaded"&&n.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[n.jsx(po,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-medium",children:"Uploaded successfully"})]}),!D.type&&D.status!=="uploaded"&&n.jsxs("div",{className:"flex items-center space-x-2 text-amber-600",children:[n.jsx(zr,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Please select document type"})]})]})]})},L))})]}),n.jsxs("div",{className:"mt-8 flex justify-between",children:[n.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center px-8 py-3 rounded-xl font-medium text-white transition-all duration-200 transform bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 hover:scale-105 shadow-lg hover:shadow-xl",children:"Previous"}),n.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center px-8 py-3 rounded-xl font-medium text-white transition-all duration-200 transform bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 hover:scale-105 shadow-lg hover:shadow-xl",children:"Next"})]})]})})},EO=({onPrevious:t,onSubmit:e})=>{const{formData:s,errors:a,clearForm:r}=hu(),[o,c]=P.useState(!1),d=y=>!y||y==="1/1/1900"?"Not specified":new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=y=>y?"Yes":"No",f=y=>({probationPeriod:"Probation Period",trainingPeriod:"Training Period",contractPeriod:"Contract Period",Active:"Active",Inactive:"Inactive"})[y]||y,p=async()=>{c(!0);try{await e(s)}finally{c(!1)}},x=()=>{r(),lt.fire({icon:"success",title:"Success!",text:"Employee Form Cleared successfully!"})},v=()=>{if(!a)return null;const y=(_,k="")=>Object.entries(_).reduce((C,[D,L])=>{const $=k?`${k}.${D}`:D;return typeof L=="object"&&L!==null?[...C,...y(L,$)]:[...C,{field:$,message:L}]},[]),N=y(a);return N.length===0?null:n.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(zr,{className:"w-5 h-5 text-red-500 mr-2"}),n.jsx("h3",{className:"text-lg font-medium text-red-800",children:"There were errors with your submission"})]}),n.jsx("div",{className:"mt-2 text-sm text-red-700",children:n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:N.map((_,k)=>n.jsxs("li",{children:[n.jsxs("span",{className:"font-medium",children:[_.field.split(".").pop(),":"]})," ",_.message]},k))})})]})};return n.jsxs("div",{className:"min-h-screen bg-gray-100",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"rounded-4xl",children:s.personal.profilePicturePreview?n.jsx("img",{src:s.personal.profilePicturePreview,alt:"Profile",className:"w-16 h-16 rounded-full object-cover"}):n.jsx(vr,{className:"w-16 h-16"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Employee Information"}),n.jsx("p",{className:"text-blue-100 mt-1",children:"Complete employee profile and details"})]})]})})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v(),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:n.jsx(vr,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Personal Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Title"}),n.jsx("p",{className:"text-gray-800 font-medium mt-1",children:s.personal.title||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Attendance Employee No"}),n.jsx("p",{className:"text-gray-800 font-medium mt-1",children:s.personal.attendanceEmpNo||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"EPF No"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.epfNo||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"NIC Number"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.nicNumber||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Date of Birth"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.personal.dob)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Gender"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.gender||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Religion"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.religion||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Country of Birth"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.countryOfBirth||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name with Initial"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.nameWithInitial||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Full Name"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.fullName||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Marital Status"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.maritalStatus||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Employment Status"}),n.jsx("p",{className:"text-gray-800 mt-1",children:f(s.personal.employmentStatus)||"Not specified"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:n.jsx(My,{className:"w-5 h-5 text-red-500"})}),n.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Family Information (",s.personal.relationshipType||"Not specified",")"]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse Name"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.spouseName||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse NIC"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.spouseNic||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse Age"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.personal.spouseAge||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Spouse Date of Birth"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.personal.spouseDob)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Children"}),s.personal.children&&s.personal.children.length>0&&s.personal.children[0].name?n.jsx("div",{className:"mt-2 space-y-2",children:s.personal.children.map((y,N)=>n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("p",{className:"font-medium text-gray-800",children:y.name||"No name specified"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Age: ",y.age||"Not specified"]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["DOB: ",d(y.dob)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["NIC: ",y.nic||"Not specified"]})]})]},N))}):n.jsx("p",{className:"text-gray-500 mt-1",children:"No children specified"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:n.jsx(Hc,{className:"w-5 h-5 text-green-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Contact Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Mobile Number"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.mobileLine||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Landline"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.landLine||"Not specified"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Email Address"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.email||"Not specified"})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[n.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Emergency Contact"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Name"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.emergencyContact.contactName||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Relationship"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.emergencyContact.relationship||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contact Number"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.emergencyContact.contactTel||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Address"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.emergencyContact.contactAddress||"Not specified"})]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:n.jsx(rg,{className:"w-5 h-5 text-purple-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Address Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Permanent Address"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.permanentAddress||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Temporary Address"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.temporaryAddress||"Not specified"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"GN Division"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.gnDivision||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Police Station"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.policeStation||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"District"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.district||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Province"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.province||"Not specified"})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Electoral Division"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.address.electoralDivision||"Not specified"})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:n.jsx(Gj,{className:"w-5 h-5 text-yellow-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Employment Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Company"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.organization.companyName||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Department"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.organization.departmentName||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Sub Department"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.organization.subDepartmentName||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Designation"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.organization.designationName||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Supervisor"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.organization.currentSupervisor||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Date of Joined"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.dateOfJoined)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Day Off"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.organization.dayOff||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Current Status"}),n.jsx("p",{className:"text-gray-800 mt-1",children:f(s.organization.currentStatus)})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Probation Period"," "]}),n.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${s.organization.probationPeriod?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h(s.organization.probationPeriod)})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Training Period"," "]}),n.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${s.organization.trainingPeriod?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h(s.organization.trainingPeriod)})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Contract Period"," "]}),n.jsx("span",{className:`inline-block px-3 py-1 text-sm font-semibold rounded-full ${s.organization.contractPeriod?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h(s.organization.contractPeriod)})]})]}),s.organization.probationPeriod&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Probation From"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.probationFrom)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Probation To"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.probationTo)})]})]}),s.organization.trainingPeriod&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Training From"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.trainingFrom)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Training To"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.trainingTo)})]})]}),s.organization.contractPeriod&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contract From"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.contractFrom)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Contract To"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.organization.contractTo)})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:n.jsx(Xj,{className:"w-5 h-5 text-indigo-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Compensation & Bank Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Basic Salary"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.basicSalary?`Rs. ${s.compensation.basicSalary}`:"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Increment Value"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.incrementValue?`Rs. ${s.compensation.incrementValue}`:"Not specified"})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Increment Effective From"}),n.jsx("p",{className:"text-gray-800 mt-1",children:d(s.compensation.incrementEffectiveFrom)})]})}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[n.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Bank Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bank Name"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.bankName||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Branch Name"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.branchName||"Not specified"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bank Code"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.bankCode||"Not specified"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Branch Code"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.branchCode||"Not specified"})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Account Number"}),n.jsx("p",{className:"text-gray-800 mt-1",children:s.compensation.bankAccountNo||"Not specified"})]})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[n.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Additional Settings"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Enable EPF/ETF"}),n.jsx("p",{className:"text-gray-800 mt-1",children:h(s.compensation.enableEpfEtf)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"OT Active"}),n.jsx("p",{className:"text-gray-800 mt-1",children:h(s.compensation.otActive)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Primary Employment Basic"}),n.jsx("p",{className:"text-gray-800 mt-1",children:h(s.compensation.primaryEmploymentBasic)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Secondary Employee"}),n.jsx("p",{className:"text-gray-800 mt-1",children:h(s.compensation.secondaryEmp)})]})]})]})]})]})]}),n.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[n.jsxs("button",{onClick:x,className:"px-6 py-3 bg-red-300 hover:bg-red-400 text-gray-800 font-medium rounded-lg transition duration-200 flex items-center space-x-2",children:[n.jsx(lC,{className:"w-5 h-5"}),n.jsx("span",{children:"Clear Form"})]}),s.personal.id?n.jsx("button",{onClick:p,disabled:o,className:`px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200 flex items-center space-x-2 ${o?"opacity-75 cursor-not-allowed":""}`,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Submitting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Oi,{className:"w-5 h-5"}),n.jsx("span",{children:"Confirm & Update"})]})}):n.jsx("button",{onClick:p,disabled:o,className:`px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200 flex items-center space-x-2 ${o?"opacity-75 cursor-not-allowed":""}`,children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Submitting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Oi,{className:"w-5 h-5"}),n.jsx("span",{children:"Confirm & Submit"})]})})]})]})]})},Mf=["personal","address","compensation","organization","documents","confirmation"],LO=()=>n.jsx(IE,{children:n.jsx(TO,{})}),TO=()=>{const[t,e]=P.useState("personal"),s=Mf.indexOf(t),{setFormErrors:a,setIsSubmitting:r,errors:o,clearForm:c}=hu(),d=()=>{s<Mf.length-1&&e(Mf[s+1])},h=()=>{s>0&&e(Mf[s-1])},f=async p=>{var x,v,y;r(!0);try{let N;return(x=p.personal)!=null&&x.id?(N=await Wl.updateEmployee(p.personal.id,p),lt.fire({icon:"success",title:"Success!",text:"Employee updated successfully!"})):(N=await Wl.submitEmployee(p),lt.fire({icon:"success",title:"Success!",text:"Employee submitted successfully!"})),N}catch(N){if(console.error("Update error:",N),(y=(v=N.response)==null?void 0:v.data)!=null&&y.errors){const _={};Object.entries(N.response.data.errors).forEach(([k,C])=>{const D=k.split(".");let L=_;D.forEach(($,W)=>{W===D.length-1?L[$]=C[0]:(L[$]=L[$]||{},L=L[$])})}),a(_),lt.fire({icon:"error",title:"Oops...",text:"Please fix the errors in the form!"})}else lt.fire({icon:"error",title:"Oops...",text:"Error updating employee. Please try again.!"})}finally{r(!1)}};return n.jsxs("div",{children:[n.jsx("div",{className:"flex gap-2 px-4 py-2 border-b border-gray-200 bg-white",children:Mf.map(p=>n.jsx("button",{className:`px-4 py-2 rounded-md text-sm font-medium transition ${t===p?"bg-indigo-600 text-white":"text-indigo-700 hover:bg-indigo-100"}`,onClick:()=>e(p),children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"p-4",children:[t==="personal"&&n.jsx(wT,{onNext:d,activeCategory:t}),t==="address"&&n.jsx(NT,{onNext:d,onPrevious:h,activeCategory:t}),t==="compensation"&&n.jsx(BT,{onNext:d,onPrevious:h,activeCategory:t}),t==="organization"&&n.jsx(FT,{onNext:d,onPrevious:h,activeCategory:t}),t==="documents"&&n.jsx(DO,{onNext:d,onPrevious:h,onSubmit:f,activeCategory:t}),t==="confirmation"&&n.jsx(EO,{onPrevious:h,onSubmit:f,activeCategory:t})]})})]})},MO=()=>{const[t,e]=P.useState(!1),[s,a]=P.useState(1),[r,o]=P.useState(!1),[c,d]=P.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",zipCode:"",country:"",newsletter:!1,notifications:!1,comments:""}),h=()=>{try{const C="__localStorage_test__";return localStorage.setItem(C,C),localStorage.removeItem(C),!0}catch{return!1}};P.useEffect(()=>{if(console.log(" Component mounted, checking for saved data..."),h())try{const C=localStorage.getItem("multiStepFormData"),D=localStorage.getItem("multiStepFormStep"),L=localStorage.getItem("multiStepFormModalOpen");if(console.log(" Raw saved data:",{savedData:C,savedStep:D,savedModalState:L}),C&&C!=="null"){const $=JSON.parse(C);console.log(" Parsed form data:",$),d($)}if(D&&D!=="null"){const $=parseInt(D);console.log(" Restored step:",$),a($)}L==="true"&&(console.log(" Restoring modal open state"),e(!0))}catch(C){console.error(" Error loading data from localStorage:",C)}else console.warn(" localStorage is not available in this environment");o(!0),console.log(" Component loaded")},[]),P.useEffect(()=>{if(r&&h())try{console.log(" Saving data to localStorage...",{formData:c,currentStep:s,isModalOpen:t}),localStorage.setItem("multiStepFormData",JSON.stringify(c)),localStorage.setItem("multiStepFormStep",s.toString()),localStorage.setItem("multiStepFormModalOpen",t.toString()),console.log(" Data saved successfully")}catch(C){console.error(" Error saving data to localStorage:",C)}},[c,s,t,r]);const f=C=>{const{name:D,value:L,type:$,checked:W}=C.target;console.log(" Input changed:",{name:D,value:$==="checkbox"?W:L}),d(le=>({...le,[D]:$==="checkbox"?W:L}))},p=()=>{s<3&&(console.log(" Moving to next step:",s+1),a(s+1))},x=()=>{s>1&&(console.log(" Moving to previous step:",s-1),a(s-1))},v=()=>{if(console.log(" Form submitted:",c),alert("Form submitted successfully! Check console for submitted data."),d({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",zipCode:"",country:"",newsletter:!1,notifications:!1,comments:""}),a(1),e(!1),h())try{localStorage.removeItem("multiStepFormData"),localStorage.removeItem("multiStepFormStep"),localStorage.removeItem("multiStepFormModalOpen"),console.log(" Form data cleared from localStorage")}catch(D){console.error(" Error clearing localStorage:",D)}},y=()=>{console.log(" Closing modal"),e(!1)},N=()=>{console.log(" Opening modal"),e(!0)},_=()=>{if(h()){const C={test:"Hello World",timestamp:Date.now()};localStorage.setItem("test-key",JSON.stringify(C));const D=JSON.parse(localStorage.getItem("test-key"));console.log(" localStorage test:",D),alert("localStorage test successful! Check console."),localStorage.removeItem("test-key")}else alert("localStorage is not available!")},k=()=>{switch(s){case 1:return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:c.firstName,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:c.lastName,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:c.email,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"phone",value:c.phone,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]});case 2:return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address Information"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),n.jsx("input",{type:"text",name:"address",value:c.address,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),n.jsx("input",{type:"text",name:"city",value:c.city,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),n.jsx("input",{type:"text",name:"zipCode",value:c.zipCode,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),n.jsxs("select",{name:"country",value:c.country,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a country"}),n.jsx("option",{value:"US",children:"United States"}),n.jsx("option",{value:"CA",children:"Canada"}),n.jsx("option",{value:"UK",children:"United Kingdom"}),n.jsx("option",{value:"AU",children:"Australia"}),n.jsx("option",{value:"DE",children:"Germany"}),n.jsx("option",{value:"FR",children:"France"}),n.jsx("option",{value:"JP",children:"Japan"}),n.jsx("option",{value:"IN",children:"India"})]})]})]});case 3:return n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Preferences & Comments"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"newsletter",checked:c.newsletter,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Subscribe to newsletter"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"notifications",checked:c.notifications,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Enable email notifications"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Comments"}),n.jsx("textarea",{name:"comments",value:c.comments,onChange:f,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any additional information you'd like to share..."})]})]});default:return null}};return r?n.jsxs("div",{className:"flex gap-2 px-4 py-2 border-b border-gray-200 bg-white",children:[n.jsxs("div",{className:"text-center space-x-4",children:[n.jsx("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg shadow-lg transition-colors duration-200",children:"Open Multi-Step Form"}),n.jsx("button",{onClick:_,className:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg shadow-lg transition-colors duration-200",children:"Test localStorage"})]}),t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Registration Form"}),n.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:""})]}),n.jsxs("div",{className:"px-6 py-4 border-b",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",s," of 3"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(s/3*100),"% Complete"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s/3*100}%`}})})]}),n.jsxs("div",{className:"p-6",children:[k(),n.jsxs("div",{className:"flex justify-between mt-8",children:[n.jsx("button",{type:"button",onClick:x,disabled:s===1,className:`px-4 py-2 rounded-md font-medium ${s===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"} transition-colors duration-200`,children:"Previous"}),s<3?n.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-md font-medium hover:bg-blue-700 transition-colors duration-200",children:"Next"}):n.jsx("button",{type:"button",onClick:v,className:"px-6 py-2 bg-green-600 text-white rounded-md font-medium hover:bg-green-700 transition-colors duration-200",children:"Submit"})]})]})]})}),n.jsxs("div",{className:"fixed bottom-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-sm",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Debug Information:"}),n.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Loaded:"})," ",r?" Yes":" No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Current Step:"})," ",s]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Modal Open:"})," ",t?"Yes":"No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"localStorage:"}),n.jsx("span",{className:h()?"text-green-600":"text-red-600",children:h()?"  Available":"  Not Available"})]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Has Data:"})," ",Object.values(c).some(C=>C!==""&&C!==!1)?" Yes":" No"]})]}),n.jsxs("details",{className:"text-xs mt-2",children:[n.jsx("summary",{className:"cursor-pointer text-gray-700 font-medium",children:"Raw localStorage"}),n.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs font-mono",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Data:"})," ",localStorage.getItem("multiStepFormData")||"null"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Step:"})," ",localStorage.getItem("multiStepFormStep")||"null"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Modal:"})," ",localStorage.getItem("multiStepFormModalOpen")||"null"]})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading form data..."})]})})},Jw=R0.apiBaseUrl,PO=()=>{var G,ce,pe,de,Ne,be,Te,Ge,Ee,ue,gt,ut,Ve,Ze,ct,ve,Ye,ht,pt,St,rt,Dt,fe,nt,Xe,Pt,Nt,ss,Re,qe,He;const[t,e]=P.useState(null),[s,a]=P.useState([]),[r,o]=P.useState(!1),[c,d]=P.useState(!0),[h,f]=P.useState(!1),[p,x]=P.useState(!1),[v,y]=P.useState(null),[N,_]=P.useState(!1),[k,C]=P.useState(""),D=U4(k,500),[L,$]=P.useState(1),[W,le]=P.useState(10),[ee,U]=P.useState(0),oe=async()=>{d(!0);try{const Pe=await Wl.fetchEmployeesForTable(L,W,D);a(Pe.data),U(Pe.total)}catch(Pe){console.error("Error loading data:",Pe)}finally{d(!1),f(!1)}};P.useEffect(()=>{oe()},[L,W,D]);const re=async Pe=>{const yt=await Wl.fetchEmployeeById(Pe);e(yt),o(!0),y(null),_(!1)},O=()=>{o(!1),e(null)},R=Pe=>{Pe<1||Pe>Math.ceil(ee/W)||(f(!0),$(Pe))},[ie,X]=P.useState(!1),se=()=>{X(!0),y(null),_(!1)},z=async Pe=>{x(!0);try{await Wl.deleteEmployeeById(Pe),_(!0),X(!1),o(!1),oe()}catch(yt){y(yt.message||"Failed to delete employee")}finally{x(!1)}},J=()=>{X(!1)},Q=Pe=>{const yt=Pe===1?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200";return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${yt}`,children:Pe===1?"Active":"Inactive"})},xe=Pe=>{const yt=Pe==="PERMANENT"?"bg-blue-100 text-blue-800 border-blue-200":Pe==="Training"?"bg-orange-100 text-orange-800 border-orange-200":"bg-purple-100 text-purple-800 border-purple-200";return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${yt}`,children:Pe})},B=Pe=>{const yt=Pe==="married"?"bg-pink-100 text-pink-800 border-pink-200":"bg-gray-100 text-gray-800 border-gray-200";return n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${yt}`,children:(Pe==null?void 0:Pe.charAt(0).toUpperCase())+(Pe==null?void 0:Pe.slice(1))||"Not specified"})},me=Pe=>Pe?new Date(Pe).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not specified",M=Pe=>{if(!Pe)return"Not specified";const yt=new Date,vt=new Date(Pe);let Mt=yt.getFullYear()-vt.getFullYear();const Zt=yt.getMonth()-vt.getMonth();return(Zt<0||Zt===0&&yt.getDate()<vt.getDate())&&Mt--,`${Mt} years old`},T=Math.ceil(ee/W),q=5;let Y=Math.max(1,L-Math.floor(q/2)),I=Math.min(T,Y+q-1);return I-Y+1<q&&(Y=Math.max(1,I-q+1)),c?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(di,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading Employee Data"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we fetch the records..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Employee Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage and view employee information"})]}),n.jsxs("div",{className:"relative w-full md:w-64",children:[n.jsx("input",{type:"text",placeholder:"Search employees...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:k,onChange:Pe=>{C(Pe.target.value),$(1)}}),n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[n.jsx(vr,{className:"mr-2 h-5 w-5 text-blue-600"}),"Employee List"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee Info"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s&&s.length>0?s.map(Pe=>{var yt,vt,Mt,Zt;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:n.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center overflow-hidden",children:Pe.profile_photo_path?n.jsx("img",{src:`${Jw}/storage/${Pe.profile_photo_path}`,alt:"Profile photo",className:"h-full w-full object-cover"}):n.jsx("span",{className:"text-white font-semibold text-sm",children:((yt=Pe.name_with_initials)==null?void 0:yt.charAt(0))||"?"})})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Pe.full_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Emp No: ",Pe.epf]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900 font-medium",children:Pe.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Pe.attendance_employee_no]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Q(Pe.is_active)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:xe((vt=Pe.employment_type)==null?void 0:vt.name)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:(Mt=Pe.contact_detail)==null?void 0:Mt.email}),n.jsx("div",{className:"text-sm text-gray-500",children:(Zt=Pe.contact_detail)==null?void 0:Zt.mobile_line})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{onClick:()=>re(Pe.id),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200 shadow-sm hover:shadow-md",children:[n.jsx(Qc,{className:"h-4 w-4 mr-2"}),"View Details"]})})]},Pe.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:c?n.jsxs("div",{className:"flex justify-center items-center",children:[n.jsx(di,{className:"h-5 w-5 mr-2 animate-spin"}),"Loading employees..."]}):"No employees found"})})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-0",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:["Showing"," ",n.jsx("span",{className:"font-medium",children:(L-1)*W+1})," ","to"," ",n.jsx("span",{className:"font-medium",children:Math.min(L*W,ee)})," ","of ",n.jsx("span",{className:"font-medium",children:ee})," employees"]}),n.jsxs("select",{className:"text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",value:W,onChange:Pe=>{le(Number(Pe.target.value)),$(1)},disabled:h,children:[n.jsx("option",{value:"5",children:"5 per page"}),n.jsx("option",{value:"10",children:"10 per page"}),n.jsx("option",{value:"20",children:"20 per page"}),n.jsx("option",{value:"50",children:"50 per page"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>R(L-1),disabled:L===1||h,className:`px-3 py-1 rounded-md border flex items-center ${L===1||h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(ng,{className:"h-4 w-4 mr-1"}),"Previous"]}),Y>1&&n.jsx("button",{onClick:()=>R(1),disabled:h,className:`px-3 py-1 rounded-md border ${h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"1"}),Y>2&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),Array.from({length:I-Y+1},(Pe,yt)=>Y+yt).map(Pe=>n.jsx("button",{onClick:()=>R(Pe),disabled:h,className:`px-3 py-1 rounded-md border ${L===Pe?"bg-blue-600 text-white":h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Pe},Pe)),I<T-1&&n.jsx("span",{className:"px-2 text-gray-500",children:"..."}),I<T&&n.jsx("button",{onClick:()=>R(T),disabled:h,className:`px-3 py-1 rounded-md border ${h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:T}),n.jsxs("button",{onClick:()=>R(L+1),disabled:L>=T||h,className:`px-3 py-1 rounded-md border flex items-center ${L>=T||h?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["Next",n.jsx(ru,{className:"h-4 w-4 ml-1"})]})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm  bg-opacity-50  flex items-center justify-center z-40",children:n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex items-center space-x-3",children:[n.jsx(di,{className:"h-6 w-6 text-purple-600 animate-spin"}),n.jsx("span",{children:"Loading employees..."})]})}),r&&t&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm  bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"h-16 w-16 rounded-full bg-white/20 flex items-center justify-center overflow-hidden",children:t.profile_photo_path?n.jsx("img",{src:`${Jw}/storage/${t.profile_photo_path}`,alt:"Profile photo",className:"h-full w-full object-cover"}):n.jsx("span",{className:"text-white font-semibold text-lg",children:((G=t.name_with_initials)==null?void 0:G.charAt(0))||"?"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:t.full_name}),n.jsx("p",{className:"text-blue-100",children:t.title}),n.jsxs("p",{className:"text-blue-200 text-sm",children:[t.display_name," "," ",M(t.dob)]})]})]}),n.jsx("button",{onClick:O,className:"text-white hover:text-gray-200 transition-colors p-2",children:n.jsx(As,{className:"h-6 w-6"})})]})}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(vr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Employee No"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.attendance_employee_no})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Display Name"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.display_name})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Gender"}),n.jsx("p",{className:"text-gray-900 font-semibold capitalize",children:t.gender})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date of Birth"}),n.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[n.jsx(hn,{className:"h-4 w-4 mr-1 text-gray-500"}),me(t.dob)]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Religion"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.religion||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Country of Birth"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.country_of_birth||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"NIC Number"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.nic})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"EPF No"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.epf})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Marital Status"}),n.jsx("div",{className:"mt-2",children:B(t.marital_status)})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(sg,{className:"h-5 w-5 mr-2 text-purple-600"}),"Employment Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Employment Type"}),n.jsx("div",{className:"mt-2",children:xe((ce=t.employment_type)==null?void 0:ce.name)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Company Name"}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-purple-100 text-purple-800 border-purple-200",children:(de=(pe=t.organization_assignment)==null?void 0:pe.company)==null?void 0:de.name})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Department Name"}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-red-100 text-purple-800 border-purple-200",children:(be=(Ne=t.organization_assignment)==null?void 0:Ne.department)==null?void 0:be.name})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Sub Department"}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-green-100 text-purple-800 border-purple-200",children:((Ge=(Te=t.organization_assignment)==null?void 0:Te.sub_department)==null?void 0:Ge.name)||"Not assigned"})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Designation"}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium border bg-yellow-100 text-purple-800 border-purple-200",children:(ue=(Ee=t.organization_assignment)==null?void 0:Ee.designation)==null?void 0:ue.name})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date of Joining"}),n.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[n.jsx(hn,{className:"h-4 w-4 mr-1 text-gray-500"}),me((gt=t.organization_assignment)==null?void 0:gt.date_of_joining)]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Current Supervisor"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((ut=t.organization_assignment)==null?void 0:ut.current_supervisor)||"Not assigned"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Day Off"}),n.jsx("p",{className:"text-gray-900 font-semibold capitalize",children:((Ve=t.organization_assignment)==null?void 0:Ve.day_off)||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Confirmation Date"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:me((Ze=t.organization_assignment)==null?void 0:Ze.confirmation_date)||"Not confirmed"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Status"}),n.jsx("div",{className:"mt-2",children:Q(t.is_active)})]})]})]}),t.organization_assignment&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(jr,{className:"h-5 w-5 mr-2 text-orange-600"}),"Employment Periods"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.organization_assignment.probationary_period===1&&n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[n.jsx("label",{className:"block text-sm font-medium text-yellow-800 mb-2",children:"Probationary Period"}),n.jsxs("p",{className:"text-sm text-yellow-700",children:["From:"," ",me(t.organization_assignment.probationary_period_from)]}),n.jsxs("p",{className:"text-sm text-yellow-700",children:["To:"," ",me(t.organization_assignment.probationary_period_to)]})]}),t.organization_assignment.training_period===1&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-2",children:"Training Period"}),n.jsxs("p",{className:"text-sm text-blue-700",children:["From:"," ",me(t.organization_assignment.training_period_from)]}),n.jsxs("p",{className:"text-sm text-blue-700",children:["To:"," ",me(t.organization_assignment.training_period_to)]})]}),t.organization_assignment.contract_period===1&&n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-2",children:"Contract Period"}),n.jsxs("p",{className:"text-sm text-green-700",children:["From:"," ",me(t.organization_assignment.contract_period_from)]}),n.jsxs("p",{className:"text-sm text-green-700",children:["To:"," ",me(t.organization_assignment.contract_period_to)]})]})]})]}),(t.spouse||((ct=t.children)==null?void 0:ct.length)>0)&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(My,{className:"h-5 w-5 mr-2 text-pink-600"}),"Family Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.spouse&&n.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg border border-pink-200",children:[n.jsx("label",{className:"block text-sm font-medium text-pink-800 mb-2",children:"Spouse Information"}),n.jsxs("p",{className:"text-pink-700 font-semibold",children:[t.spouse.title," ",t.spouse.name]}),n.jsxs("p",{className:"text-sm text-pink-600",children:["Age: ",t.spouse.age," years"]}),n.jsxs("p",{className:"text-sm text-pink-600",children:["DOB: ",me(t.spouse.dob)]}),n.jsxs("p",{className:"text-sm text-pink-600",children:["NIC: ",t.spouse.nic||"Not provided"]})]}),((ve=t.children)==null?void 0:ve.length)>0&&n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsxs("label",{className:"text-sm font-medium text-blue-800 mb-2 flex items-center",children:[n.jsx(Wj,{className:"h-4 w-4 mr-1"}),"Children (",t.children.length,")"]}),n.jsx("div",{className:"space-y-2",children:t.children.map((Pe,yt)=>n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"text-blue-700 font-semibold",children:[yt+1,". ",Pe.name]}),n.jsxs("p",{className:"text-blue-600",children:["Age: ",Pe.age," years  DOB:"," ",me(Pe.dob)]})]},Pe.id))})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(rg,{className:"h-5 w-5 mr-2 text-green-600"}),"Address Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Permanent Address"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((Ye=t.contact_detail)==null?void 0:Ye.permanent_address)||"Not provided"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Temporary Address"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((ht=t.contact_detail)==null?void 0:ht.temporary_address)||"Not provided"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Province"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((pt=t.contact_detail)==null?void 0:pt.province)||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"District"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((St=t.contact_detail)==null?void 0:St.district)||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"GN Division"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((rt=t.contact_detail)==null?void 0:rt.gn_division)||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Police Station"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((Dt=t.contact_detail)==null?void 0:Dt.police_station)||"Not specified"})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Electoral Division"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((fe=t.contact_detail)==null?void 0:fe.electoral_division)||"Not specified"})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Hc,{className:"h-5 w-5 mr-2 text-blue-600"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),n.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[n.jsx(ag,{className:"h-4 w-4 mr-1 text-gray-500"}),((nt=t.contact_detail)==null?void 0:nt.email)||"Not provided"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mobile"}),n.jsxs("p",{className:"text-gray-900 font-semibold flex items-center",children:[n.jsx(Hc,{className:"h-4 w-4 mr-1 text-gray-500"}),((Xe=t.contact_detail)==null?void 0:Xe.mobile_line)||"Not provided"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Land Line"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:((Pt=t.contact_detail)==null?void 0:Pt.land_line)||"Not provided"})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(ig,{className:"h-5 w-5 mr-2 text-red-600"}),"Emergency Contact"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[n.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Name"}),n.jsx("p",{className:"text-red-900 font-semibold",children:((Nt=t.contact_detail)==null?void 0:Nt.emg_name)||"Not specified"})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[n.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Relationship"}),n.jsx("p",{className:"text-red-900 font-semibold",children:((ss=t.contact_detail)==null?void 0:ss.emg_relationship)||"Not specified"})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[n.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Emergency Contact Number"}),n.jsx("p",{className:"text-red-900 font-semibold",children:((Re=t.contact_detail)==null?void 0:Re.emg_tel)||"Not provided"})]}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200 md:col-span-2 lg:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-red-800 mb-1",children:"Emergency Contact Address"}),n.jsx("p",{className:"text-red-900 font-semibold",children:((qe=t.contact_detail)==null?void 0:qe.emg_address)||"Not provided"})]})]})]}),t.compensation&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(wa,{className:"h-5 w-5 mr-2 text-green-600"}),"Compensation Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Basic Salary"}),n.jsxs("p",{className:"text-green-900 font-semibold",children:["Rs. ",t.compensation.basic_salary]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Bank Name"}),n.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.bank_name||"Not specified"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Branch Name"}),n.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.branch_name||"Not specified"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Account Number"}),n.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.bank_account_no||"Not specified"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"EPF/ETF Enabled"}),n.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.enable_epf_etf?"Yes":"No"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"OT Active"}),n.jsx("p",{className:"text-green-900 font-semibold",children:t.compensation.ot_active?"Yes":"No"})]})]})]}),((He=t.organization_assignment)==null?void 0:He.date_of_resigning)&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Va,{className:"h-5 w-5 mr-2 text-gray-600"}),"Additional Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Date of Resignation"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:me(t.organization_assignment.date_of_resigning)})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Resignation Reason"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:t.organization_assignment.resigned_reason||"Not specified"})]})]})]})]}),n.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-lg flex justify-between items-center",children:ie&&n.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[n.jsxs("span",{children:["Are you sure you want to delete"," ",t.full_name,"?"]}),n.jsx("button",{onClick:()=>z(t.id),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm",children:"Confirm"}),n.jsx("button",{onClick:J,className:"px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded-md text-sm",children:"Cancel"})]})}),n.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl",children:n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsxs("button",{onClick:se,className:"flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200",children:[n.jsx(or,{className:"h-4 w-4 mr-2"}),"Delete"]}),n.jsx("button",{onClick:O,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200",children:"Close"})]})})]})})]})})},Qw=async t=>{try{return(await bt.get(`/apiData/departments/${t}`)).data}catch(e){return console.error("Error fetching departments:",e),[]}},OO=async()=>{try{return(await bt.get("/apiData/companies")).data}catch(t){return console.error("Error fetching companies:",t),[]}},eN=async()=>{try{return(await bt.get("/deductions")).data}catch(t){return console.error("Error fetching deductions:",t),[]}},RO=async()=>{try{return(await bt.get("/deduction/by-company-or-department")).data.data}catch(t){return console.error("Error fetching deductions:",t),[]}},FO=async t=>{try{return(await bt.post("/deductions",t)).data}catch(e){throw console.error("Error creating deduction:",e),e}},tN=async(t,e)=>{try{return(await bt.put(`/deductions/${t}`,e)).data}catch(s){throw console.error("Error updating deduction:",s),s}},BO=async t=>{try{return(await bt.delete(`/deductions/${t}`)).data}catch(e){throw console.error("Error deleting deduction:",e),e}},zO=async()=>{try{return await bt.get("/deductions/template/download",{responseType:"blob"})}catch(t){throw console.error("Error downloading template:",t),t}},IO=async t=>{var e;try{const s=new FormData;return s.append("file",t),(await bt.post("/deductions/import",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw console.error("Error importing deductions:",s),((e=s.response)==null?void 0:e.data)||s.message}},qO=()=>{const[t,e]=P.useState([]),[s,a]=P.useState(!0),[r,o]=P.useState(null),[c,d]=P.useState([]),[h,f]=P.useState([]),[p,x]=P.useState(!1),[v,y]=P.useState(!1);new Date().toISOString().split("T")[0];const[N,_]=P.useState({company_id:"",department_id:"",deduction_code:"",deduction_name:"",description:"",amount:"",status:"active",category:"EPF",deduction_type:"fixed",startDate:"",endDate:""}),[k,C]=P.useState(!1),[D,L]=P.useState(!1),[$,W]=P.useState(""),[le,ee]=P.useState("all"),[U,oe]=P.useState(""),[re,O]=P.useState(null),[R,ie]=P.useState(!1),[X,se]=P.useState(!1),[z,J]=P.useState({});P.useEffect(()=>{(async()=>{a(!0);try{const[Te,Ge]=await Promise.all([eN(),OO()]);e(Te),d(Ge),o(null)}catch(Te){o("Failed to load data. Please try again later."),console.error("Error loading initial data:",Te)}finally{a(!1)}})()},[]),P.useEffect(()=>{(async()=>{if(N.company_id){x(!0);try{const Te=await Qw(N.company_id);f(Te)}catch(Te){console.error("Error loading departments:",Te)}finally{x(!1)}}else f([])})()},[N.company_id]);const Q=async be=>{const Te=be.target.files[0];if(Te){y(!0);try{const Ge=await IO(Te);lt.fire({icon:"success",title:"Import Successful",text:Ge.message||"Deductions imported successfully",timer:2e3,showConfirmButton:!1});const Ee=await eN();e(Ee)}catch(Ge){lt.fire({icon:"error",title:"Import Failed",text:Ge.message||"Failed to import deductions"})}finally{y(!1),be.target.value=""}}},xe=async()=>{try{const be=await zO(),Te=window.URL.createObjectURL(new Blob([be.data])),Ge=document.createElement("a");Ge.href=Te,Ge.setAttribute("download","deductions_template.xlsx"),document.body.appendChild(Ge),Ge.click(),Ge.parentNode.removeChild(Ge)}catch(be){console.error("Error downloading template:",be),lt.fire({icon:"error",title:"Download Failed",text:"Failed to download template. Please try again."})}},B=t.filter(be=>{var Ge,Ee,ue,gt,ut,Ve,Ze,ct;const Te=$.toLowerCase();if($==="")return!0;switch(le){case"deduction_code":return(Ge=be.deduction_code)==null?void 0:Ge.toLowerCase().includes(Te);case"deduction_type":return(Ee=be.deduction_type)==null?void 0:Ee.toLowerCase().includes(Te);case"category":return(ue=be.category)==null?void 0:ue.toLowerCase().includes(Te);default:return((gt=be.deduction_code)==null?void 0:gt.toLowerCase().includes(Te))||((ut=be.deduction_name)==null?void 0:ut.toLowerCase().includes(Te))||((Ve=be.deduction_type)==null?void 0:Ve.toLowerCase().includes(Te))||((Ze=be.category)==null?void 0:Ze.toLowerCase().includes(Te))||((ct=be.description)==null?void 0:ct.toLowerCase().includes(Te))}}),me=be=>{const{name:Te,value:Ge,type:Ee,checked:ue}=be.target;_(gt=>({...gt,[Te]:Ee==="checkbox"?ue:Ge})),Te==="company_id"&&_(gt=>({...gt,department_id:""})),Te==="startDate"&&(N.endDate&&Ge>=N.endDate?oe("Start Date must be before End Date."):oe("")),Te==="endDate"&&(Ge<=N.startDate?oe("End Date must be after Start Date."):oe("")),Te==="deduction_type"&&Ge==="fixed"&&_(gt=>({...gt,endDate:""}))},M=()=>{_(be=>({...be,status:be.status==="active"?"inactive":"active"}))},T=()=>{const be={};return N.company_id||(be.company_id="Company is required"),N.department_id||(be.department_id="Department is required"),N.deduction_code||(be.deduction_code="Deduction code is required"),N.deduction_name||(be.deduction_name="Deduction name is required"),(N.amount===""||isNaN(N.amount)||Number(N.amount)<0)&&(be.amount="Amount must be a number and >= 0"),["active","inactive"].includes(N.status)||(be.status="Status must be active or inactive"),["EPF","ETF","Other"].includes(N.category)||(be.category="Category must be EPF, ETF, or Other"),["fixed","variable"].includes(N.deduction_type)||(be.deduction_type="Deduction type must be fixed or variable"),N.startDate||(be.startDate="Start date is required"),N.deduction_type==="variable"&&!N.endDate&&(be.endDate="End date is required for variable deductions"),N.deduction_type==="variable"&&N.startDate&&N.endDate&&N.startDate>=N.endDate&&(be.endDate="End date must be after start date"),!N.id&&t.some(Te=>Te.deduction_code.trim().toLowerCase()===N.deduction_code.trim().toLowerCase())&&(be.deduction_code="Deduction code must be unique"),be},q=async be=>{be.preventDefault(),J({}),oe("");const Te=T();if(Object.keys(Te).length>0){J(Te);return}se(!0);try{const Ge={company_id:parseInt(N.company_id),department_id:parseInt(N.department_id),deduction_code:N.deduction_code,deduction_name:N.deduction_name,description:N.description,amount:parseFloat(N.amount),status:N.status,category:N.category,deduction_type:N.deduction_type,startDate:N.startDate,endDate:N.deduction_type==="variable"?N.endDate:null},Ee=await FO(Ge),ue=c.find(ut=>ut.id===parseInt(N.company_id)),gt=h.find(ut=>ut.id===parseInt(N.department_id));e(ut=>[...ut,{...Ee,company:{id:ue.id,name:ue.name},department:{id:gt.id,name:gt.name},created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]),lt.fire({icon:"success",title:"Success",text:"Deduction created successfully!",timer:2e3,showConfirmButton:!1}),ce(),C(!1)}catch(Ge){Ge.response&&Ge.response.status===422&&Ge.response.data.errors?J(Ge.response.data.errors):lt.fire({icon:"error",title:"Error",text:"Failed to save deduction. Please try again."})}finally{se(!1)}},Y=async be=>{try{x(!0);const Te=be.company.id,Ge=await Qw(Te);f(Ge);const Ee=!["EPF","ETF"].includes(be.category);_({...be,company_id:Te,department_id:be.department.id,category:Ee?"other":be.category,customCategory:Ee?be.category:""}),L(!0)}catch(Te){console.error("Error loading departments for edit:",Te),lt.fire({icon:"error",title:"Error",text:"Failed to load department data. Please try again."})}finally{x(!1)}},I=be=>{O(be),ie(!0)},G=async()=>{try{await BO(re),e(t.filter(be=>be.id!==re)),lt.fire({icon:"success",title:"Deleted!",text:"Deduction has been deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(be){console.error("Error deleting deduction:",be),lt.fire({icon:"error",title:"Error",text:"Failed to delete deduction. Please try again."})}finally{ie(!1),O(null)}},ce=()=>{_({company_id:"",department_id:"",deduction_code:"",deduction_name:"",description:"",amount:"",status:"active",category:"EPF",deduction_type:"fixed",startDate:"",endDate:""}),oe("")},pe=async be=>{const Te=t.find(Ee=>Ee.id===be);if(!Te)return;const Ge=Te.status==="active"?"inactive":"active";try{e(Ee=>Ee.map(ue=>ue.id===be?{...ue,status:Ge,updated_at:new Date().toISOString()}:ue)),await tN(be,{...Te,status:Ge}),lt.fire({icon:"success",title:"Status Updated",text:`Deduction status changed to ${Ge}`,timer:1500,showConfirmButton:!1})}catch(Ee){e(ue=>ue.map(gt=>gt.id===be?{...gt,status:Te.status}:gt)),console.error("Error updating deduction status:",Ee),lt.fire({icon:"error",title:"Error",text:"Failed to update deduction status. Please try again."})}},de=be=>be?new Date(be).toLocaleDateString():"-",Ne=async be=>{be.preventDefault(),J({}),oe("");const Te=T();if(delete Te.deduction_code,Object.keys(Te).length>0){J(Te);return}se(!0);try{const Ge={company_id:parseInt(N.company_id),department_id:parseInt(N.department_id),deduction_name:N.deduction_name,description:N.description,amount:parseFloat(N.amount),status:N.status,category:N.category,deduction_type:N.deduction_type,startDate:N.startDate,endDate:N.deduction_type==="variable"?N.endDate:null},Ee=await tN(N.id,Ge);e(ue=>ue.map(gt=>{var ut,Ve;return gt.id===N.id?{...Ee,company:{id:parseInt(N.company_id),name:(ut=c.find(Ze=>Ze.id==N.company_id))==null?void 0:ut.name},department:{id:parseInt(N.department_id),name:(Ve=h.find(Ze=>Ze.id==N.department_id))==null?void 0:Ve.name},updated_at:new Date().toISOString()}:gt})),lt.fire({icon:"success",title:"Success",text:"Deduction updated successfully!",timer:2e3,showConfirmButton:!1}),L(!1)}catch(Ge){Ge.response&&Ge.response.status===422&&Ge.response.data.errors?J(Ge.response.data.errors):lt.fire({icon:"error",title:"Error",text:"Failed to update deduction. Please try again."})}finally{se(!1)}};return n.jsxs("div",{className:"p-6 bg-white rounded-2xl shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-3 rounded-xl",children:n.jsx(wa,{className:"w-6 h-6 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Deductions Management"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("label",{className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 flex items-center gap-2 shadow-md cursor-pointer",children:[n.jsx(ed,{className:"w-4 h-4"}),n.jsx("span",{children:"Import"}),n.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Q,className:"hidden",disabled:v})]}),n.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 flex items-center gap-2 shadow-md",children:[n.jsx(bh,{className:"w-4 h-4"}),n.jsx("span",{children:"Export Template"})]}),n.jsxs("button",{onClick:()=>{ce(),C(!0)},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center gap-2 shadow-md",children:[n.jsx(Zc,{className:"w-4 h-4"}),n.jsx("span",{children:"Add New"})]})]})]}),n.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-grow",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(ga,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"text",placeholder:"Search deductions...",value:$,onChange:be=>W(be.target.value),className:"block w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("select",{value:le,onChange:be=>ee(be.target.value),className:"bg-white border border-gray-300 text-gray-700 rounded-lg px-4 py-2.5 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"All Fields"}),n.jsx("option",{value:"deduction_code",children:"Deduction Code"}),n.jsx("option",{value:"deduction_type",children:"Deduction Type"}),n.jsx("option",{value:"category",children:"Category"})]})})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Existing Deductions"}),n.jsx("div",{className:"overflow-x-auto",children:s?n.jsx("div",{className:"flex justify-center items-center py-10",children:n.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500"})}):r?n.jsx("div",{className:"text-center py-8 text-red-500",children:r}):n.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg overflow-hidden",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Code"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Department"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Company"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Start Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"End Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:B.length>0?B.map(be=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be.deduction_code}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be.deduction_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be.description||"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be.department.name||"Unknown"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be.company.name||"Unknown"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof be.amount=="number"?be.amount.toFixed(2):be.amount}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be.category==="EPF"?"bg-blue-100 text-blue-800":be.category==="ETF"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:be.category.toUpperCase()})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be.deduction_type==="fixed"?"bg-purple-100 text-purple-800":"bg-pink-100 text-pink-800"}`,children:be.deduction_type==="fixed"?"Fixed":"Variable"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:de(be.startDate)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:be.deduction_type==="fixed"?"-":de(be.endDate)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>pe(be.id),className:"relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{backgroundColor:be.status==="active"?"#3b82f6":"#e5e7eb"},children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${be.status==="active"?"translate-x-5":"translate-x-1"}`})}),n.jsx("span",{className:`ml-2 text-xs font-medium ${be.status==="active"?"text-green-600":"text-red-600"}`,children:be.status==="active"?"Active":"Inactive"})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:[n.jsxs("button",{onClick:()=>Y(be),className:"text-blue-600 hover:text-blue-900 mr-3 flex items-center justify-center",children:[n.jsx(Py,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:"Edit"})]}),n.jsxs("button",{onClick:()=>I(be.id),className:"text-red-600 hover:text-red-900 flex items-center justify-center mt-1",children:[n.jsx(or,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:"Delete"})]})]})]},be.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"11",className:"px-6 py-8 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(ga,{className:"h-12 w-12 text-gray-300 mb-2"}),n.jsx("p",{className:"text-lg font-medium",children:"No deductions found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter to find what you're looking for"})]})})})})]})})]}),(k||D)&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-30 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center sticky top-0 bg-white z-10",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[n.jsx(wa,{className:"w-5 h-5 mr-2 text-orange-500"}),D?"Edit Deduction":"Create New Deduction"]}),n.jsx("button",{onClick:()=>{C(!1),L(!1)},className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:n.jsx(As,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:D?Ne:q,className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Company ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{name:"company_id",value:N.company_id,onChange:me,required:!0,className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",children:[n.jsx("option",{value:"",children:"Select Company"}),c.map(be=>n.jsx("option",{value:be.id,children:be.name},be.id))]}),z.company_id&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.company_id})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Department ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{name:"department_id",value:N.department_id,onChange:me,required:!0,disabled:!N.company_id||p,className:`w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white ${!N.company_id||p?"bg-gray-100 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"",children:"Select Department"}),h.map(be=>n.jsx("option",{value:be.id,children:be.name},be.id))]}),p&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),z.department_id&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.department_id})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Deduction Code"," ",!D&&n.jsx("span",{className:"text-red-500",children:"*"})]}),D?n.jsx("div",{className:"w-full px-3 py-2.5 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:N.deduction_code}):n.jsx("input",{name:"deduction_code",value:N.deduction_code,onChange:me,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., D001, EPF"}),!D&&z.deduction_code&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.deduction_code})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Deduction Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"deduction_name",value:N.deduction_name,onChange:me,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Health Insurance"}),z.deduction_name&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.deduction_name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Amount ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{name:"amount",type:"number",step:"0.01",min:"0",value:N.amount,onChange:me,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., 500.00"}),z.amount&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),n.jsx("textarea",{name:"description",value:N.description||"",onChange:me,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter deduction description",rows:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"category",value:N.category,onChange:me,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",children:[n.jsx("option",{value:"EPF",children:"EPF"}),n.jsx("option",{value:"ETF",children:"ETF"}),n.jsx("option",{value:"Other",children:"Other"})]}),z.category&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.category})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Deduction Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"radio",id:"fixed",name:"deduction_type",value:"fixed",checked:N.deduction_type==="fixed",onChange:me,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"fixed",className:"ml-2 text-sm font-medium text-gray-700",children:"Fixed"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"radio",id:"variable",name:"deduction_type",value:"variable",checked:N.deduction_type==="variable",onChange:me,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"variable",className:"ml-2 text-sm font-medium text-gray-700",children:"Variable"})]})]}),z.deduction_type&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.deduction_type})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Start Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"startDate",value:N.startDate||"",onChange:me,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),z.startDate&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.startDate})]}),N.deduction_type==="variable"&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["End Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",name:"endDate",value:N.endDate||"",onChange:me,required:N.deduction_type==="variable",className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),z.endDate&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:z.endDate})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 bg-white",children:[n.jsx("div",{className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer",style:{backgroundColor:N.status==="active"?"#3b82f6":"#e5e7eb"},onClick:M,children:n.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${N.status==="active"?"translate-x-6":"translate-x-1"}`})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:N.status==="active"?"Active":"Inactive"})]})]})]}),U&&n.jsx("div",{className:"text-red-600 text-sm mt-2",children:U}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-4 border-t pt-4",children:[n.jsxs("button",{type:"button",onClick:()=>{C(!1),L(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex items-center space-x-2",disabled:X,children:[n.jsx(As,{className:"w-4 h-4"}),n.jsx("span",{children:"Cancel"})]}),n.jsx("button",{type:"submit",disabled:X,className:`px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center space-x-2 ${X?"opacity-70 cursor-not-allowed":""}`,children:X?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n.jsx("span",{children:"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Kj,{className:"w-4 h-4"}),n.jsxs("span",{children:[D?"Update":"Save"," Deduction"]})]})})]})]})]})}),R&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-30 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(or,{className:"w-12 h-12 text-red-500 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Confirm Deletion"}),n.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Are you sure you want to delete this deduction? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center space-x-4 w-full",children:[n.jsx("button",{onClick:()=>ie(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 flex-1 max-w-[150px]",children:"Cancel"}),n.jsx("button",{onClick:G,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex-1 max-w-[150px]",children:"Delete"})]})]})})})]})},Gf={getAllShifts:async()=>{try{return(await bt.get("/shifts")).data.data}catch(t){throw console.error("Error fetching shifts:",t),t}},createShift:async t=>{try{return(await bt.post("/shifts",{shift_code:t.code,shift_description:t.description,start_time:t.startTime,end_time:t.endTime,morning_ot_start:t.morningOTStart,special_ot_start:t.specialOTStart,late_deduction:t.lateDeduction,midnight_roster:t.midnightRoster,nopay_hour_halfday:t.nightlyHours,break_time:t.breakTime})).data.data}catch(e){throw console.error("Error creating shift:",e),e}},updateShift:async(t,e)=>{try{return(await bt.put(`/shifts/${t}`,{shift_code:e.code,shift_description:e.description,start_time:e.startTime,end_time:e.endTime,morning_ot_start:e.morningOTStart,special_ot_start:e.specialOTStart,late_deduction:e.lateDeduction,midnight_roster:e.midnightRoster,nopay_hour_halfday:e.nightlyHours,break_time:e.breakTime})).data.data}catch(s){throw console.error("Error updating shift:",s),s}},deleteShift:async t=>{try{return await bt.delete(`/shifts/${t}`),!0}catch(e){throw console.error("Error deleting shift:",e),e}}},UO=({open:t,onClose:e,onSave:s,initialData:a={},isEdit:r=!1,errors:o={}})=>{const[c,d]=P.useState({code:"",description:"",startTime:"",endTime:"",morningOTStart:"",specialOTStart:"",lateDeduction:"",midnightRoster:!1,nightlyHours:0,breakTime:"",...a});Ea.useEffect(()=>{d({...c,...a})},[a,t]);const h=f=>{f.preventDefault(),s(c)};return t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl relative max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Shift":"Add New Shift"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r?"Update shift details":"Create a new shift schedule"})]}),n.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",onClick:e,children:n.jsx(As,{className:"w-5 h-5 text-gray-400"})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Basic Information"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Shift Code *"}),n.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:bg-gray-50 disabled:text-gray-500",placeholder:"Enter shift code",value:c.code,disabled:r,onChange:f=>d({...c,code:f.target.value})}),o.shift_code&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:o.shift_code[0]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description *"}),n.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter shift description",value:c.description,onChange:f=>d({...c,description:f.target.value})}),o.shift_description&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:o.shift_description[0]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Time Settings"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Start Time *"}),n.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",value:c.startTime,onChange:f=>d({...c,startTime:f.target.value})}),o.start_time&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:o.start_time[0]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"End Time *"}),n.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",value:c.endTime,onChange:f=>d({...c,endTime:f.target.value})}),o.end_time&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:o.end_time[0]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Morning OT Start"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",placeholder:"Optional",value:c.morningOTStart,onChange:f=>d({...c,morningOTStart:f.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Special OT Start"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",placeholder:"Optional",value:c.specialOTStart,onChange:f=>d({...c,specialOTStart:f.target.value})})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Additional Settings"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Late Deduction"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"time",placeholder:"HH:MM",value:c.lateDeduction,onChange:f=>d({...c,lateDeduction:f.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nightly Hours"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",type:"number",step:"0.1",placeholder:"Enter hours (e.g., 8.5)",value:c.nightlyHours,onChange:f=>d({...c,nightlyHours:parseFloat(f.target.value)})})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Break Time"}),n.jsx("input",{className:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter break duration (e.g., 12:00-13:00)",value:c.breakTime??"",onChange:f=>d({...c,breakTime:f.target.value})}),o.break_time&&n.jsx("div",{className:"text-xs text-red-600 mt-1",children:o.break_time[0]})]})})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Special Options"]})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-100",children:[n.jsx("button",{type:"button",className:"px-6 py-3 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition-colors duration-200",onClick:e,children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-xl",onClick:h,children:r?"Update Shift":"Create Shift"})]})]})]})}):null},VO=({open:t,onClose:e,onConfirm:s,shift:a})=>t?n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-sm relative",children:[n.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-gray-700",onClick:e,children:n.jsx(As,{})}),n.jsxs("h2",{className:"text-lg font-bold mb-2 text-red-600 flex items-center gap-2",children:[n.jsx(or,{className:"w-5 h-5"})," Delete Shift"]}),n.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete shift"," ",n.jsx("span",{className:"font-bold",children:a==null?void 0:a.code})," -"," ",n.jsx("span",{children:a==null?void 0:a.description}),"?"]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{className:"px-4 py-2 rounded bg-gray-100 text-gray-700",onClick:e,children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 rounded bg-red-600 text-white font-semibold",onClick:s,children:"Delete"})]})]})}):null,HO=()=>{const[t,e]=P.useState(""),[s,a]=P.useState(new Set),[r,o]=P.useState("all"),[c,d]=P.useState([]),[h,f]=P.useState(!0),[p,x]=P.useState(!1),[v,y]=P.useState(null),[N,_]=P.useState(!1),[k,C]=P.useState(null),[D,L]=P.useState({});P.useEffect(()=>{$()},[]);const $=async()=>{try{f(!0);const se=await Gf.getAllShifts();d(se.map(z=>({code:z.shift_code,description:z.shift_description,startTime:z.start_time,endTime:z.end_time,morningOTStart:z.morning_ot_start,specialOTStart:z.special_ot_start,lateDeduction:z.late_deduction,midnightRoster:z.midnight_roster,nightlyHours:parseFloat(z.nopay_hour_halfday),location:z.location,breakTime:z.break_time||"",id:z.id})))}catch(se){console.error("Failed to fetch shifts:",se)}finally{f(!1)}},W=async se=>{var z,J,Q,xe,B;try{const me={...se,breakTime:(z=se.breakTime)!=null&&z.trim()?se.breakTime.trim():null};await Gf.createShift(me),await $(),x(!1),L({}),lt.fire({icon:"success",title:"Shift Created",text:"The shift was created successfully!",timer:2e3,showConfirmButton:!1})}catch(me){(Q=(J=me.response)==null?void 0:J.data)!=null&&Q.errors?L(me.response.data.errors):lt.fire({icon:"error",title:"Error",text:((B=(xe=me==null?void 0:me.response)==null?void 0:xe.data)==null?void 0:B.message)||"Failed to create shift."})}},le=async se=>{var z,J,Q,xe,B;try{const me={...se,breakTime:(z=se.breakTime)!=null&&z.trim()?se.breakTime.trim():null};await Gf.updateShift(se.id,me),await $(),y(null),x(!1),L({}),lt.fire({icon:"success",title:"Shift Updated",text:"The shift was updated successfully!",timer:2e3,showConfirmButton:!1})}catch(me){(Q=(J=me.response)==null?void 0:J.data)!=null&&Q.errors?L(me.response.data.errors):lt.fire({icon:"error",title:"Error",text:((B=(xe=me==null?void 0:me.response)==null?void 0:xe.data)==null?void 0:B.message)||"Failed to update shift."})}},ee=async()=>{var se,z;try{await Gf.deleteShift(k.id),await $(),_(!1),C(null),a(J=>{const Q=new Set(J);return Q.delete(k.code),Q}),lt.fire({icon:"success",title:"Shift Deleted",text:"The shift was deleted successfully!",timer:2e3,showConfirmButton:!1})}catch(J){lt.fire({icon:"error",title:"Error",text:((z=(se=J==null?void 0:J.response)==null?void 0:se.data)==null?void 0:z.message)||"Failed to delete shift."})}},U=c.filter(se=>{const z=se.code.toLowerCase().includes(t.toLowerCase())||se.description.toLowerCase().includes(t.toLowerCase());return r==="all"?z:r==="weekday"?z&&se.description.includes("WD"):r==="weekend"?z&&se.description.includes("WE"):r==="night"?z&&(se.description.includes("Night")||se.midnightRoster):r==="security"?z&&se.department==="Security":r==="production"?z&&se.department==="Production":z}),oe=se=>{const z=new Set(s);z.has(se)?z.delete(se):z.add(se),a(z)},re=se=>se.slice(0,5),O=se=>se.includes("Night")||se.includes("night")?"bg-indigo-100 text-indigo-800 border-indigo-200":se.includes("WE")?"bg-emerald-100 text-emerald-800 border-emerald-200":se.includes("Security")?"bg-red-100 text-red-800 border-red-200":se.includes("Production")?"bg-blue-100 text-blue-800 border-blue-200":se.includes("QC")?"bg-purple-100 text-purple-800 border-purple-200":se.includes("Driver")?"bg-orange-100 text-orange-800 border-orange-200":"bg-slate-100 text-slate-800 border-slate-200",R=se=>({Security:"bg-red-50 text-red-700",Production:"bg-blue-50 text-blue-700",Management:"bg-purple-50 text-purple-700",Administration:"bg-green-50 text-green-700","Quality Control":"bg-yellow-50 text-yellow-700",Transport:"bg-orange-50 text-orange-700",Procurement:"bg-teal-50 text-teal-700",General:"bg-gray-50 text-gray-700"})[se]||"bg-gray-50 text-gray-700",ie=(se,z)=>{const J=new Date(`2000-01-01 ${se}`);let Q=new Date(`2000-01-01 ${z}`);Q<=J&&Q.setDate(Q.getDate()+1);const xe=Q-J,B=Math.floor(xe/(1e3*60*60)),me=Math.floor(xe%(1e3*60*60)/(1e3*60));return`${B}h ${me>0?me+"m":""}`.trim()},X={total:c.length,weekday:c.filter(se=>se.description.includes("WD")).length,weekend:c.filter(se=>se.description.includes("WE")).length,night:c.filter(se=>se.description.includes("Night")||se.midnightRoster).length};return h?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(di,{className:"w-8 h-8 animate-spin text-blue-600"})}):n.jsxs(n.Fragment,{children:[n.jsx(UO,{open:p,onClose:()=>{x(!1),y(null),L({})},onSave:v?le:W,initialData:v||{},isEdit:!!v,errors:D}),n.jsx(VO,{open:N,onClose:()=>_(!1),onConfirm:ee,shift:k}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl",children:n.jsx(hn,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Shift Schedule Manager"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and optimize employee work schedules"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg p-4 border-l-4 border-blue-500 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Shifts"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:X.total})]}),n.jsx(Ha,{className:"w-8 h-8 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 border-l-4 border-green-500 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Weekday"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:X.weekday})]}),n.jsx(jr,{className:"w-8 h-8 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 border-l-4 border-emerald-500 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Weekend"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:X.weekend})]}),n.jsx(o5,{className:"w-8 h-8 text-emerald-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-4 border-l-4 border-indigo-500 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Night Shifts"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:X.night})]}),n.jsx(sk,{className:"w-8 h-8 text-indigo-500"})]})})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search shifts, codes, or departments...",value:t,onChange:se=>e(se.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-gray-50 focus:bg-white"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(_h,{className:"w-5 h-5 text-gray-400"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All",color:"bg-gray-100 text-gray-700 hover:bg-gray-200"},{value:"weekday",label:"Weekday",color:"bg-green-100 text-green-700 hover:bg-green-200"},{value:"weekend",label:"Weekend",color:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"},{value:"night",label:"Night",color:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"},{value:"security",label:"Security",color:"bg-red-100 text-red-700 hover:bg-red-200"},{value:"production",label:"Production",color:"bg-blue-100 text-blue-700 hover:bg-blue-200"}].map(se=>n.jsx("button",{onClick:()=>o(se.value),className:`px-3 py-1.5 text-sm font-medium rounded-full transition-all duration-200 ${r===se.value?"ring-2 ring-blue-500 ring-offset-1 "+se.color:se.color}`,children:se.label},se.value))})]}),n.jsxs("button",{onClick:()=>{y(null),x(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[n.jsx(Zc,{className:"w-4 h-4"})," Add Shift"]}),s.size>0&&n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx(i5,{className:"w-4 h-4 text-blue-600"}),n.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[s.size," selected"]}),n.jsx("button",{onClick:()=>a(new Set),className:"text-xs text-blue-600 hover:text-blue-800 font-medium ml-2",children:"Clear"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-4 text-left",children:n.jsx("input",{type:"checkbox",checked:s.size===U.length&&U.length>0,onChange:se=>{se.target.checked?a(new Set(U.map(z=>z.code))):a(new Set)},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Code"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Shift Details"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Schedule"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Overtime"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Details"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:U.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-4 py-6 text-center text-gray-500",children:"No shifts found matching your criteria"})}):U.map((se,z)=>n.jsxs("tr",{className:`hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 transition-all duration-200 ${s.has(se.code)?"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500":z%2===0?"bg-white":"bg-gray-50/30"}`,children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("input",{type:"checkbox",checked:s.has(se.code),onChange:()=>oe(se.code),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"font-mono text-sm font-bold text-white bg-gradient-to-r from-gray-700 to-gray-800 px-3 py-2 rounded-lg shadow-sm",children:se.code})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:se.description}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${O(se.description)}`,children:se.description.includes("WD")?"Weekday":se.description.includes("WE")?"Weekend":se.description.includes("Night")?"Night":"Regular"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${R(se.department).replace("text-","bg-").replace("-700","-500")}`}),n.jsx("span",{className:"font-medium",children:se.department})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rg,{className:"w-3 h-3"}),n.jsx("span",{children:se.location})]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm font-mono font-semibold text-gray-900",children:re(se.startTime)})]}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jr,{className:"w-4 h-4 text-red-600"}),n.jsx("span",{className:"text-sm font-mono font-semibold text-gray-900",children:re(se.endTime)})]})]}),n.jsx("div",{className:"text-xs text-gray-600",children:n.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium",children:ie(se.startTime,se.endTime)})}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(o5,{className:"w-3 h-3"}),n.jsxs("span",{children:["Break: ",se.breakTime?se.breakTime:""]})," "]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Morning:"}),n.jsx("span",{className:"font-mono font-semibold text-amber-700 bg-amber-50 px-2 py-0.5 rounded",children:se.morningOTStart})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-gray-600",children:"Special:"}),n.jsx("span",{className:"font-mono font-semibold text-purple-700 bg-purple-50 px-2 py-0.5 rounded",children:re(se.specialOTStart)})]}),se.lateDeduction!=="00:00"&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(zr,{className:"w-3 h-3 text-red-500"}),n.jsxs("span",{className:"text-red-600 font-medium",children:["Late: ",se.lateDeduction]})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Night Hours: "}),n.jsxs("span",{className:"font-bold text-indigo-700 bg-indigo-50 px-2 py-1 rounded",children:[se.nightlyHours.toFixed(2),"h"]})]})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex flex-col items-center gap-2",children:se.midnightRoster?n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(i5,{className:"w-5 h-5 text-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-700 bg-green-50 px-2 py-1 rounded-full",children:"Midnight"})]}):n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(nC,{className:"w-5 h-5 text-gray-300"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Regular"})]})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"p-1 rounded hover:bg-blue-100",title:"Edit",onClick:()=>{y(se),x(!0)},children:n.jsx(If,{className:"w-4 h-4 text-blue-600"})}),n.jsx("button",{className:"p-1 rounded hover:bg-red-100",title:"Delete",onClick:()=>{C(se),_(!0)},children:n.jsx(or,{className:"w-4 h-4 text-red-600"})})]})})]},se.code))})]})})}),n.jsx("div",{className:"mt-6 bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{children:["Showing"," ",n.jsx("span",{className:"font-semibold text-gray-900",children:U.length})," ","of"," ",n.jsx("span",{className:"font-semibold text-gray-900",children:c.length})," ","shifts"]}),r!=="all"&&n.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:["Filtered by: ",r]})]}),s.size>0&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-blue-600",children:s.size})," ","shifts selected"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Export Selected"}),n.jsx("button",{onClick:()=>a(new Set),className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"Clear Selection"})]})]})]})})]})},$O=async()=>{try{return(await bt.get("/allowances")).data.data}catch(t){throw console.error("Error fetching allowances:",t),t}},YO=async t=>{var e,s;try{return(await bt.post("/allowances",t)).data.data}catch(a){throw console.error("Error creating allowance:",a),((s=(e=a.response)==null?void 0:e.data)==null?void 0:s.errors)||a.message}},WO=async(t,e)=>{var s,a;try{return(await bt.put(`/allowances/${t}`,e)).data.data}catch(r){throw console.error("Error updating allowance:",r),((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.errors)||r.message}},GO=async t=>{try{await bt.delete(`/allowances/${t}`)}catch(e){throw console.error("Error deleting allowance:",e),e}},XO=async(t,e)=>{try{return(await bt.get("/allowance/by-company-or-department",{params:{companyId:t,departmentId:e}})).data.data}catch(s){throw console.error("Error fetching allowances by company or department:",s),s}},KO=async()=>{try{return await bt.get("/allowances/template/download",{responseType:"blob"})}catch(t){throw console.error("Error downloading template:",t),t}},ZO=async t=>{var e;try{const s=new FormData;return s.append("file",t),(await bt.post("/allowances/import",s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw console.error("Error importing allowances:",s),((e=s.response)==null?void 0:e.data)||s.message}},Vc={getAllAllowances:$O,createAllowance:YO,updateAllowance:WO,deleteAllowance:GO,getAllowancesByCompanyOrDepartment:XO,downloadTemplate:KO,importAllowances:ZO},JO=()=>{const[t,e]=P.useState([]),[s,a]=P.useState([]),[r,o]=P.useState([]),[c,d]=P.useState("all"),[h,f]=P.useState(""),[p,x]=P.useState([]),[v,y]=P.useState(!0),[N,_]=P.useState(null),[k,C]=P.useState(!1),[D,L]=P.useState(!1),[$,W]=P.useState(!1),[le,ee]=P.useState(!1),[U,oe]=P.useState(""),[re,O]=P.useState(null),[R,ie]=P.useState(!1),[X,se]=P.useState(null),[z,J]=P.useState([]),[Q,xe]=P.useState(!1),[B,me]=P.useState({id:null,allowance_code:"",allowance_name:"",company_id:"",amount:"",department_id:"",category:"travel",status:"active",allowance_type:"fixed",fixed_date:"",variable_from:"",variable_to:""}),[M,T]=P.useState({allowance_code:"",allowance_name:"",company_id:"",department_id:"",amount:"",category:"travel",status:"active",allowance_type:"fixed",fixed_date:"",variable_from:"",variable_to:""}),[q,Y]=P.useState({add:{},edit:{}}),I=["travel","bonus","performance","health","other"],G=["active","inactive"],ce=["fixed","variable"],pe=fe=>{if(!fe)return"";const nt=new Date(fe),Xe=nt.getFullYear(),Pt=String(nt.getMonth()+1).padStart(2,"0"),Nt=String(nt.getDate()).padStart(2,"0");return`${Xe}-${Pt}-${Nt}`},de=fe=>{lt.fire({title:"Success!",text:fe,icon:"success",confirmButtonText:"OK",customClass:{confirmButton:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}})},Ne=fe=>{lt.fire({title:"Error!",text:fe,icon:"error",confirmButtonText:"OK",customClass:{confirmButton:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg"}})};P.useEffect(()=>{be()},[]);const be=async()=>{try{y(!0);const[fe,nt,Xe]=await Promise.all([Vc.getAllAllowances(),cu(),F0()]);if(x(fe),e(nt),a(Xe),nt.length>0&&!M.company_id){T(Nt=>({...Nt,company_id:nt[0].id,department_id:""}));const Pt=Xe.filter(Nt=>Nt.company_id===nt[0].id);o(Pt)}c!=="all"&&!nt.some(Pt=>Pt.id==c)&&d("all")}catch(fe){console.error("Fetch error:",fe),_(fe.message||"Failed to fetch data"),Ne(fe.message||"Failed to fetch data")}finally{y(!1)}};P.useEffect(()=>{if(M.company_id){const fe=s.filter(nt=>nt.company_id==M.company_id);o(fe),M.department_id&&!fe.some(nt=>nt.id==M.department_id)&&T(nt=>({...nt,department_id:""}))}},[M.company_id,s]),P.useEffect(()=>{if(B.company_id){const fe=s.filter(nt=>nt.company_id==B.company_id);B.department_id&&!fe.some(nt=>nt.id==B.department_id)&&me(nt=>({...nt,department_id:""}))}},[B.company_id,s]);const Te=p.filter(fe=>{const nt=c==="all"||fe.company_id==c,Xe=h===""||fe.category===h,Pt=fe.allowance_name.toLowerCase().includes(U.toLowerCase())||fe.allowance_code.toLowerCase().includes(U.toLowerCase());return nt&&Xe&&Pt}),Ge=async()=>{xe(!0);try{const fe=await Vc.downloadTemplate(),nt=window.URL.createObjectURL(new Blob([fe.data])),Xe=document.createElement("a");Xe.href=nt,Xe.setAttribute("download","allowances_template.xlsx"),document.body.appendChild(Xe),Xe.click(),Xe.parentNode.removeChild(Xe),de("Template downloaded successfully!")}catch(fe){Ne(fe.message||"Failed to download template")}finally{xe(!1)}},Ee=fe=>{se(fe.target.files[0]),J([])},ue=async()=>{if(!X){Ne("Please select a file to import");return}ie(!0),J([]);try{const fe=await Vc.importAllowances(X);de(fe.message||"Allowances imported successfully!"),ee(!1),se(null),be()}catch(fe){console.error("Import error:",fe);let nt="There were errors in your import file:",Xe=[];if(fe.message.includes("Row")){const Pt=fe.message.split(`
`);Xe=Pt,nt+=`

`+Pt.map(Nt=>` ${Nt}`).join(`
`)}else Xe=[fe.message],nt+=`

 ${fe.message}`;J(Xe),Ne(nt)}finally{ie(!1)}},gt=async()=>{var fe,nt,Xe;ie(!0),Y({...q,add:{}});try{const Pt={};if(M.allowance_code.trim()||(Pt.allowance_code=["Allowance code is required"]),M.allowance_name.trim()||(Pt.allowance_name=["Allowance name is required"]),M.company_id||(Pt.company_id=["Company is required"]),M.department_id||(Pt.department_id=["Department is required"]),M.amount||(Pt.amount=["Amount is required"]),M.allowance_type==="fixed"?M.fixed_date||(Pt.fixed_date=["Fixed date is required"]):(M.variable_from||(Pt.variable_from=["Start date is required"]),M.variable_to||(Pt.variable_to=["End date is required"]),M.variable_from&&M.variable_to&&new Date(M.variable_from)>new Date(M.variable_to)&&(Pt.variable_to=["End date must be after start date"])),Object.keys(Pt).length>0){Y({...q,add:Pt});return}const Nt=await Vc.createAllowance(M),ss=t.find(qe=>qe.id==M.company_id),Re=s.find(qe=>qe.id==M.department_id);x(qe=>[...qe,{...Nt,company:{id:ss.id,name:ss.name},department:{id:Re.id,name:Re.name}}]),T({allowance_code:"",allowance_name:"",company_id:((fe=t[0])==null?void 0:fe.id)||"",department_id:"",category:"travel",status:"active",allowance_type:"fixed",amount:"",fixed_date:"",variable_from:"",variable_to:""}),C(!1),de("Allowance created successfully!")}catch(Pt){console.error("Add error:",Pt),(Xe=(nt=Pt.response)==null?void 0:nt.data)!=null&&Xe.errors?Y({...q,add:Pt.response.data.errors}):Ne(Pt.message||"Failed to create allowance")}finally{ie(!1)}},ut=async()=>{var fe,nt;ie(!0),Y({...q,edit:{}});try{const Xe={};if(B.allowance_code.trim()||(Xe.allowance_code=["Allowance code is required"]),B.allowance_name.trim()||(Xe.allowance_name=["Allowance name is required"]),B.company_id||(Xe.company_id=["Company is required"]),B.department_id||(Xe.department_id=["Department is required"]),B.amount||(Xe.amount=["Amount is required"]),B.allowance_type==="fixed"?B.fixed_date||(Xe.fixed_date=["Fixed date is required"]):(B.variable_from||(Xe.variable_from=["Start date is required"]),B.variable_to||(Xe.variable_to=["End date is required"]),B.variable_from&&B.variable_to&&new Date(B.variable_from)>new Date(B.variable_to)&&(Xe.variable_to=["End date must be after start date"])),Object.keys(Xe).length>0){Y({...q,edit:Xe});return}const Pt=t.find(Re=>Re.id==B.company_id),Nt=s.find(Re=>Re.id==B.department_id),ss=await Vc.updateAllowance(B.id,B);x(Re=>Re.map(qe=>qe.id===B.id?{...ss,company:{id:Pt.id,name:Pt.name},department:{id:Nt.id,name:Nt.name}}:qe)),L(!1),de("Allowance updated successfully!")}catch(Xe){console.error("Update error:",Xe),(nt=(fe=Xe.response)==null?void 0:fe.data)!=null&&nt.errors?Y({...q,edit:Xe.response.data.errors}):Ne(Xe.message||"Failed to update allowance")}finally{ie(!1)}},Ve=async()=>{ie(!0);try{await Vc.deleteAllowance(re.id),x(fe=>fe.filter(nt=>nt.id!==re.id)),W(!1),de("Allowance deleted successfully!")}catch(fe){Ne(fe.message||"Failed to delete allowance")}finally{ie(!1)}},Ze=fe=>{const nt={...fe,department_id:fe.department_id||"",fixed_date:pe(fe.fixed_date),variable_from:pe(fe.variable_from),variable_to:pe(fe.variable_to)};me(nt),L(!0)},ct=fe=>{O(fe),W(!0)},ve=(fe,nt)=>{T(Xe=>({...Xe,[fe]:nt}))},Ye=(fe,nt)=>{me(Xe=>({...Xe,[fe]:nt}))},ht=()=>{var fe;C(!1),T({allowance_code:"",allowance_name:"",company_id:((fe=t[0])==null?void 0:fe.id)||"",department_id:"",amount:"",category:"travel",status:"active",allowance_type:"fixed",fixed_date:"",variable_from:"",variable_to:""}),Y({...q,add:{}})},pt=()=>{var fe;L(!1),me({id:null,allowance_code:"",allowance_name:"",amount:"",company_id:((fe=t[0])==null?void 0:fe.id)||"",department_id:"",category:"travel",status:"active",allowance_type:"fixed",fixed_date:"",variable_from:"",variable_to:""}),Y({...q,edit:{}})},St=()=>{W(!1),O(null)},rt=fe=>fe==="active"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200",Dt=fe=>({travel:n.jsx(VC,{className:"w-4 h-4 text-blue-600"}),bonus:n.jsx(wa,{className:"w-4 h-4 text-yellow-600"}),performance:n.jsx(ek,{className:"w-4 h-4 text-green-600"}),health:n.jsx(My,{className:"w-4 h-4 text-red-600"}),other:n.jsx(rC,{className:"w-4 h-4 text-gray-600"})})[fe]||n.jsx(wa,{className:"w-4 h-4 text-yellow-600"});return v?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsx(di,{className:"animate-spin h-12 w-12 text-blue-500"})}):N?n.jsx("div",{className:"flex justify-center items-center h-screen",children:n.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[n.jsx("strong",{children:"Error: "})," ",N]})}):n.jsxs("div",{className:"p-4 md:p-8",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(ar,{className:"w-6 h-6 text-white"})}),"Allowance Management"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and organize employee allowances"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("button",{onClick:()=>C(!0),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[n.jsx(Zc,{size:20}),n.jsx("span",{className:"font-medium",children:"Add New Allowance"})]}),n.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[n.jsx(ed,{size:20}),n.jsx("span",{className:"font-medium",children:"Import Allowances"})]}),n.jsx("button",{onClick:Ge,disabled:Q,className:"flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-3 rounded-xl hover:from-purple-700 hover:to-purple-800 disabled:from-gray-300 disabled:to-gray-300 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:Q?n.jsxs(n.Fragment,{children:[n.jsx(di,{className:"animate-spin h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Downloading..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(bh,{size:20}),n.jsx("span",{className:"font-medium",children:"Download Template"})]})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Allowances"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.length})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.filter(fe=>fe.status==="active").length})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(Ha,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold text-gray-500",children:p.filter(fe=>fe.status==="inactive").length})]}),n.jsx("div",{className:"p-3 bg-gray-100 rounded-xl",children:n.jsx(Zj,{className:"w-6 h-6 text-gray-500"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:I.length})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(ar,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 mb-8",children:n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search allowances by name or code...",value:U,onChange:fe=>oe(fe.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})})})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company"}),n.jsxs("select",{value:c,onChange:fe=>d(fe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"All Companies"}),t.map(fe=>n.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{value:h,onChange:fe=>f(fe.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Categories"}),I.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))]})]})]}),n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Code"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700",children:"Allowance Name"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Company"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Department"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Category"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"Amount"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Type"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"Fixed Date"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"Start Date"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden sm:table-cell",children:"End Date"}),n.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-700 hidden lg:table-cell",children:"Status"}),n.jsx("th",{className:"text-right py-4 px-6 font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:Te.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"text-center py-12",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:n.jsx(ga,{className:"w-8 h-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No allowances found"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Try adjusting your search criteria"})]})})}):Te.map(fe=>{var nt,Xe;return n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"py-4 px-6",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"w-20 h-20  rounded-xl flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-bold text-sm",children:fe.allowance_code})})})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium text-gray-900",children:fe.allowance_name}),n.jsxs("span",{className:"text-sm text-gray-500 sm:hidden",children:[Dt(fe.category)," ",fe.category.charAt(0).toUpperCase()+fe.category.slice(1)]})]})}),n.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:n.jsxs("div",{className:"flex items-center gap-2",children:[Dt(fe.category),n.jsx("span",{className:"text-gray-700",children:fe.category.charAt(0).toUpperCase()+fe.category.slice(1)})]})}),n.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:((nt=fe.company)==null?void 0:nt.name)||"Unknown Company"}),n.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:((Xe=fe.department)==null?void 0:Xe.name)||"Unknown Department"}),n.jsxs("td",{className:"py-4 px-6 hidden lg:table-cell",children:["LKR ",parseFloat(fe.amount).toFixed(2)]}),n.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${fe.allowance_type==="fixed"?"bg-purple-100 text-purple-800 border-purple-200":"bg-orange-100 text-orange-800 border-orange-200"}`,children:fe.allowance_type})}),n.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:fe.allowance_type==="fixed"?pe(fe.fixed_date):"-"}),n.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:fe.allowance_type==="variable"?pe(fe.variable_from):"-"}),n.jsx("td",{className:"py-4 px-6 hidden sm:table-cell",children:fe.allowance_type==="variable"?pe(fe.variable_to):"-"}),n.jsx("td",{className:"py-4 px-6 hidden lg:table-cell",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${rt(fe.status)}`,children:fe.status.charAt(0).toUpperCase()+fe.status.slice(1)})}),n.jsx("td",{className:"py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>Ze(fe),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit Allowance",children:n.jsx(FC,{size:16})}),n.jsx("button",{onClick:()=>ct(fe),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Allowance",children:n.jsx(or,{size:16})})]})})]},fe.id)})})]})})})]}),k&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Allowance"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Create a new allowance entry"})]}),n.jsx("button",{onClick:ht,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Code"}),n.jsx("input",{type:"text",value:M.allowance_code,onChange:fe=>ve("allowance_code",fe.target.value),className:`w-full px-4 py-3 border ${q.add.allowance_code?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance code"}),q.add.allowance_code&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.allowance_code[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),n.jsx("select",{value:M.status,onChange:fe=>ve("status",fe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:G.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Name *"}),n.jsx("input",{type:"text",value:M.allowance_name,onChange:fe=>ve("allowance_name",fe.target.value),className:`w-full px-4 py-3 border ${q.add.allowance_name?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance name"}),q.add.allowance_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.allowance_name[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),n.jsx("select",{value:M.category,onChange:fe=>ve("category",fe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:I.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Type *"}),n.jsx("select",{value:M.allowance_type,onChange:fe=>ve("allowance_type",fe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:ce.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Configuration *"}),M.allowance_type==="fixed"?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fixed Date"}),n.jsx("input",{type:"date",value:M.fixed_date,onChange:fe=>ve("fixed_date",fe.target.value),className:`w-full px-4 py-3 border ${q.add.fixed_date?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,required:!0}),q.add.fixed_date&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.fixed_date[0]})]}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:M.variable_from,onChange:fe=>ve("variable_from",fe.target.value),className:`w-full px-4 py-3 border ${q.add.variable_from?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,required:!0}),q.add.variable_from&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.variable_from[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:M.variable_to,onChange:fe=>ve("variable_to",fe.target.value),className:`w-full px-4 py-3 border ${q.add.variable_to?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,required:!0,min:M.variable_from}),q.add.variable_to&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.variable_to[0]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount *"}),n.jsx("input",{type:"number",value:M.amount,onChange:fe=>ve("amount",fe.target.value),className:`w-full px-4 py-3 border ${q.add.amount?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance amount"}),q.add.amount&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.amount[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company *"}),n.jsx("select",{value:M.company_id,onChange:fe=>ve("company_id",fe.target.value),className:`w-full px-4 py-3 border ${q.add.company_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:t.map(fe=>n.jsx("option",{value:fe.id,children:fe.name},fe.id))}),q.add.company_id&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.company_id[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Department *"}),n.jsxs("select",{value:M.department_id,onChange:fe=>ve("department_id",fe.target.value),className:`w-full px-4 py-3 border ${q.add.department_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,disabled:!M.company_id||r.length===0,children:[n.jsx("option",{value:"",children:"Select Department"}),r.map(fe=>n.jsx("option",{value:fe.id,children:fe.name},fe.id))]}),q.add.department_id&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.add.department_id[0]}),M.company_id&&r.length===0&&n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No departments available for selected company"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[n.jsx("button",{onClick:ht,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:R,children:"Cancel"}),n.jsx("button",{onClick:gt,disabled:R,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:R?n.jsxs(n.Fragment,{children:[n.jsx(di,{className:"animate-spin h-4 w-4"}),"Processing..."]}):"Add Allowance"})]})]})}),D&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Allowance"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Modify allowance details"})]}),n.jsx("button",{onClick:pt,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Code"}),n.jsx("div",{className:"w-full px-4 py-3 bg-gray-100 rounded-xl",children:B.allowance_code})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),n.jsx("select",{value:B.status,onChange:fe=>Ye("status",fe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:G.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Name *"}),n.jsx("input",{type:"text",value:B.allowance_name,onChange:fe=>Ye("allowance_name",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.allowance_name?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance name"}),q.edit.allowance_name&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.allowance_name[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),n.jsx("select",{value:B.category,onChange:fe=>Ye("category",fe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:I.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowance Type *"}),n.jsx("select",{value:B.allowance_type,onChange:fe=>Ye("allowance_type",fe.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:ce.map(fe=>n.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Configuration *"}),B.allowance_type==="fixed"?n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fixed Date"}),n.jsx("input",{type:"date",value:B.fixed_date||"",onChange:fe=>Ye("fixed_date",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.fixed_date?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,required:!0}),q.edit.fixed_date&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.fixed_date[0]})]}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:B.variable_from||"",onChange:fe=>Ye("variable_from",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.variable_from?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,required:!0}),q.edit.variable_from&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.variable_from[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:B.variable_to||"",onChange:fe=>Ye("variable_to",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.variable_to?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,required:!0,min:B.variable_from}),q.edit.variable_to&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.variable_to[0]})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount *"}),n.jsx("input",{type:"number",value:B.amount,onChange:fe=>Ye("amount",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.amount?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,placeholder:"Enter allowance amount"}),q.edit.amount&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.amount[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company *"}),n.jsx("select",{value:B.company_id,onChange:fe=>Ye("company_id",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.company_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:t.map(fe=>n.jsx("option",{value:fe.id,children:fe.name},fe.id))}),q.edit.company_id&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.company_id[0]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Department *"}),n.jsx("select",{value:B.department_id,onChange:fe=>Ye("department_id",fe.target.value),className:`w-full px-4 py-3 border ${q.edit.department_id?"border-red-500":"border-gray-200"} rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all`,children:s.map(fe=>n.jsx("option",{value:fe.id,children:fe.name},fe.id))}),q.edit.department_id&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:q.edit.department_id[0]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[n.jsx("button",{onClick:pt,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:R,children:"Cancel"}),n.jsx("button",{onClick:ut,disabled:R,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:R?n.jsxs(n.Fragment,{children:[n.jsx(di,{className:"animate-spin h-4 w-4"}),"Processing..."]}):"Update Allowance"})]})]})}),$&&re&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:n.jsxs("div",{className:"p-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(or,{className:"w-8 h-8 text-red-600"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Delete Allowance"}),n.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete the allowance",n.jsxs("span",{className:"font-semibold text-gray-900",children:[" ",'"',re.allowance_name,'"']}),"? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{onClick:St,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:R,children:"Cancel"}),n.jsx("button",{onClick:Ve,disabled:R,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 disabled:from-gray-300 disabled:to-gray-300 transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:R?n.jsxs(n.Fragment,{children:[n.jsx(di,{className:"animate-spin h-4 w-4"}),"Deleting..."]}):"Delete"})]})]})})}),le&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Import Allowances"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Upload an Excel file to import multiple allowances"})]}),n.jsx("button",{onClick:()=>{ee(!1),se(null),J([])},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center",children:[n.jsx(ed,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),n.jsx("p",{className:"text-gray-600 mb-3",children:X?X.name:"Drag and drop your Excel file here or click to browse"}),n.jsx("input",{type:"file",id:"file-upload",accept:".xlsx, .xls",onChange:Ee,className:"hidden"}),n.jsx("label",{htmlFor:"file-upload",className:"inline-flex items-center justify-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 cursor-pointer transition-colors",children:"Browse Files"}),n.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Only Excel files (.xlsx, .xls) are accepted"})]}),z.length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"Import Errors:"}),n.jsx("ul",{className:"text-sm text-red-600 list-disc pl-5 space-y-1",children:z.map((fe,nt)=>n.jsx("li",{children:fe},nt))})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[n.jsx(bh,{className:"w-4 h-4"}),n.jsx("button",{onClick:Ge,className:"text-blue-600 hover:text-blue-800 hover:underline",children:"Download template file"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[n.jsx("button",{onClick:()=>{ee(!1),se(null),J([])},className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",children:"Cancel"}),n.jsx("button",{onClick:ue,disabled:!X||R,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed transition-all font-medium shadow-lg disabled:shadow-none flex items-center gap-2",children:R?n.jsxs(n.Fragment,{children:[n.jsx(di,{className:"animate-spin h-4 w-4"}),"Importing..."]}):"Import Allowances"})]})]})})]})},QO="/loans",eR=async t=>{try{return(await bt.post("/loans",t)).data}catch(e){throw console.error("Error creating loan:",e),e}},tR=async()=>{try{return(await bt.get(QO)).data}catch(t){return console.error("Error fetching loans:",t),[]}},sR=async t=>{try{return(await bt.get(`/loans/employee-by-number/${t}`)).data||""}catch(e){return console.error("Error fetching employee name:",e),""}},nR=()=>{const[t,e]=P.useState(""),[s,a]=P.useState("withInterest"),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState(""),[p,x]=P.useState(""),[v,y]=P.useState(""),[N,_]=P.useState(""),[k,C]=P.useState([]),[D,L]=P.useState(!1),[$,W]=P.useState(""),[le,ee]=P.useState("byAmount"),[U,oe]=P.useState(""),re=Q=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}).format(Q),O=(Q,xe)=>{lt.fire({position:"center",icon:"success",title:Q,text:xe,showConfirmButton:!0,confirmButtonColor:"#3085d6",timer:3e3,customClass:{popup:"rounded-xl shadow-2xl",title:"text-2xl font-bold text-gray-800",confirmButton:"px-6 py-2 rounded-lg font-medium"}})},R=(Q,xe)=>{lt.fire({position:"center",icon:"error",title:Q,text:xe,showConfirmButton:!0,confirmButtonColor:"#d33",customClass:{popup:"rounded-xl shadow-2xl",title:"text-2xl font-bold text-gray-800",confirmButton:"px-6 py-2 rounded-lg font-medium"}})},ie=async()=>{var Q,xe;try{if(!D||k.length===0){R("Calculation Required","Please calculate the loan before saving");return}const B={loan_id:t,employee_id:c,loan_amount:parseFloat(p),interest_rate_per_annum:s==="withInterest"?parseFloat(v):0,installment_amount:parseFloat(N),start_from:h,with_interest:s==="withInterest",installment_count:k.length};await eR(B),O("Loan Saved!","Employee loan has been successfully saved"),X()}catch(B){console.error("Error saving loan:",B),R("Save Failed",((xe=(Q=B.response)==null?void 0:Q.data)==null?void 0:xe.message)||"Failed to save loan. Please try again.")}},X=()=>{o(""),f(""),x(""),y(""),_(""),C([]),L(!1),oe(""),ee("byAmount")};P.useEffect(()=>{if(r&&h){const Q=new Date(h),xe=`${Q.getFullYear()}${String(Q.getMonth()+1).padStart(2,"0")}${String(Q.getDate()).padStart(2,"0")}`,B=Math.floor(1e3+Math.random()*9e3);e(`LN-${r}-${xe}-${B}`)}else e("")},[r,h]),P.useEffect(()=>{(async()=>{if(r){const xe=await sR(r);W(xe.full_name),d(xe.id)}else W(""),d("")})()},[r]);const se=()=>{if(!r||!h||!p||le==="byAmount"&&!N||le==="byCount"&&!U||s==="withInterest"&&!v){R("Missing Information","Please fill all required fields");return}const Q=parseFloat(p),xe=s==="withInterest"?parseFloat(v)/100/12:0;let B,me;if(le==="byCount"){if(B=parseInt(U),s==="withInterest"){const q=xe,Y=q*Math.pow(1+q,B),I=Math.pow(1+q,B)-1;me=Q*(Y/I)}else me=Q/B;_(me.toFixed(2))}else{if(me=parseFloat(N),s==="withInterest"){let q=Q,Y=0;for(;q>0&&Y<1e3;){const I=q*xe,G=me-I;q-=G,Y++}B=Y}else B=Math.ceil(Q/me);oe(B.toString())}const M=[];let T=Q;for(let q=1;q<=B;q++){const Y=T*xe;let I=me-Y;q===B&&I>T&&(I=T),T-=I,T<.01&&(T=0),M.push({no:q,dueDate:z(h,q),days:30,capitalOutstanding:T,capitalRepayment:I,interestPayment:Y,installmentAmount:I+Y,dueBalance:T})}C(M),L(!0),lt.fire({position:"center",icon:"success",title:"Loan Calculated",showConfirmButton:!1,timer:1500})},z=(Q,xe)=>{if(!Q)return"N/A";const B=new Date(Q);return B.setMonth(B.getMonth()+xe),B.toLocaleDateString("en-LK",{year:"numeric",month:"short",day:"numeric"})},J=Q=>{lt.fire({title:`<span class="text-xl font-bold text-blue-600">Installment #${Q.no}</span>`,html:`
        <div class="text-left space-y-3">
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Due Date:</span>
            <span class="font-medium">${Q.dueDate}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Capital Outstanding:</span>
            <span class="font-mono font-bold">${re(Q.capitalOutstanding)}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Capital Repayment:</span>
            <span class="font-mono text-green-600">${re(Q.capitalRepayment)}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Interest Payment:</span>
            <span class="font-mono text-purple-600">${re(Q.interestPayment)}</span>
          </div>
          <div class="flex justify-between border-b pb-2">
            <span class="font-semibold text-gray-700">Total Installment:</span>
            <span class="font-mono font-bold text-blue-600">${re(Q.installmentAmount)}</span>
          </div>
          <div class="flex justify-between">
            <span class="font-semibold text-gray-700">Remaining Balance:</span>
            <span class="font-mono">${re(Q.dueBalance)}</span>
          </div>
        </div>
      `,showConfirmButton:!0,confirmButtonText:"Close",confirmButtonColor:"#3085d6",customClass:{popup:"rounded-xl shadow-2xl",title:"mb-4",confirmButton:"px-6 py-2 rounded-lg font-medium mt-4"},background:"#f9fafb",width:"500px"})};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[n.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800 text-center border-b border-gray-200 pb-4",children:"Employee Wise Loan Calculator"}),n.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg shadow-sm",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-4 text-blue-800 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),"Loan Information"]}),n.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Loan ID"}),n.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:t,readOnly:!0,placeholder:"Auto-generated Loan ID"})]})})]}),n.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg shadow-sm",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-4 text-green-800 flex items-center",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"Interest Type"]}),n.jsxs("div",{className:"flex space-x-6",children:[n.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[n.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600 focus:ring-blue-500 focus:ring-2",checked:s==="withInterest",onChange:()=>a("withInterest")}),n.jsx("span",{className:"ml-3 text-lg font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"With Interest"})]}),n.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[n.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600 focus:ring-blue-500 focus:ring-2",checked:s==="withoutInterest",onChange:()=>a("withoutInterest")}),n.jsx("span",{className:"ml-3 text-lg font-medium text-gray-700 group-hover:text-blue-600 transition-colors",children:"Without Interest"})]})]})]}),n.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg shadow-sm",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-6 text-purple-800 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Loan Details"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Employee Number",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:r,onChange:Q=>o(Q.target.value),placeholder:"Enter Employee No.",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Employee Name"}),n.jsx("input",{type:"text",className:"w-full p-3 border-2 border-gray-200 rounded-lg bg-gray-100 text-gray-600",value:$,readOnly:!0,placeholder:"Employee name"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Start Date",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:h,onChange:Q=>f(Q.target.value),required:!0,min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Loan Amount (LKR)",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 hover:border-gray-400",value:p,onChange:Q=>x(Q.target.value),placeholder:"Enter Amount",required:!0,min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Interest Rate (%)",s==="withInterest"&&n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"number",className:`w-full p-3 border-2 rounded-lg transition-all duration-200 ${s==="withoutInterest"?"border-gray-200 bg-gray-100 cursor-not-allowed":"border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 hover:border-gray-400"}`,value:v,onChange:Q=>y(Q.target.value),placeholder:"Enter Rate",disabled:s==="withoutInterest",required:s==="withInterest",min:"0",max:"100",step:"0.01"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Calculation Type"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"inline-flex items-center",children:[n.jsx("input",{type:"radio",className:"form-radio",value:"byAmount",checked:le==="byAmount",onChange:Q=>{ee(Q.target.value),oe(""),_("")}}),n.jsx("span",{className:"ml-2",children:"By Installment Amount"})]}),n.jsxs("label",{className:"inline-flex items-center",children:[n.jsx("input",{type:"radio",className:"form-radio",value:"byCount",checked:le==="byCount",onChange:Q=>{ee(Q.target.value),oe(""),_("")}}),n.jsx("span",{className:"ml-2",children:"By Installment Count"})]})]})]}),le==="byAmount"?n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Installment Amount (LKR)",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-300 rounded-lg",value:N,onChange:Q=>_(Q.target.value),placeholder:"Enter Amount per Installment",required:!0,min:"0",step:"0.01"})]}):n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Number of Installments",n.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n.jsx("input",{type:"number",className:"w-full p-3 border-2 border-gray-300 rounded-lg",value:U,onChange:Q=>oe(Q.target.value),placeholder:"Enter Number of Installments",required:!0,min:"1",step:"1"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 mb-8",children:[n.jsxs("button",{className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 transform hover:scale-105 transition-all duration-200 shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-300",onClick:se,children:[n.jsx("svg",{className:"w-5 h-5 inline-block mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Calculate"]}),n.jsx("button",{className:`px-8 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-lg transform transition-all duration-200 shadow-lg focus:outline-none focus:ring-4 focus:ring-green-300 ${D?"hover:from-green-700 hover:to-green-800 hover:scale-105":"opacity-50 cursor-not-allowed"}`,onClick:ie,disabled:!D,children:"Save Loan"})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-4",children:n.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm0-4h5V8H4v2zm7 8a7 7 0 100-14 7 7 0 000 14zm1-11a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662V13a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 10.766 14 9.991 14 9c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 6.092V5a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Loan Repayment Schedule"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[n.jsx("th",{className:"py-4 px-6 text-left font-semibold",children:"No"}),n.jsx("th",{className:"py-4 px-6 text-left font-semibold",children:"Due Date"}),n.jsx("th",{className:"py-4 px-6 text-left font-semibold",children:"Days"}),n.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Outstanding"}),n.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Capital Repayment"}),n.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Interest"}),n.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Installment"}),n.jsx("th",{className:"py-4 px-6 text-right font-semibold",children:"Balance"}),n.jsx("th",{className:"py-4 px-6 text-center font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:D&&k.length>0?k.map((Q,xe)=>n.jsxs("tr",{className:`transition-colors hover:bg-blue-50 ${xe%2===0?"bg-white":"bg-gray-50"}`,children:[n.jsx("td",{className:"py-4 px-6 border-b border-gray-200",children:n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-bold text-sm",children:Q.no})}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 font-medium text-gray-700",children:Q.dueDate}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-center text-gray-600",children:Q.days}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:re(Q.capitalOutstanding)}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:re(Q.capitalRepayment)}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:re(Q.interestPayment)}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono font-bold text-blue-600",children:re(Q.installmentAmount)}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-right font-mono text-gray-700",children:re(Q.dueBalance)}),n.jsx("td",{className:"py-4 px-6 border-b border-gray-200 text-center",children:n.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 text-sm font-medium shadow-md",onClick:()=>J(Q),children:[n.jsxs("svg",{className:"w-4 h-4 inline-block mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[n.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"View"]})})]},xe)):n.jsx("tr",{children:n.jsx("td",{colSpan:"9",className:"py-16 text-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("svg",{className:"w-16 h-16 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),n.jsxs("div",{className:"text-gray-500",children:[n.jsx("p",{className:"text-lg font-medium mb-1",children:D?"No loan details available":"Ready to Calculate"}),n.jsx("p",{className:"text-sm",children:D?"Please check your input values":"Enter loan details and click Calculate to view schedule"})]})]})})})})]})})]})]})})})},Qo={async fetchEmployeeByNic(t){try{return(await bt.get(`/employees/by-nic/${t}`)).data}catch(e){return console.error("Error fetching employee by NIC:",e),null}},markAbsentees:async t=>(await bt.post("/attendance/mark-absentees",{date:t})).data,updateTimeCard:async(t,e)=>(await bt.put(`/time-cards/${t}`,e)).data,deleteTimeCard:async t=>(await bt.delete(`/time-cards/${t}`)).data,async searchEmployeeTimeCards(t){return(await bt.get(`/time-cards/search-employee?q=${encodeURIComponent(t)}`)).data},async importExcel(t){return(await bt.post("/attendance/import-excel",t,{headers:{"Content-Type":"multipart/form-data"}})).data},async fetchCompanies(){return(await bt.get("/companies")).data},async fetchAbsentees({date:t,search:e=""}){return(await bt.get("/attendance/absentees",{params:{date:t,search:e}})).data},downloadTemplate:async()=>{const t="/attendance-template";try{const e=await bt.get(t,{responseType:"blob"});if(e.status!==200||!e.data)throw new Error("Download failed");const s=new Blob([e.data],{type:e.headers["content-type"]}),a=document.createElement("a");a.href=window.URL.createObjectURL(s),a.setAttribute("download","attendance_template.xlsx"),document.body.appendChild(a),a.click(),a.remove()}catch(e){throw new Error(e.response&&e.response.status===404?"Template not found (404)":"Download failed")}}},sN=({page:t,totalPages:e,onPageChange:s})=>{if(e<=1)return null;let a=Math.max(1,t-2),r=Math.min(e,t+2);t<=3&&(r=Math.min(5,e)),t>=e-2&&(a=Math.max(1,e-4));const o=[];for(let c=a;c<=r;c++)o.push(c);return n.jsxs("div",{className:"flex justify-center items-center gap-1 mt-4 select-none",children:[n.jsx("button",{className:`px-3 py-1 rounded-lg font-semibold transition-all duration-150 ${t===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>s(t-1),disabled:t===1,"aria-label":"Previous page",children:" Prev"}),a>1&&n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),o.map(c=>n.jsx("button",{className:`px-3 py-1 rounded-lg font-semibold transition-all duration-150 ${c===t?"bg-blue-600 text-white shadow":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>s(c),disabled:c===t,"aria-current":c===t?"page":void 0,children:c},c)),r<e&&n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),n.jsx("button",{className:`px-3 py-1 rounded-lg font-semibold transition-all duration-150 ${t===e?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-blue-700 hover:bg-blue-50 border border-blue-200"}`,onClick:()=>s(t+1),disabled:t===e,"aria-label":"Next page",children:"Next "})]})},aR=()=>{const[t,e]=P.useState(""),[s,a]=P.useState(""),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState("excel"),[p,x]=P.useState("all"),[v,y]=P.useState(""),[N,_]=P.useState(""),[k,C]=P.useState(""),[D,L]=P.useState(""),[$,W]=P.useState(""),[le,ee]=P.useState(""),[U,oe]=P.useState([]),[re,O]=P.useState([]),[R,ie]=P.useState(!1),[X,se]=P.useState(!1),[z,J]=P.useState(null),[Q,xe]=P.useState(""),[B,me]=P.useState(""),[M,T]=P.useState(""),[q,Y]=P.useState(""),[I,G]=P.useState(""),[ce,pe]=P.useState(!1),[de,Ne]=P.useState([]),[be,Te]=P.useState(""),[Ge,Ee]=P.useState(!1),[ue,gt]=P.useState(""),[ut,Ve]=P.useState(1),Ze=6,ct=de.slice((ut-1)*Ze,ut*Ze),ve=Math.ceil(de.length/Ze),[Ye,ht]=P.useState(1),pt=8,St=re.slice((Ye-1)*pt,Ye*pt),rt=Math.ceil(re.length/pt);P.useEffect(()=>{Ve(1)},[de]),P.useEffect(()=>{ht(1)},[re]);const Dt=async()=>{pe(!0),Ee(!0);try{const we=await Qo.fetchAbsentees({date:ue,search:be});Ne(we)}catch{Ne([])}Ee(!1)},fe=async we=>{const mt=we.target.value;gt(mt),Ee(!0);try{const kt=await Qo.fetchAbsentees({date:mt,search:be});Ne(kt)}catch{Ne([])}Ee(!1)},nt=async we=>{const mt=we.target.value;Te(mt),Ee(!0);try{const kt=await Qo.fetchAbsentees({date:ue,search:mt});Ne(kt)}catch{Ne([])}Ee(!1)},[Xe,Pt]=P.useState(!1),[Nt,ss]=P.useState({empNo:"",name:"",time:"",date:"",entry:"",department:"",status:""}),[Re,qe]=P.useState(!0),[He,Pe]=P.useState([]),[yt,vt]=P.useState(""),[Mt,Zt]=P.useState(""),[Gt,Rt]=P.useState(""),[jt,js]=P.useState(null);P.useEffect(()=>{(async()=>{ie(!0);const mt=await Gp();oe(mt),O(mt),ie(!1)})()},[]),P.useEffect(()=>{(async()=>{const mt=await Qo.fetchCompanies();Pe(mt)})()},[]);const Os=(we=null)=>{let mt=U;return p==="employee"&&$&&(mt=mt.filter(kt=>kt.nic&&kt.nic.toLowerCase().includes($.toLowerCase())||kt.empNo&&kt.empNo.toLowerCase().includes($.toLowerCase()))),p==="department"&&N&&(mt=mt.filter(kt=>kt.department===N)),le&&(mt=mt.filter(kt=>kt.date===le)),s&&(mt=mt.filter(kt=>kt.date>=s)),r&&(mt=mt.filter(kt=>kt.date<=r)),we&&(mt=mt.filter(kt=>kt.status===we)),mt},xn=()=>{ie(!0),setTimeout(()=>{O(Os()),ie(!1)},500)},jn=()=>{O(Os("Leave"))},Ot=()=>{e(""),a(""),o(""),d(""),y(""),_(""),ee(""),O(U)},vs=async()=>{try{const we={date:M,time:I==="IN"?Q:B,entry:q,status:I};await Qo.updateTimeCard(z.id,we);const mt=await Gp();oe(mt),O(mt),se(!1),J(null),lt.fire({icon:"success",title:"Updated!",timer:1200,showConfirmButton:!1})}catch(we){lt.fire({icon:"error",title:"Update failed",text:we.message})}},cs=async()=>{var kt,is;if(!k){L("NIC is required");return}ie(!0),L("");let we;try{we=await Qo.fetchEmployeeByNic(k)}catch{L("Employee not found"),ie(!1);return}if(!we||!we.id){L("Employee not found"),ie(!1);return}if(!Nt.time||!Nt.date||!Nt.entry||!Nt.status){L("All fields are required"),ie(!1);return}const mt={employee_id:we.id,time:Nt.time,date:Nt.date,entry:Nt.entry,status:Nt.status};try{await OT(mt);const ps=await Gp();oe(ps),O(ps),Pt(!1),ss({empNo:"",name:"",time:"",date:"",entry:"",department:"",status:""}),C(""),L(""),lt.fire({icon:"success",title:"Success!",text:"Attendance record added successfully.",timer:1500,showConfirmButton:!1})}catch(ps){const bs=((is=(kt=ps.response)==null?void 0:kt.data)==null?void 0:is.message)||"Failed to add attendance record";L(bs),lt.fire({icon:"error",title:"Error",text:bs})}ie(!1)},Fe=()=>{C(""),L(""),ss({empNo:"",name:"",time:"",date:"",entry:"",department:"",status:""})},ke=()=>{(k||Nt.empNo||Nt.name||Nt.time||Nt.date||Nt.entry||Nt.status)&&Fe(),Pt(!1)},Ft=async()=>{if(k){L("");try{const we=await Qo.fetchEmployeeByNic(k);we&&we.attendance_employee_no&&we.full_name?ss(mt=>({...mt,empNo:we.attendance_employee_no,name:we.full_name,department:we.department||""})):(L("Employee not found for this NIC"),ss(mt=>({...mt,empNo:"",name:"",department:""})))}catch{L("Employee not found for this NIC"),ss(mt=>({...mt,empNo:"",name:"",department:""}))}}};P.useEffect(()=>{p!=="employee"&&W("")},[p]),P.useEffect(()=>{(async()=>{if(p==="employee"){ie(!0);try{let mt=[];$.trim()!==""?(mt=await Qo.searchEmployeeTimeCards($.trim()),Array.isArray(mt)||(mt=[])):mt=[...U],le&&(mt=mt.filter(kt=>kt.date===le)),s&&(mt=mt.filter(kt=>kt.date>=s)),r&&(mt=mt.filter(kt=>kt.date<=r)),O(mt)}catch{O([])}finally{ie(!1)}}else if(p==="all")if(le||s||r){let mt=[...U];le&&(mt=mt.filter(kt=>kt.date===le)),s&&(mt=mt.filter(kt=>kt.date>=s)),r&&(mt=mt.filter(kt=>kt.date<=r)),O(mt)}else O(U);else O(U)})()},[$,p,le,s,r,U]);const Wt=we=>{js(we.target.files[0])},Et=async()=>{var mt,kt;if(!jt){lt.fire({icon:"error",title:"No file selected",text:"Please select an Excel file."});return}if(!Mt){lt.fire({icon:"error",title:"Missing From Date",text:"Please select a From Date."});return}const we=new FormData;we.append("file",jt),we.append("company_id",yt),we.append("from_date",Mt),Gt&&we.append("to_date",Gt);try{const is=await Qo.importExcel(we);lt.fire({icon:"success",title:"Import Completed",html:`
          <div>
            <p>Imported: <b>${is.imported}</b></p>
            <p>Absent: <b>${is.absent}</b></p>
            ${is.errors.length>0?`<p class="text-red-600">Errors:<br>${is.errors.join("<br>")}</p>`:""}
          </div>
        `});const ps=await Gp();oe(ps),O(ps),vt(""),Zt(""),Rt(""),js(null)}catch(is){lt.fire({icon:"error",title:"Import failed",text:((kt=(mt=is.response)==null?void 0:mt.data)==null?void 0:kt.message)||"Excel import failed"})}},hs=async()=>{try{await Qo.downloadTemplate()}catch(we){alert(we.message)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:[n.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Time Card Management"}),n.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Employee Attendance & Time Tracking System"})]}),n.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsx("div",{children:n.jsxs("button",{className:`flex items-center gap-2 px-2.5 py-2 rounded-md font-semibold shadow transition-all duration-200 ${Re?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-blue-700 hover:bg-blue-100"}`,onClick:()=>qe(we=>!we),"aria-expanded":Re,children:[n.jsx("svg",{className:`w-5 h-5 transition-transform duration-200 ${Re?"rotate-0":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Re?"Hide Import Data":"Show Import Data"]})}),n.jsx("div",{children:n.jsxs("button",{className:"flex items-center gap-2 px-2.5 py-2 rounded-md font-semibold shadow transition-all duration-200 bg-green-600 text-white hover:bg-green-700",onClick:hs,children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5 5-5M12 15V3"})}),"Export Template"]})})]}),Re&&n.jsxs("div",{className:"mt-6 p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg shadow-sm",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Company"}),n.jsxs("select",{className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:yt,onChange:we=>vt(we.target.value),children:[n.jsx("option",{value:"",children:"Select Company"}),He.map(we=>n.jsx("option",{value:we.id,children:we.name},we.id))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-semibold text-slate-700",children:["From Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:Mt,onChange:we=>Zt(we.target.value),required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"To Date"}),n.jsx("input",{type:"date",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:Gt,onChange:we=>Rt(we.target.value),min:Mt})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-4",children:"Import Method"}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-6",children:n.jsxs("label",{className:"inline-flex items-center cursor-pointer p-3 rounded-lg hover:bg-blue-100 transition-colors duration-200",children:[n.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-blue-600 focus:ring-blue-500 focus:ring-2",checked:h==="excel",onChange:()=>f("excel")}),n.jsx("span",{className:"ml-3 text-slate-700 font-medium text-sm sm:text-base",children:"Import from Excel Sheet"})]})}),h==="excel"&&n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Upload Excel File"}),n.jsx("input",{type:"file",accept:".xlsx,.xls",className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",onChange:Wt}),n.jsx("button",{className:"mt-3 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-300 shadow-lg",onClick:Et,children:"Import Excel"})]})]})]}),n.jsx("div",{className:"mb-8"}),n.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-gradient-to-br from-emerald-50 to-green-50 border-l-4 border-emerald-500 rounded-lg shadow-sm",children:[n.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center mr-3 shadow-md",children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-slate-800",children:"Filter Options"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-4",children:"Filter By"}),n.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-row gap-3",children:[n.jsxs("label",{className:"inline-flex items-center cursor-pointer p-3 rounded-lg hover:bg-emerald-100 transition-colors duration-200",children:[n.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-emerald-600 focus:ring-emerald-500 focus:ring-2",checked:p==="all",onChange:()=>x("all")}),n.jsx("span",{className:"ml-3 text-slate-700 font-medium text-sm sm:text-base",children:"All Fingerprints"})]}),n.jsxs("label",{className:"inline-flex items-center cursor-pointer p-3 rounded-lg hover:bg-emerald-100 transition-colors duration-200",children:[n.jsx("input",{type:"radio",className:"form-radio h-5 w-5 text-emerald-600 focus:ring-emerald-500 focus:ring-2",checked:p==="employee",onChange:()=>x("employee")}),n.jsx("span",{className:"ml-3 text-slate-700 font-medium text-sm sm:text-base",children:"Filter by Employee"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[p==="employee"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Search by NIC or EPF Number"}),n.jsx("input",{type:"text",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:$,onChange:we=>W(we.target.value),placeholder:"Enter NIC or EPF number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Date"}),n.jsx("input",{type:"date",className:"w-full p-3 sm:p-4 border-2 border-gray-300 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all duration-200 bg-white shadow-sm hover:shadow-md text-sm sm:text-base",value:le,onChange:we=>ee(we.target.value)})]})]})]}),n.jsxs("div",{className:"flex flex-wrap justify-end gap-3 sm:gap-4 mb-6 sm:mb-8",children:[n.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",onClick:xn,disabled:R,children:R?"Processing...":"Process"}),n.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-sm sm:text-base",onClick:Ot,children:"Cancel"}),n.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white font-semibold rounded-xl hover:from-red-700 hover:to-red-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",onClick:Dt,children:"Mark Absentees"}),n.jsx("button",{className:"px-4 sm:px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 text-white font-semibold rounded-xl hover:from-yellow-600 hover:to-yellow-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm sm:text-base",onClick:jn,children:"Leave"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-6 py-4 sm:py-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center mr-3",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2v6z"})})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Attendance Records"})]}),n.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg font-semibold shadow hover:bg-green-700 transition",onClick:()=>Pt(!0),children:"Add New"})]})}),R?n.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto"}),n.jsx("p",{className:"mt-6 text-slate-600 font-medium text-sm sm:text-base",children:"Loading attendance data..."})]}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-slate-100 border-b-2 border-gray-200",children:[n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"EMP NO"}),n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Name"}),n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Fingerprint Clock"}),n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Time"}),n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Date"}),n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Entry"}),n.jsx("th",{className:"py-4 px-3 sm:px-6 text-left font-bold text-slate-800 text-xs sm:text-sm lg:text-base",children:"Status"})]})}),n.jsx("tbody",{children:St.length>0?St.map((we,mt)=>n.jsxs("tr",{className:`${mt%2===0?"bg-white":"bg-gray-50/50"} hover:bg-blue-50/50 transition-colors duration-200 border-b border-gray-100`,children:[n.jsx("td",{className:"py-4 px-3 sm:px-6 font-semibold text-slate-700 text-xs sm:text-sm lg:text-base",children:we.empNo}),n.jsx("td",{className:"py-4 px-3 sm:px-6 font-medium text-slate-800 text-xs sm:text-sm lg:text-base",children:we.name}),n.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-600 text-xs sm:text-sm lg:text-base",children:we.fingerprintClock}),n.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-600 font-mono text-xs sm:text-sm lg:text-base",children:we.time}),n.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-600 text-xs sm:text-sm lg:text-base",children:we.date}),n.jsx("td",{className:"py-4 px-3 sm:px-6 text-slate-700 font-bold text-xs sm:text-sm lg:text-base",children:we.entry}),n.jsx("td",{className:"py-4 px-3 sm:px-6",children:n.jsx("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs sm:text-sm font-bold shadow-sm border ${we.status==="Absent"?"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200":we.status==="Leave"?"bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800 border-yellow-200":we.inOut==="IN"?"bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border-emerald-200":"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200"}`,children:we.status==="Present"?we.inOut:we.status})})]},mt)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"py-16 text-center text-slate-500",children:n.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[n.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",strokeWidth:1,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2v6z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm sm:text-base font-medium",children:"No attendance records found"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Please set your filters and click Process"})]})]})})})})]}),n.jsx(sN,{page:Ye,totalPages:rt,onPageChange:ht})]})]})]})]})}),X&&z&&n.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md relative animate-fade-in",children:[n.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:()=>se(!1),title:"Close",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[n.jsx("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Edit Attendance Record"]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Employee EPF Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100",value:z.empNo,readOnly:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date"}),n.jsx("input",{type:"date",className:"w-full border border-blue-300 rounded-lg px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",value:M,onChange:we=>T(we.target.value)})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Status"}),n.jsxs("select",{className:"w-full border border-blue-300 rounded-lg px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",value:I,onChange:we=>{const mt=we.target.value;let kt="";mt==="IN"?kt="1":mt==="OUT"?kt="2":mt==="Absent"&&(kt="0"),G(mt),Y(kt)},children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"IN",children:"IN"}),n.jsx("option",{value:"OUT",children:"OUT"}),n.jsx("option",{value:"Absent",children:"Absent"}),n.jsx("option",{value:"Leave",children:"Leave"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Entry"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-100",value:q,readOnly:!0,placeholder:"Auto-filled from Status"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Time"}),n.jsx("input",{type:"time",className:"w-full border border-blue-300 rounded-lg px-3 py-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-200",value:I==="IN"?Q:I==="OUT"?B:"",onChange:we=>{I==="IN"?xe(we.target.value):I==="OUT"&&me(we.target.value)},placeholder:"e.g. 08:45 AM"})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[n.jsx("button",{className:"px-5 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition",onClick:()=>se(!1),children:"Cancel"}),n.jsx("button",{className:"px-5 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition font-semibold shadow",onClick:vs,disabled:!M||!q||!I||I==="IN"&&!Q||I==="OUT"&&!B,children:"Save"})]})]})}),Xe&&n.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-md relative animate-fade-in",children:[n.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:ke,title:"Close",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("h2",{className:"text-lg font-bold mb-4 text-slate-800 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Add New Attendance Record"]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg mb-4 border border-gray-100",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["NIC Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-1.5 text-sm",value:k,onChange:we=>C(we.target.value),onBlur:Ft,placeholder:"Enter employee NIC number"}),D&&n.jsx("div",{className:"text-red-500 text-xs mt-1",children:D})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Employee Number"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:Nt.empNo,readOnly:!0,placeholder:"Auto-filled"})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Department"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:Nt.department,readOnly:!0,placeholder:"Auto-filled"})]})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Employee Name"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:Nt.name,readOnly:!0,placeholder:"Auto-filled from NIC"})]})]}),n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-4 border border-blue-100",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-1.5 text-sm",value:Nt.date,onChange:we=>ss({...Nt,date:we.target.value}),max:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",className:"w-full border border-gray-300 rounded-lg px-3 py-1.5 text-sm",value:Nt.time,onChange:we=>ss({...Nt,time:we.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"mb-2",children:[n.jsxs("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-1.5 text-sm",value:Nt.status,onChange:we=>{const mt=we.target.value;let kt="";mt==="IN"?kt="1":mt==="OUT"?kt="2":mt==="Leave"&&(kt="0"),ss(is=>({...is,status:mt,entry:kt}))},children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"IN",children:"IN"}),n.jsx("option",{value:"OUT",children:"OUT"}),n.jsx("option",{value:"Leave",children:"Leave"})]})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1",children:"Entry Code"}),n.jsx("input",{type:"text",className:"w-full border border-gray-200 rounded-lg px-3 py-1.5 bg-gray-100 text-sm",value:Nt.entry,readOnly:!0,placeholder:"Auto-filled"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-5",children:[n.jsx("button",{className:"px-4 py-1.5 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition text-sm",onClick:ke,children:"Cancel"}),n.jsx("button",{className:"px-4 py-1.5 rounded-lg bg-green-600 text-white hover:bg-green-700 transition font-semibold shadow text-sm",onClick:cs,disabled:!k||!Nt.time||!Nt.date||!Nt.status,children:"Add Record"})]})]})}),ce&&n.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-2xl relative animate-fade-in",children:[n.jsx("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 transition",onClick:()=>pe(!1),title:"Close",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),n.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center gap-2",children:[n.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Absentees List"]}),n.jsxs("div",{className:"mb-4 flex gap-3",children:[n.jsx("input",{type:"date",className:"border border-gray-300 rounded-lg px-3 py-2",value:ue,onChange:fe}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Filter by NIC or EPF",value:be,onChange:nt})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full bg-white",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-slate-100 border-b-2 border-gray-200",children:[n.jsx("th",{className:"py-3 px-4 text-left font-bold text-slate-800 text-sm",children:"Employee Name"}),n.jsx("th",{className:"py-3 px-4 text-left font-bold text-slate-800 text-sm",children:"Absent Date"}),n.jsx("th",{className:"py-3 px-4 text-left font-bold text-slate-800 text-sm",children:"Reason"})]})}),n.jsx("tbody",{children:Ge?n.jsx("tr",{children:n.jsx("td",{colSpan:"3",className:"py-8 text-center text-slate-500",children:"Loading..."})}):ct.length>0?ct.map((we,mt)=>n.jsxs("tr",{className:mt%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:we.employee_name||we.name}),n.jsx("td",{className:"py-3 px-4",children:we.date}),n.jsx("td",{className:"py-3 px-4",children:we.reason||"-"})]},we.id||mt)):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",className:"py-8 text-center text-slate-500",children:"No absentees found"})})})]}),n.jsx(sN,{page:ut,totalPages:ve,onPageChange:Ve})]})]})})]})},rR=async()=>{try{return(await bt.get("/overtime")).data}catch(t){return console.error("Error fetching companies:",t),[]}},iR=async(t,e)=>{try{return(await bt.post(`/overtime/approve/${t}`,{status:e})).data}catch(s){throw console.error("Error approving overtime:",s),s}},oR=()=>{const[t,e]=P.useState([]),[s,a]=P.useState(!1);P.useEffect(()=>{r()},[]);const r=async()=>{a(!0);try{const c=await rR();e(c)}catch(c){console.error("Error fetching data:",c)}finally{a(!1)}},o=async(c,d)=>{await iR(c,d),r()};return n.jsx("div",{className:"min-h-screen p-4",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg",children:n.jsx(jr,{className:"h-6 w-6 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-800 to-blue-600 bg-clip-text text-transparent",children:"Overtime Management System"})]}),n.jsx("p",{className:"text-gray-600 ml-11",children:"Manage and approve employee overtime hours efficiently"})]}),s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full"})}):n.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden mb-6",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"EMP No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift start"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"IN Time"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift End"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"OUT Time"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Working Hours"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Morning OT"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Evening OT"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total OT"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Special OT"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Morning OT Rate"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Night OT Rate"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Approve OT"})]})}),n.jsx("tbody",{className:"bg-white/50 backdrop-blur-sm divide-y divide-gray-100",children:t.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"15",className:"px-6 py-8 text-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(ga,{className:"h-8 w-8 text-gray-300"}),n.jsx("span",{className:"text-sm text-gray-500",children:"No matching records found"})]})})}):t.map(c=>{var d,h,f,p,x,v;return n.jsxs("tr",{className:"transition-all duration-200 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:c.employee_id}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.employee_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((d=c==null?void 0:c.time_card_id)==null?void 0:d.date)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((h=c==null?void 0:c.shift_code)==null?void 0:h.start_time)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((f=c==null?void 0:c.time_card_id)==null?void 0:f.time)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700",children:((p=c==null?void 0:c.shift_code)==null?void 0:p.end_time)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((x=c==null?void 0:c.time_card_id)==null?void 0:x.time)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-700",children:((v=c==null?void 0:c.time_card_id)==null?void 0:v.working_hours)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium",children:c.time_card_id.working_hours}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-orange-600 font-medium",children:c.morning_ot}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-indigo-600",children:c.evening_ot}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600",children:(parseFloat(c.morning_ot)||0)+(parseFloat(c.evening_ot)||0)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600",children:(c==null?void 0:c.ot_morning_rate)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600",children:(c==null?void 0:c.ot_night_rate)??"-"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.status==="pending"?n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>o(c.id,"approved"),className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-md hover:bg-blue-200",children:"Approve"}),n.jsx("button",{onClick:()=>o(c.id,"rejected"),className:"px-3 py-1 bg-red-100 text-red-800 rounded-md hover:bg-red-200",children:"Reject"})]}):c.status==="approved"?n.jsx("span",{className:"text-green-600 font-semibold",children:"Approved"}):n.jsx("span",{className:"text-red-600 font-semibold",children:"Rejected"})})]},c.id)})})]})})})]})})},lR=({show:t,companyForm:e,setCompanyForm:s,editingCompany:a,setShowAddModal:r,setCompanies:o,companies:c,refreshAll:d})=>{const[h,f]=Ea.useState(e),[p,x]=Ea.useState({}),v=!a;if(Ea.useEffect(()=>{t&&f(e),x({})},[t,e]),!t)return null;const y=_=>{if(_==null||String(_).trim()==="")return!0;const k=Number(_),C=new Date().getFullYear();return/^\d{4}$/.test(String(_))&&k>=1900&&k<=C},N=()=>{const _={};return(!h.name||!h.name.trim())&&(_.name="Company name is required."),(!h.location||!h.location.trim())&&(_.location="Location is required."),h.established&&!y(h.established)&&(_.established="Established year must be a valid 4-digit year, not in the future, and positive."),_};return n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:v?"Add Company":"Edit Company"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),n.jsx("input",{type:"text",value:h.name,onChange:_=>f({...h,name:_.target.value}),className:`w-full px-3 py-2 border ${p.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),p.name&&n.jsx("div",{className:"text-red-600 text-sm mt-1",children:p.name})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:h.location,onChange:_=>f({...h,location:_.target.value}),className:`w-full px-3 py-2 border ${p.location?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),p.location&&n.jsx("div",{className:"text-red-600 text-sm mt-1",children:p.location})]}),n.jsxs("div",{style:{display:"none"},children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employees"}),n.jsx("input",{type:"number",value:h.employees===null||h.employees===""?0:h.employees,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-100 cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established"}),n.jsx("input",{type:"text",value:h.established,onChange:_=>{const k=_.target.value.replace(/\D/g,"").slice(0,4);f({...h,established:k})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 2005",maxLength:4,inputMode:"numeric",pattern:"\\d{4}"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:async()=>{var C;const _=N();if(Object.keys(_).length>0){x(_);return}x({});const k={...h,established:h.established?Number(h.established):null};try{a?(await AT(a.id,k),lt.fire({icon:"success",title:"Company updated successfully!",timer:1500,showConfirmButton:!1})):(await _T(k),lt.fire({icon:"success",title:"Company added successfully!",timer:1500,showConfirmButton:!1})),r(!1),await(d==null?void 0:d())}catch(D){const L=(C=D==null?void 0:D.response)==null?void 0:C.data;L!=null&&L.errors?x({..._,...L.errors}):L!=null&&L.message?lt.fire({icon:"error",title:"Error",text:L.message}):lt.fire({icon:"error",title:"Error",text:"An unexpected error occurred."})}},className:`px-4 py-2 ${v?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded-lg transition-colors`,children:v?"Add Company":"Save Changes"})]})]})})},cR=()=>{const[t,e]=P.useState("companies"),[s,a]=P.useState(""),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState(!1),[p,x]=P.useState(!1),[v,y]=P.useState(new Set),[N,_]=P.useState("add"),[k,C]=P.useState(null),[D,L]=P.useState({name:"",location:"",employees:"",established:""}),[$,W]=P.useState({company_id:"",name:"",code:"",employees:""}),[le,ee]=P.useState(!1),[U,oe]=P.useState(null),[re,O]=P.useState([]),[R,ie]=P.useState([]),[X,se]=P.useState([]),[z,J]=P.useState(!0),[Q,xe]=P.useState(!1),[B,me]=P.useState(!1),[M,T]=P.useState(null),[q,Y]=P.useState(1),[I,G]=P.useState(1),[ce,pe]=P.useState(1),de=7;P.useEffect(()=>{J(!0),Promise.all([cu(),F0(),Gb()]).then(([Re,qe,He])=>{O(Re),ie(qe),se(He),J(!1)})},[]);const Ne=R.map(Re=>({...Re,subdepartments:X.filter(qe=>qe.department_id===Re.id)}));re.map(Re=>({...Re,departments:Ne.filter(qe=>qe.company_id===Re.id)}));function be(Re){const qe=new Set(v);qe.has(Re)?qe.delete(Re):qe.add(Re),y(qe)}const Te=({icon:Re,title:qe,value:He,color:Pe})=>n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:qe}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:He})]}),n.jsx("div",{className:`p-3 rounded-lg ${Pe}`,children:n.jsx(Re,{className:"w-6 h-6 text-white"})})]})}),Ge=({icon:Re,onClick:qe,variant:He="primary"})=>{const Pe={primary:"text-blue-600 hover:bg-blue-50",danger:"text-red-600 hover:bg-red-50"};return n.jsx("button",{onClick:qe,className:`p-2 rounded-lg transition-colors ${Pe[He]}`,children:n.jsx(Re,{className:"w-4 h-4"})})},Ee=()=>t==="companies"?s:t==="departments"?r:t==="subdepartments"?c:"",ue=Re=>{t==="companies"&&a(Re),t==="departments"&&o(Re),t==="subdepartments"&&d(Re)},gt=Re=>String(Re||"").toLowerCase().trim(),ut=(Re,qe)=>{const He=gt(Re),Pe=gt(qe);return Pe?Pe.length===1?He.charAt(0)===Pe:He.includes(Pe):!0},Ve=s?re.filter(Re=>ut(Re.name,s)):re,Ze=r?Ne.filter(Re=>ut(Re.name,r)):Ne,ct=re.map(Re=>({...Re,departments:Ze.filter(qe=>qe.company_id===Re.id)})).filter(Re=>Re.departments.length>0),ve=c?X.filter(Re=>ut(Re.name,c)):X,Ye=re.map(Re=>{const qe=R.filter(He=>He.company_id===Re.id);return{...Re,departments:qe.map(He=>({...He,subdepartments:ve.filter(Pe=>Pe.department_id===He.id)})).filter(He=>He.subdepartments.length>0)}}).filter(Re=>Re.departments.length>0),ht=()=>{const Re=Ve.slice((q-1)*de,q*de);return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Established"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Re.map(qe=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Nr,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsx("div",{children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:qe.name})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:qe.location}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:qe.employees}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:qe.established}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ge,{icon:If,onClick:()=>{_("edit"),C(qe),L({name:qe.name||"",location:qe.location||"",employees:qe.employees||"",established:qe.established||""}),f(!0)}}),n.jsx(Ge,{icon:or,onClick:async()=>{(await lt.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed&&(await CT(qe.id),lt.fire({icon:"success",title:"Deleted!",text:"Company has been deleted.",timer:1500,showConfirmButton:!1}),await nt())},variant:"danger"})]})})]},qe.id))})]})}),n.jsx(ss,{currentPage:q,totalItems:Ve.length,onPageChange:Y})]})},pt=()=>{const Re=ct.flatMap(He=>He.departments.map(Pe=>({...Pe,companyName:He.name,companyId:He.id}))),qe=Re.slice((I-1)*de,I*de);return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employees"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdepartments"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:qe.map(He=>n.jsxs(Ea.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>be(`${He.companyId}-${He.id}`),className:"mr-2 p-1 hover:bg-gray-200 rounded",children:v.has(`${He.companyId}-${He.id}`)?n.jsx(Zd,{className:"w-4 h-4"}):n.jsx(ru,{className:"w-4 h-4"})}),n.jsx(Ha,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:He.name}),n.jsx("div",{className:"text-sm text-gray-500",children:He.code})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:He.companyName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:He.employees}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:He.subdepartments.length}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ge,{icon:If,onClick:()=>{oe(He),ee(!0)}}),n.jsx(Ge,{icon:or,onClick:async()=>{var yt,vt;if((await lt.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await ET(He.id),lt.fire({icon:"success",title:"Deleted!",text:"Department has been deleted.",timer:1500,showConfirmButton:!1}),await nt()}catch(Mt){lt.fire({icon:"error",title:"Error",text:((vt=(yt=Mt==null?void 0:Mt.response)==null?void 0:yt.data)==null?void 0:vt.message)||"Failed to delete department."})}},variant:"danger"})]})})]}),v.has(`${He.companyId}-${He.id}`)&&He.subdepartments.map(Pe=>n.jsxs("tr",{className:"bg-gray-25 border-l-4 border-blue-200",children:[n.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center pl-8",children:[n.jsx(Va,{className:"w-4 h-4 text-gray-400 mr-3"}),n.jsx("div",{className:"text-sm font-medium text-gray-700",children:Pe.name})]})}),n.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:"-"}),n.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:Pe.employees}),n.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-500",children:"-"}),n.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ge,{icon:If,onClick:()=>{}}),n.jsx(Ge,{icon:or,onClick:()=>{},variant:"danger"})]})})]},Pe.id))]},`${He.companyId}-${He.id}`))})]})}),n.jsx(ss,{currentPage:I,totalItems:Re.length,onPageChange:G})]})},St=()=>{const[Re,qe]=Ea.useState($),[He,Pe]=Ea.useState("");if(Ea.useEffect(()=>{p&&(qe($),Pe(""))},[p,$]),!p)return null;const yt=()=>Re.company_id?Re.name.trim()?Re.name.trim().length<2?"Department name must be at least 2 characters.":Re.name.trim().length>50?"Department name must be less than 50 characters.":"":"Department name is required.":"Please select a company.";return n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Department"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),n.jsxs("select",{value:Re.company_id,onChange:vt=>qe({...Re,company_id:vt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Company"}),re.map(vt=>n.jsx("option",{value:vt.id,children:vt.name},vt.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),n.jsx("input",{type:"text",value:Re.name,onChange:vt=>qe({...Re,name:vt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:50})]}),He&&n.jsx("div",{className:"text-red-600 text-sm",children:He})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:async()=>{var Mt,Zt;const vt=yt();if(vt){Pe(vt);return}Pe("");try{const Gt=await kT({company_id:Re.company_id,name:Re.name});ie([...R,Gt]),W({company_id:"",name:"",code:"",employees:""}),x(!1),lt.fire({icon:"success",title:"Department added successfully!",timer:1500,showConfirmButton:!1}),await nt()}catch(Gt){lt.fire({icon:"error",title:"Error",text:((Zt=(Mt=Gt==null?void 0:Gt.response)==null?void 0:Mt.data)==null?void 0:Zt.message)||"Failed to add department."})}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Add Department"})]})]})})},rt=()=>{const[Re,qe]=Ea.useState(U);return Ea.useEffect(()=>{le&&U&&qe(U)},[le,U]),!le||!Re?null:n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Department"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),n.jsxs("select",{value:Re.company_id,onChange:He=>qe({...Re,company_id:He.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Company"}),re.map(He=>n.jsx("option",{value:He.id,children:He.name},He.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name"}),n.jsx("input",{type:"text",value:Re.name,onChange:He=>qe({...Re,name:He.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>ee(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:async()=>{var He,Pe;try{const yt=await DT(Re.id,{company_id:Re.company_id,name:Re.name});ie(R.map(vt=>vt.id===Re.id?yt:vt)),ee(!1),lt.fire({icon:"success",title:"Department updated successfully!",timer:1500,showConfirmButton:!1}),await nt()}catch(yt){lt.fire({icon:"error",title:"Error",text:((Pe=(He=yt==null?void 0:yt.response)==null?void 0:He.data)==null?void 0:Pe.message)||"Failed to update department."})}},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Save Changes"})]})]})})},Dt=({show:Re,companies:qe,departments:He,onClose:Pe,onCreate:yt})=>{const[vt,Mt]=Ea.useState({company_id:"",department_id:"",name:""}),[Zt,Gt]=Ea.useState("");Ea.useEffect(()=>{Re||(Mt({company_id:"",department_id:"",name:""}),Gt(""))},[Re]);const Rt=vt.company_id?He.filter(jt=>String(jt.company_id)===String(vt.company_id)):[];return Re?n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 backdrop-blur-sm bg-opacity-30",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Sub Department"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),n.jsxs("select",{value:vt.company_id,onChange:jt=>Mt({...vt,company_id:jt.target.value,department_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[n.jsx("option",{value:"",children:"Select Company"}),qe.map(jt=>n.jsx("option",{value:jt.id,children:jt.name},jt.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsxs("select",{value:vt.department_id,onChange:jt=>Mt({...vt,department_id:jt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",disabled:!vt.company_id,children:[n.jsx("option",{value:"",children:"Select Department"}),Rt.map(jt=>n.jsx("option",{value:jt.id,children:jt.name},jt.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Department Name"}),n.jsx("input",{type:"text",value:vt.name,onChange:jt=>Mt({...vt,name:jt.target.value.replace(/[^a-zA-Z0-9\s]/g,"")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Enter sub department name"})]}),Zt&&n.jsx("div",{className:"text-red-600 text-sm",children:Zt})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:Pe,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg",children:"Cancel"}),n.jsx("button",{onClick:async()=>{if(!vt.company_id||!vt.department_id||!vt.name.trim()){Gt("All fields are required.");return}Gt(""),await yt(vt),await nt()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg",children:"Add Sub Department"})]})]})}):null},fe=({show:Re,companies:qe,departments:He,subDept:Pe,onClose:yt,onUpdate:vt})=>{const[Mt,Zt]=Ea.useState(Pe||{company_id:"",department_id:"",name:""}),[Gt,Rt]=Ea.useState("");Ea.useEffect(()=>{Re&&Pe&&Zt(Pe),Re||Rt("")},[Re,Pe]);const jt=Mt.company_id?He.filter(js=>String(js.company_id)===String(Mt.company_id)):[];return Re?n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Edit Sub Department"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),n.jsxs("select",{value:Mt.company_id,onChange:js=>Zt({...Mt,company_id:js.target.value,department_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Company"}),qe.map(js=>n.jsx("option",{value:js.id,children:js.name},js.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsxs("select",{value:Mt.department_id,onChange:js=>Zt({...Mt,department_id:js.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:!Mt.company_id,children:[n.jsx("option",{value:"",children:"Select Department"}),jt.map(js=>n.jsx("option",{value:js.id,children:js.name},js.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Department Name"}),n.jsx("input",{type:"text",value:Mt.name,onChange:js=>Zt({...Mt,name:js.target.value.replace(/[^a-zA-Z0-9\s]/g,"")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter sub department name"})]}),Gt&&n.jsx("div",{className:"text-red-600 text-sm",children:Gt})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx("button",{onClick:yt,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:async()=>{if(!Mt.company_id||!Mt.department_id||!Mt.name.trim()){Rt("All fields are required.");return}Rt(""),await vt(Mt),await nt()},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save Changes"})]})]})}):null},nt=async()=>{const[Re,qe,He]=await Promise.all([cu(),F0(),Gb()]);O(Re),ie(qe),se(He)},Xe=async Re=>{var qe,He;try{if(X.some(vt=>String(vt.department_id)===String(Re.department_id)&&vt.name.trim().toLowerCase()===Re.name.trim().toLowerCase())){lt.fire({icon:"error",title:"Duplicate Sub Department",text:"A sub department with this name already exists in the selected department."});return}const yt={department_id:Re.department_id,name:Re.name};await LT(yt),await nt(),xe(!1),lt.fire({icon:"success",title:"Sub Department added successfully!",timer:1500,showConfirmButton:!1})}catch(Pe){lt.fire({icon:"error",title:"Error",text:((He=(qe=Pe==null?void 0:Pe.response)==null?void 0:qe.data)==null?void 0:He.message)||"Failed to add sub department."})}},Pt=async Re=>{var qe,He;try{const Pe={department_id:Re.department_id,name:Re.name};await TT(Re.id,Pe),await nt(),me(!1),lt.fire({icon:"success",title:"Sub Department updated successfully!",timer:1500,showConfirmButton:!1})}catch(Pe){lt.fire({icon:"error",title:"Error",text:((He=(qe=Pe==null?void 0:Pe.response)==null?void 0:qe.data)==null?void 0:He.message)||"Failed to update sub department."})}},Nt=()=>{const Re=Ye.flatMap(He=>He.departments.flatMap(Pe=>Pe.subdepartments.map(yt=>({...yt,departmentName:Pe.name,departmentCode:Pe.code,companyName:He.name})))),qe=Re.slice((ce-1)*de,ce*de);return n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdepartment"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NO Of Employees"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:qe.map(He=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Va,{className:"w-5 h-5 text-gray-400 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:He.name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["SD",He.id.toString().padStart(3,"0")]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:He.departmentName}),n.jsx("div",{className:"text-sm text-gray-500",children:He.departmentCode})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:He.companyName}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:n.jsx("div",{className:" px-8 py-1 text-sm text-gray-900",children:He.employees})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${He.employees>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:He.employees>0?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ge,{icon:If,onClick:()=>{const Pe=R.find(yt=>yt.id===He.department_id);Pe?(T({...He,company_id:Pe.company_id,department_id:He.department_id}),me(!0)):lt.fire({icon:"error",title:"Error",text:"Could not find parent department information."})}}),n.jsx(Ge,{icon:or,onClick:async()=>{var yt,vt;if((await lt.fire({title:"Are you sure?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await MT(He.id),lt.fire({icon:"success",title:"Deleted!",text:"Sub Department has been deleted.",timer:1500,showConfirmButton:!1}),await nt()}catch(Mt){lt.fire({icon:"error",title:"Error",text:((vt=(yt=Mt==null?void 0:Mt.response)==null?void 0:yt.data)==null?void 0:vt.message)||"Failed to delete sub department."})}},variant:"danger"})]})})]},He.id))})]})}),n.jsx(ss,{currentPage:ce,totalItems:Re.length,onPageChange:pe})]})},ss=({currentPage:Re,totalItems:qe,onPageChange:He})=>{const Pe=Math.ceil(qe/de);return Pe<=1?null:n.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:(Re-1)*de+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min(Re*de,qe)})," ","of ",n.jsx("span",{className:"font-medium",children:qe})," results"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsxs("button",{onClick:()=>He(Re-1),disabled:Re===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${Re===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[n.jsx("span",{className:"sr-only",children:"Previous"}),n.jsx(ng,{className:"h-5 w-5"})]}),Array.from({length:Pe},(yt,vt)=>vt+1).map(yt=>n.jsx("button",{onClick:()=>He(yt),className:`relative inline-flex items-center px-4 py-2 border ${yt===Re?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} text-sm font-medium`,children:yt},yt)),n.jsxs("button",{onClick:()=>He(Re+1),disabled:Re===Pe,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${Re===Pe?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[n.jsx("span",{className:"sr-only",children:"Next"}),n.jsx(ru,{className:"h-5 w-5"})]})]})})]})})};return P.useEffect(()=>{Y(1),G(1),pe(1)},[t]),P.useEffect(()=>{Y(1)},[s]),P.useEffect(()=>{G(1)},[r]),P.useEffect(()=>{pe(1)},[c]),n.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[z&&n.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:n.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),!z&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Department Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage your organization's structure including companies, departments, and subdepartments."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(Te,{icon:Nr,title:"Total Companies",value:re.length,color:"bg-blue-500"}),n.jsx(Te,{icon:Ha,title:"Total Departments",value:R.length,color:"bg-green-500"}),n.jsx(Te,{icon:Va,title:"Subdepartments",value:X.length,color:"bg-purple-500"}),n.jsx(Te,{icon:hn,title:"Total Employees",value:re.reduce((Re,qe)=>Re+(parseInt(qe.employees)||0),0),color:"bg-orange-500"})]}),n.jsx("div",{className:"flex space-x-1 mb-6",children:[{key:"companies",label:"Companies",icon:Nr},{key:"departments",label:"Departments",icon:Ha},{key:"subdepartments",label:"Subdepartments",icon:Va}].map(Re=>n.jsxs("button",{onClick:()=>e(Re.key),className:`flex items-center px-4 py-2 rounded-lg font-medium transition-colors ${t===Re.key?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-white"}`,children:[n.jsx(Re.icon,{className:"w-4 h-4 mr-2"}),Re.label]},Re.key))}),n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx("input",{type:"text",placeholder:`Search ${t}...`,value:Ee(),onChange:Re=>ue(Re.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Ee()&&n.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-700",onClick:()=>ue(""),"aria-label":"Clear search",children:""})]}),t==="companies"&&n.jsxs("button",{onClick:()=>{_("add"),L({name:"",location:"",employees:"",established:""}),f(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[n.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Add New Company"]}),t==="departments"&&n.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[n.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Add Department"]}),t==="subdepartments"&&n.jsxs("button",{onClick:()=>xe(!0),className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-sm",children:[n.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Add New Sub Department"]})]})}),t==="companies"&&n.jsx(ht,{}),t==="departments"&&n.jsx(pt,{}),t==="subdepartments"&&n.jsx(Nt,{}),n.jsx(lR,{show:h,companyForm:D,setCompanyForm:L,editingCompany:k,setShowAddModal:f,setCompanies:O,companies:re,refreshAll:nt}),n.jsx(St,{}),n.jsx(rt,{}),n.jsx(Dt,{show:Q,companies:re,departments:R,onClose:()=>xe(!1),onCreate:Xe}),n.jsx(fe,{show:B,companies:re,departments:R,subDept:M,onClose:()=>{me(!1),T(null)},onUpdate:Pt})]})]})},dR=async()=>{try{return(await bt.get("/rosters")).data}catch(t){throw console.error("Error fetching rosters:",t),t}},uR=async t=>{var e,s;try{return(await bt.post("/rosters",t)).data.data}catch(a){throw console.error("Error creating roster:",a),((s=(e=a.response)==null?void 0:e.data)==null?void 0:s.errors)||a.message}},hR=async(t,e)=>{var s,a;try{return(await bt.put(`/rosters/${t}`,e)).data.data}catch(r){throw console.error("Error updating roster:",r),((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.errors)||r.message}},fR=async t=>{try{await bt.delete(`/rosters/${t}`)}catch(e){throw console.error("Error deleting roster:",e),e}},mR=async t=>{try{return(await bt.get("/roster/search",{params:t})).data.data||[]}catch(e){throw console.error("Error searching rosters:",e),e}},Kp={getAllRosters:dR,createRoster:uR,updateRoster:hR,searchRosters:mR,deleteRoster:fR},pR=()=>{const[t,e]=P.useState(null),[s,a]=P.useState(""),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState(""),[p,x]=P.useState(!1),[v,y]=P.useState(null),[N,_]=P.useState(""),[k,C]=P.useState(""),[D,L]=P.useState(""),[$,W]=P.useState("designation"),[le,ee]=P.useState([]),[U,oe]=P.useState(new Set),[re,O]=P.useState(!1),[R,ie]=P.useState(!1),[X,se]=P.useState(!1),[z,J]=P.useState([]),[Q,xe]=P.useState(!1),[B,me]=P.useState([]),[M,T]=P.useState(!1),[q,Y]=P.useState(null),[I,G]=P.useState([]),[ce,pe]=P.useState(!1),[de,Ne]=P.useState(null),[be,Te]=P.useState([]),[Ge,Ee]=P.useState(!1),[ue,gt]=P.useState(null),[ut,Ve]=P.useState([]),[Ze,ct]=P.useState(!1),[ve,Ye]=P.useState(null),[ht,pt]=P.useState([]),[St,rt]=P.useState(!1),[Dt,fe]=P.useState(null),[nt,Xe]=P.useState(new Set),[Pt,Nt]=P.useState(!1),[ss,Re]=P.useState(""),[qe,He]=P.useState(1),Pe=10,[yt,vt]=P.useState({date_from:"",date_to:"",company_id:"",department_id:"",sub_department_id:"",employee_id:""}),[Mt,Zt]=P.useState([]),[Gt,Rt]=P.useState(!1),[jt,js]=P.useState(!1);P.useEffect(()=>{const je=new Date,_t=je.toISOString().split("T")[0],Ut=new Date(je.setDate(je.getDate()+30)).toISOString().split("T")[0];a(_t),o(Ut),d(_t)},[]),P.useEffect(()=>{(async()=>{await Os(),await vs()})()},[]);const Os=async()=>{try{T(!0);const je=await cu();me(je)}catch(je){console.error("Failed to fetch companies:",je),Y("Failed to load companies")}finally{T(!1)}},xn=async()=>{try{pe(!0);const je=await F0();G(je)}catch(je){console.error("Failed to fetch departments:",je),Ne("Failed to load departments")}finally{pe(!1)}},jn=async()=>{try{Ee(!0);const je=await Gb();Te(je)}catch(je){console.error("Failed to fetch sub-departments:",je),gt("Failed to load sub-departments")}finally{Ee(!1)}},Ot=async()=>{try{if(ct(!0),jt){const je=await RT(N);Ve(je.map(_t=>{var Ut,ns;return{id:_t.id,name:_t.full_name||`${_t.first_name} ${_t.last_name}`,empCode:_t.employee_code,department_id:(Ut=_t.department_id)==null?void 0:Ut.toString(),sub_department_id:(ns=_t.sub_department_id)==null?void 0:ns.toString()}}))}else if(D){const je=await PT(D);Ve(je.map(_t=>({id:_t.id,name:_t.full_name})))}else{const je={};N&&(je.company_id=N),k&&(je.department_id=k);const _t=await Kp.getEmployeesForRoster(je);Ve(_t.map(Ut=>{var ns,ds;return{id:Ut.id,empCode:Ut.employee_code,name:`${Ut.first_name} ${Ut.last_name}`,department_id:(ns=Ut.department_id)==null?void 0:ns.toString(),sub_department_id:(ds=Ut.sub_department_id)==null?void 0:ds.toString()}}))}}catch(je){console.error("Failed to fetch employees:",je),Ye("Failed to load employees")}finally{ct(!1)}},vs=async()=>{try{rt(!0);const je=await Gf.getAllShifts();pt(je.map(_t=>({id:_t.id,scode:_t.shift_code,shiftName:_t.shift_name||_t.shift_description,shiftStart:_t.start_time.substring(0,5),shiftEnd:_t.end_time.substring(0,5)})))}catch(je){console.error("Failed to fetch shifts:",je),fe("Failed to load shifts")}finally{rt(!1)}};P.useEffect(()=>{N?xn():C("")},[N]),P.useEffect(()=>{k?jn():L("")},[k]),P.useEffect(()=>{N?Ot():Ve([])},[N,k,D,jt]);const cs=P.useMemo(()=>I.filter(je=>{var _t;return N?((_t=je.company_id)==null?void 0:_t.toString())===N:!0}),[N,I]),Fe=P.useMemo(()=>be.filter(je=>{var _t;return k?((_t=je.department_id)==null?void 0:_t.toString())===k:!0}),[k,be]),ke=P.useMemo(()=>{let je=ut;return h&&(je=je.filter(_t=>{const Ut=_t.name&&_t.name.toLowerCase().includes(h.toLowerCase()),ns=_t.empCode&&_t.empCode.toLowerCase().includes(h.toLowerCase());return Ut||ns})),je},[ut,h]),Ft=P.useMemo(()=>{const je=ht.filter(ns=>ns.scode.toLowerCase().includes(ss.toLowerCase())||ns.shiftName.toLowerCase().includes(ss.toLowerCase())),_t=(qe-1)*Pe,Ut=_t+Pe;return{shifts:je.slice(_t,Ut),totalShifts:je.length,totalPages:Math.ceil(je.length/Pe)}},[ht,ss,qe]),Wt=je=>{var _t;return((_t=B.find(Ut=>Ut.id.toString()===je))==null?void 0:_t.name)||""},Et=je=>{var _t;return((_t=I.find(Ut=>Ut.id.toString()===je))==null?void 0:_t.name)||""},hs=je=>{var _t;return((_t=be.find(Ut=>Ut.id.toString()===je))==null?void 0:_t.name)||""},we=(je,_t,Ut,ns)=>{const ds=Ma=>{const[Bn,Sa]=Ma.split(":").map(Number);return Bn*60+Sa},gs=ds(je),Ss=ds(_t),rn=ds(Ut),ca=ds(ns);return gs<ca&&Ss>rn},mt=je=>{Xe(_t=>{const Ut=new Set(_t);if(Ut.has(je.id))Ut.delete(je.id);else{if(Array.from(Ut).some(ds=>{const gs=ht.find(Ss=>Ss.id===ds);return we(gs.shiftStart,gs.shiftEnd,je.shiftStart,je.shiftEnd)}))return lt.fire({icon:"warning",title:"Cannot Select Shift",text:"Cannot select shifts with overlapping time frames",confirmButtonColor:"#3085d6"}),Ut;Ut.add(je.id)}return Ut})},kt=()=>{if(nt.size===0)return;if(!N){lt.fire({icon:"warning",title:"Missing Information",text:"Please select a company",confirmButtonColor:"#3085d6"});return}if(!jt&&(!k||!D)){lt.fire({icon:"warning",title:"Missing Information",text:"Please select department and sub-department",confirmButtonColor:"#3085d6"});return}let je=[];if($==="designation"?je=ke.map(ns=>ns.id):$==="employee"&&(je=Array.from(U)),je.length===0){lt.fire({icon:"warning",title:"No Employees Selected",text:"Please select at least one employee",confirmButtonColor:"#3085d6"});return}const Ut=ht.filter(ns=>nt.has(ns.id)).map(ns=>({company:N,department:jt?"0":k,subDepartment:jt?"0":D,employees:je,shift:ns,dateFrom:s,dateTo:r}));ee(ns=>[...ns,...Ut]),Xe(new Set),oe(new Set)},is=je=>{$==="employee"&&oe(_t=>{const Ut=new Set(_t);return Ut.has(je)?Ut.delete(je):Ut.add(je),Ut})},ps=async()=>{var je,_t,Ut;if(le.length!==0)try{Nt(!0);const ns=[],ds=Date.now();for(const gs of le)gs.employees.forEach(Ss=>{ns.push({roster_id:ds,shift_code:gs.shift.id,company_id:parseInt(gs.company),department_id:gs.department==="0"?null:parseInt(gs.department),sub_department_id:gs.subDepartment==="0"?null:parseInt(gs.subDepartment),employee_id:parseInt(Ss),is_recurring:!1,recurrence_pattern:"none",notes:`Shift assignment: ${gs.shift.shiftName}`,date_from:gs.dateFrom,date_to:gs.dateTo})});console.log("Sending roster entries:",ns);try{const gs=await Kp.createRoster(ns);lt.fire({icon:"success",title:"Success!",text:"Roster assignments saved successfully",timer:2e3,showConfirmButton:!1,position:"top-end",toast:!0}),ee([]),_(""),C(""),L(""),Xe(new Set),oe(new Set)}catch(gs){console.error("Error response:",(je=gs.response)==null?void 0:je.data);const Ss=((Ut=(_t=gs.response)==null?void 0:_t.data)==null?void 0:Ut.message)||gs.message||"Failed to save roster";lt.fire({icon:"error",title:"Error!",text:Ss,confirmButtonColor:"#3085d6"})}}catch(ns){console.error("Error saving roster:",ns),lt.fire({icon:"error",title:"Error!",text:ns.message||"Failed to save roster",confirmButtonColor:"#3085d6"})}finally{Nt(!1)}},bs=()=>{if(le.length===0){lt.fire({icon:"info",title:"No Assignments",text:"No roster assignments to view",confirmButtonColor:"#3085d6"});return}ie(!0)},Wn=async()=>{se(!0),xe(!0);try{const je=await Kp.getAllRosters();console.log("Roster API response:",je),J(Array.isArray(je)?je:[])}catch{lt.fire({icon:"error",title:"Error",text:"Failed to load rosters",confirmButtonColor:"#3085d6"}),J([])}finally{xe(!1)}},la=async je=>{je.preventDefault(),Rt(!0);try{const _t={};Object.keys(yt).forEach(ds=>{yt[ds]&&(_t[ds]=yt[ds])});const ns=(await Kp.searchRosters(_t)).map(ds=>{var gs,Ss,rn,ca,Ma,Bn,Sa,xa;return{id:ds.roster_details.id,roster_id:ds.roster_details.roster_id,shift_code:ds.roster_details.shift_code,company_id:(gs=ds.organization_details.company)==null?void 0:gs.id,company_name:(Ss=ds.organization_details.company)==null?void 0:Ss.name,department_id:(rn=ds.organization_details.department)==null?void 0:rn.id,department_name:(ca=ds.organization_details.department)==null?void 0:ca.name,sub_department_id:(Ma=ds.organization_details.sub_department)==null?void 0:Ma.id,sub_department_name:(Bn=ds.organization_details.sub_department)==null?void 0:Bn.name,employee_id:(Sa=ds.employee_details)==null?void 0:Sa.id,employee_name:(xa=ds.employee_details)==null?void 0:xa.full_name,date_from:ds.roster_details.date_from,date_to:ds.roster_details.date_to}});Zt(ns)}catch{lt.fire({icon:"error",title:"Error",text:"Failed to search rosters",confirmButtonColor:"#3085d6"})}finally{Rt(!1)}},bn=()=>{vt({date_from:"",date_to:"",company_id:"",department_id:"",sub_department_id:"",employee_id:""}),Zt([])};return n.jsxs("div",{className:" bg-gray-100 flex flex-col",children:[n.jsxs("div",{className:"bg-blue-600 text-white px-4 py-3 flex items-center justify-between shadow-md",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Roster Management System"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-sm bg-blue-700 px-3 py-1 rounded-full",children:"Filtering Options"}),n.jsx("button",{className:"bg-white text-blue-700 px-4 py-2 rounded shadow hover:bg-blue-100 font-semibold",onClick:Wn,children:"View All Rosters"})]})]}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsxs("div",{className:"w-80 bg-white border-r border-gray-300 flex flex-col shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"bg-gradient-to-r from-orange-100 to-orange-50 border border-orange-300 rounded-lg p-4 mb-4 shadow-sm",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 text-orange-800 flex items-center",children:[n.jsx(hn,{className:"w-4 h-4 mr-2"}),"Roster Date"]}),n.jsx("input",{type:"date",value:c,className:"w-full px-3 py-2 border border-orange-300 rounded-md text-sm bg-gray-50 cursor-not-allowed",readOnly:!0})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:s,onChange:je=>a(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:r,onChange:je=>o(je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("h3",{className:"font-semibold text-sm mb-3 text-gray-800",children:"Select Company / Department / Sub Department"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Company"}),M?n.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 flex items-center justify-center",children:[n.jsx("div",{className:"h-4 w-4 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),"Loading..."]}):q?n.jsx("div",{className:"w-full px-3 py-2 border border-red-300 bg-red-50 rounded-md text-sm text-red-600",children:"Error loading companies"}):n.jsxs("select",{value:N,onChange:je=>{_(je.target.value),C(""),L(""),Xe(new Set)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Company"}),B.map(je=>n.jsx("option",{value:je.id,children:je.name},je.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Department",!jt&&n.jsx("span",{className:"text-red-500",children:"*"})]}),ce?n.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 flex items-center justify-center",children:[n.jsx("div",{className:"h-4 w-4 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),"Loading..."]}):de?n.jsx("div",{className:"w-full px-3 py-2 border border-red-300 bg-red-50 rounded-md text-sm text-red-600",children:"Error loading departments"}):n.jsxs("select",{value:k,onChange:je=>{C(je.target.value),L("")},disabled:!N||jt,className:`w-full px-3 py-2 border border-gray-300 rounded-md text-sm 
                      focus:ring-2 focus:ring-blue-500 focus:border-transparent 
                      ${jt?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"",children:jt?"Not required in company mode":"Select Department"}),cs.map(je=>n.jsx("option",{value:je.id,children:je.name},je.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Sub Department",!jt&&n.jsx("span",{className:"text-red-500",children:"*"})]}),Ge?n.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50 flex items-center justify-center",children:[n.jsx("div",{className:"h-4 w-4 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),"Loading..."]}):ue?n.jsx("div",{className:"w-full px-3 py-2 border border-red-300 bg-red-50 rounded-md text-sm text-red-600",children:"Error loading sub-departments"}):n.jsxs("select",{value:D,onChange:je=>L(je.target.value),disabled:!k||jt,className:`w-full px-3 py-2 border border-gray-300 rounded-md text-sm 
                      focus:ring-2 focus:ring-blue-500 focus:border-transparent
                      ${jt?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,children:[n.jsx("option",{value:"",children:jt?"Not required in company mode":"Select Sub Department"}),Fe.map(je=>n.jsx("option",{value:je.id,children:je.name},je.id))]})]})]})]}),n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:"wise",id:"employee",checked:$==="employee",onChange:()=>W("employee"),className:"w-3 h-3 text-blue-600"}),n.jsx("label",{htmlFor:"employee",className:"text-xs font-medium text-gray-700",children:"Employee Wise"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",name:"wise",id:"designation",checked:$==="designation",onChange:()=>W("designation"),className:"w-3 h-3 text-blue-600"}),n.jsx("label",{htmlFor:"designation",className:"text-xs font-medium text-gray-700",children:"Designation Wise"})]})]}),n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"companyWise",checked:jt,onChange:()=>{jt||(C(""),L("")),js(!jt)},className:"w-4 h-4 text-blue-600 rounded"}),n.jsx("label",{htmlFor:"companyWise",className:"text-sm font-medium text-gray-700",children:"Company Wise"}),jt&&N&&n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[ut.length," employees"]})]}),jt&&n.jsx("div",{className:"mt-1 text-xs bg-blue-50 p-2 rounded-md border border-blue-100",children:n.jsxs("p",{className:"text-blue-700",children:[n.jsx("span",{className:"font-semibold",children:"Company-wide mode:"})," ","Department and Sub-Department selection not required"]})})]})]})]}),n.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Selected: "}),n.jsxs("span",{className:"font-semibold text-blue-700",children:[N&&Wt(N),!jt&&k&&` > ${Et(k)}`,!jt&&D&&` > ${hs(D)}`]}),jt&&N&&n.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Company-wide"})]}),(k&&D||jt&&N)&&ke.length>0&&n.jsxs("button",{className:"flex items-center text-blue-600 hover:underline text-xs",onClick:()=>O(!0),children:[n.jsx(Qc,{className:"w-4 h-4 mr-1"})," View All (",ke.length,")"]})]}),n.jsx("h3",{className:"font-semibold text-sm mb-3 text-gray-800",children:jt&&N?"Employees":N&&!k?"Departments":N&&k&&!D?"Sub Departments":"Employees"}),jt&&N&&n.jsxs("div",{children:[n.jsxs("div",{className:"mb-3 relative",children:[n.jsx(ga,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search employees...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:h,onChange:je=>f(je.target.value)})]}),n.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[Ze?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx("div",{className:"h-6 w-6 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),n.jsx("span",{children:"Loading employees..."})]}):ke.slice(0,5).map(je=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${U.has(je.id.toString())?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>$==="employee"&&is(je.id.toString()),children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:je.name}),je.empCode&&n.jsxs("span",{className:"text-xs text-gray-500 block",children:["ID: ",je.empCode]})]}),$==="employee"&&n.jsx("input",{type:"checkbox",checked:U.has(je.id.toString()),readOnly:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded",tabIndex:-1})]},je.id)),ke.length>5&&n.jsx("div",{className:"mt-2 text-center",children:n.jsxs("button",{className:"text-blue-600 text-sm hover:underline",onClick:()=>O(!0),children:["View all ",ke.length," employees"]})}),ke.length===0&&n.jsx("div",{className:"p-4 text-center text-gray-500",children:"No employees found"})]})]}),!jt&&N&&!k&&n.jsx("div",{className:"space-y-2",children:ce?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx("div",{className:"h-6 w-6 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),n.jsx("span",{children:"Loading departments..."})]}):de?n.jsx("div",{className:"p-4 text-center text-red-600",children:de}):cs.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"No departments found for this company"}):cs.map(je=>n.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${k===je.id.toString()?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>C(je.id.toString()),children:n.jsx("span",{className:"text-sm font-medium text-gray-700",children:je.name})},je.id))}),!jt&&k&&!D&&n.jsx("div",{className:"space-y-2",children:Ge?n.jsxs("div",{className:"flex items-center justify-center p-4",children:[n.jsx("div",{className:"h-6 w-6 mr-2 rounded-full border-2 border-t-blue-500 animate-spin"}),n.jsx("span",{children:"Loading sub-departments..."})]}):ue?n.jsx("div",{className:"p-4 text-center text-red-600",children:ue}):Fe.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"No sub-departments found for this department"}):Fe.map(je=>n.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${D===je.id.toString()?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>L(je.id.toString()),children:n.jsx("span",{className:"text-sm font-medium text-gray-700",children:je.name})},je.id))}),!jt&&k&&D&&n.jsx("div",{children:n.jsx("div",{className:"space-y-2",children:ke.slice(0,3).map(je=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all duration-200 ${U.has(je.id.toString())?"bg-gradient-to-r from-blue-100 to-blue-50 border-2 border-blue-300 shadow-md":"hover:bg-gray-50 border border-gray-200"}`,onClick:()=>$==="employee"&&is(je.id.toString()),children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:je.name}),$==="employee"&&n.jsx("input",{type:"checkbox",checked:U.has(je.id.toString()),readOnly:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded",tabIndex:-1})]},je.id))})})]}),re&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 relative",children:[n.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>O(!1),children:n.jsx(As,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-lg font-bold mb-4",children:"All Employees"}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(ga,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search employees...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:h,onChange:je=>f(je.target.value)})]})}),n.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:n.jsxs("table",{className:"min-w-full text-sm border",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"px-3 py-2 border",children:"ID"}),n.jsx("th",{className:"px-3 py-2 border",children:"Full Name"}),n.jsx("th",{className:"px-3 py-2 border",children:"Select"})]})}),n.jsx("tbody",{children:ke.map((je,_t)=>n.jsxs("tr",{className:_t%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-3 py-2 border",children:je.id}),n.jsx("td",{className:"px-3 py-2 border",children:je.name}),n.jsx("td",{className:"px-3 py-2 border text-center",children:n.jsx("input",{type:"checkbox",checked:U.has(je.id.toString()),onChange:()=>is(je.id.toString()),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})})]},je.id))})]})}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700",onClick:()=>O(!1),children:"Close"})})]})}),n.jsxs("div",{className:"flex-1 bg-white flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-orange-25",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Shift Selection"})}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("span",{className:"font-semibold",children:[s," - ",r]}),n.jsxs("span",{className:"font-semibold text-blue-600 ml-1",children:[N&&` | ${Wt(N)}`,k&&` > ${Et(k)}`,D&&` > ${hs(D)}`]})]})]}),n.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[n.jsxs("div",{className:"flex-1 overflow-hidden border border-gray-300 rounded-lg shadow mb-4 flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"relative",children:[n.jsx(ga,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search shifts by code or name...",className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:ss,onChange:je=>{Re(je.target.value),He(1)}})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:St?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading shifts..."})]}):Dt?n.jsxs("div",{className:"p-8 text-center text-red-500",children:[n.jsx("p",{children:Dt}),n.jsx("button",{onClick:vs,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Retry"})]}):n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"S.Code"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"Shift Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"Start Time"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-r border-blue-500",children:"End Time"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold border-blue-500",children:"Select"})]})}),n.jsx("tbody",{children:Ft.shifts.map((je,_t)=>n.jsxs("tr",{className:`${_t%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 transition-colors duration-150 border-b border-gray-200 
                          ${nt.has(je.id)?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[n.jsx("td",{className:"px-4 py-3 border-r border-gray-200",children:n.jsx("span",{className:"font-mono text-blue-600 font-semibold bg-blue-50 px-2 py-1 rounded",children:je.scode})}),n.jsx("td",{className:"px-4 py-3 border-r border-gray-200",children:n.jsx("span",{className:"font-medium text-gray-700",children:je.shiftName})}),n.jsx("td",{className:"px-4 py-3 border-r border-gray-200 font-mono text-green-600 font-semibold",children:je.shiftStart}),n.jsx("td",{className:"px-4 py-3 border-r border-gray-200 font-mono text-red-600 font-semibold",children:je.shiftEnd}),n.jsx("td",{className:"px-4 py-3 border-gray-200 text-center",children:n.jsx("button",{onClick:()=>mt(je),className:`w-6 h-6 rounded-full flex items-center justify-center ${nt.has(je.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:nt.has(je.id)?n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx(Zc,{className:"w-4 h-4"})})})]},je.id))})]})})]}),n.jsxs("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all duration-200 transform hover:scale-105",onClick:kt,disabled:nt.size===0||ke.length===0||$==="employee"&&U.size===0,children:["Add to Roster"," ",nt.size>0&&`(${nt.size} shifts)`]}),n.jsxs("div",{className:"flex space-x-2 mt-2",children:[n.jsx("button",{className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all duration-200",onClick:bs,children:"View Summary"}),n.jsx("button",{className:`flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-2 px-4 rounded-md text-sm font-semibold shadow-md transition-all duration-200 ${Pt?"opacity-50 cursor-not-allowed":""}`,onClick:ps,disabled:le.length===0||Pt,children:Pt?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Process Roster"})]})]})]})]}),R&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full p-6 relative",children:[n.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>ie(!1),children:n.jsx(As,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-lg font-bold mb-4",children:"Roster Summary"}),n.jsx("div",{className:"overflow-x-auto max-h-[70vh]",children:n.jsxs("table",{className:"min-w-full text-sm border",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 border",children:"Company"}),n.jsx("th",{className:"px-4 py-2 border",children:"Department"}),n.jsx("th",{className:"px-4 py-2 border",children:"Sub Department"}),n.jsx("th",{className:"px-4 py-2 border",children:"Shift"}),n.jsx("th",{className:"px-4 py-2 border",children:"Employees"}),n.jsx("th",{className:"px-4 py-2 border",children:"Date Range"})]})}),n.jsx("tbody",{children:le.map((je,_t)=>n.jsxs("tr",{className:_t%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-4 py-2 border",children:Wt(je.company)}),n.jsx("td",{className:"px-4 py-2 border",children:Et(je.department)}),n.jsx("td",{className:"px-4 py-2 border",children:hs(je.subDepartment)}),n.jsxs("td",{className:"px-4 py-2 border",children:[n.jsx("div",{className:"font-medium",children:je.shift.shiftName}),n.jsxs("div",{className:"text-xs text-gray-500",children:[je.shift.shiftStart," -"," ",je.shift.shiftEnd]})]}),n.jsxs("td",{className:"px-4 py-2 border",children:[je.employees.length," employees"]}),n.jsxs("td",{className:"px-4 py-2 border",children:[n.jsx("div",{children:je.dateFrom}),n.jsx("div",{children:je.dateTo})]})]},_t))})]})}),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700",onClick:()=>ie(!1),children:"Close"})})]})}),X&&n.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-opacity-40 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full p-6 relative",children:[n.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-700",onClick:()=>se(!1),children:n.jsx(As,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-lg font-bold mb-4",children:"All Rosters"}),n.jsxs("div",{className:"mb-6 border rounded-lg p-4 bg-gray-50",children:[n.jsx("h3",{className:"text-md font-semibold mb-3",children:"Search Rosters"}),n.jsxs("form",{onSubmit:la,className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:yt.date_from,onChange:je=>vt({...yt,date_from:je.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:yt.date_to,onChange:je=>vt({...yt,date_to:je.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Company"}),n.jsxs("select",{value:yt.company_id,onChange:je=>vt({...yt,company_id:je.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Company"}),B.map(je=>n.jsx("option",{value:je.id,children:je.name},je.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Department"}),n.jsxs("select",{value:yt.department_id,onChange:je=>vt({...yt,department_id:je.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Department"}),I.map(je=>n.jsx("option",{value:je.id,children:je.name},je.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Sub Department"}),n.jsxs("select",{value:yt.sub_department_id,onChange:je=>vt({...yt,sub_department_id:je.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select Sub Department"}),be.map(je=>n.jsx("option",{value:je.id,children:je.name},je.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Employee ID"}),n.jsx("input",{type:"text",placeholder:"Enter employee ID",value:yt.employee_id,onChange:je=>vt({...yt,employee_id:je.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"col-span-3 flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:bn,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Reset"}),n.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:Gt,children:Gt?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"inline-block h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Search"})]})]})]}),n.jsx("div",{className:"overflow-x-auto max-h-[55vh]",children:Q?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading rosters..."})]}):n.jsxs("table",{className:"min-w-full text-sm border",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 border",children:"Roster ID"}),n.jsx("th",{className:"px-4 py-2 border",children:"Shift Code"}),n.jsx("th",{className:"px-4 py-2 border",children:"Company"}),n.jsx("th",{className:"px-4 py-2 border",children:"Department"}),n.jsx("th",{className:"px-4 py-2 border",children:"Sub Dept"}),n.jsx("th",{className:"px-4 py-2 border",children:"Employee"}),n.jsx("th",{className:"px-4 py-2 border",children:"Date From"}),n.jsx("th",{className:"px-4 py-2 border",children:"Date To"})]})}),n.jsxs("tbody",{children:[(Mt.length>0?Mt:z).map((je,_t)=>{var Ut,ns,ds;return n.jsxs("tr",{className:_t%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-4 py-2 border",children:je.roster_id}),n.jsx("td",{className:"px-4 py-2 border",children:je.shift_code}),n.jsx("td",{className:"px-4 py-2 border",children:je.company_name||Wt((Ut=je.company_id)==null?void 0:Ut.toString())}),n.jsx("td",{className:"px-4 py-2 border",children:je.department_name||Et((ns=je.department_id)==null?void 0:ns.toString())}),n.jsx("td",{className:"px-4 py-2 border",children:je.sub_department_name||hs((ds=je.sub_department_id)==null?void 0:ds.toString())}),n.jsx("td",{className:"px-4 py-2 border",children:je.employee_name||je.employee_id}),n.jsx("td",{className:"px-4 py-2 border",children:je.date_from}),n.jsx("td",{className:"px-4 py-2 border",children:je.date_to})]},je.id||_t)}),Mt.length===0&&z.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-4 py-6 border text-center text-gray-500",children:"No roster data found"})})]})]})}),n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsx("div",{className:"text-sm text-gray-500",children:Mt.length>0?`Showing ${Mt.length} search results`:z.length>0?`Showing ${z.length} total rosters`:""}),n.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded shadow hover:bg-blue-700",onClick:()=>se(!1),children:"Close"})]})]})})]})},c6=async()=>{try{return(await bt.get("/leave-masters")).data}catch(t){return console.error("Error fetching leaves:",t),[]}},gR=async t=>{try{return(await bt.post("/leave-masters",t)).data}catch(e){throw console.error("Error creating leave:",e),e}},W0=async(t,e)=>{try{return(await bt.put(`/leave-masters/${t}`,e)).data}catch(s){throw console.error("Error updating leave:",s),s}},xR=async t=>{try{return(await bt.get(`/leave-masters/${t}`)).data}catch(e){return console.error("Error fetching leave:",e),null}},bR=async t=>{var e;try{return(await bt.get(`/Leave-Master/${t}/counts`)).data}catch(s){throw console.error("Error fetching leave counts:",((e=s.response)==null?void 0:e.data)||s),s}};async function d6(){try{return(await bt.get("/leave-calendars")).data}catch(t){return console.error("Error fetching leave calendar:",t),[]}}async function yR(t){try{return(await bt.post("/leave-calendars",t)).data}catch(e){throw console.error("Error creating leave entry:",e),e}}async function vR(t,e){try{return(await bt.put(`/leave-calendars/${t}`,e)).data}catch(s){throw console.error("Error updating leave entry:",s),s}}async function wR(t){try{return(await bt.delete(`/leave-calendars/${t}`)).data}catch(e){throw console.error("Error deleting leave entry:",e),e}}const NR=()=>{const[t,e]=P.useState({attendanceNo:"",epfNo:"",employeeName:"",department:"",reportingDate:R(),leaveType:"",leaveDateType:"fullDay",halfDayPeriod:"morning",leaveDate:{single:R(),from:R(),to:R()},reason:""}),[s,a]=P.useState(!1),[r,o]=P.useState(""),[c,d]=P.useState(!1),[h,f]=P.useState([]),[p,x]=P.useState(!1),[v,y]=P.useState(""),[N,_]=P.useState(!1),[k,C]=P.useState([]),[D,L]=P.useState(!1),[$,W]=P.useState([]),[le,ee]=P.useState(null),[U,oe]=P.useState(null),re={"Annual Leave":14,"Casual Leave":7,"Medical Leave":7,"Unpaid Leave":0,"Special Leave":3},O=["Annual Leave","Casual Leave","Medical Leave","Unpaid Leave","Special Leave"];function R(){return new Date().toISOString().split("T")[0]}function ie(Y){return Y?(typeof Y=="string"?new Date(Y):Y).toISOString().split("T")[0]:""}function X(Y){return{id:Y.id,leaveDate:Y.leave_date?ie(Y.leave_date):`${ie(Y.leave_from)} to ${ie(Y.leave_to)}`,reportDate:ie(Y.reporting_date),fullHalfDay:Y.leave_date?Y.period?`Half Day (${Y.period})`:"Full Day":"Multiple Days",leaveType:Y.leave_type,status:Y.status}}const se=(Y,I)=>{const G=[];return I&&Y.forEach(ce=>{if(ce.company_id===I&&ce.start_date){const pe=new Date(ce.start_date),de=ce.end_date?new Date(ce.end_date):new Date(ce.start_date);for(let Ne=new Date(pe);Ne<=de;Ne.setDate(Ne.getDate()+1))G.push(ie(new Date(Ne)))}}),G},z=Y=>{const{name:I,value:G}=Y.target;if(I.includes("leaveDate")&&$.includes(G)){lt.fire({icon:"error",title:"Date Not Available",html:`
            <div class="text-left">
              <p>This date (${J(G)}) is not available for leave requests because:</p>
              <ul class="list-disc pl-5 mt-2">
                <li>It's marked as an event day</li>
                <li>Or it's already booked as leave</li>
              </ul>
              <p class="mt-3 text-sm">Please select a different date.</p>
            </div>
          `,confirmButtonColor:"#3085d6",confirmButtonText:"Ok, I understand",customClass:{popup:"rounded-xl",confirmButton:"rounded-lg text-sm px-5 py-2.5"}});return}if(I.includes(".")){const[ce,pe]=I.split(".");e({...t,[ce]:{...t[ce],[pe]:G}})}else e({...t,[I]:G})},J=Y=>{const I={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(Y).toLocaleDateString(void 0,I)},Q=Y=>$.includes(Y),xe=Y=>{const I="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200";return Q(Y)?`${I} bg-red-50 border-red-300 text-red-700 cursor-not-allowed`:`${I} border-gray-300`},B=Y=>Q(Y)?n.jsxs("div",{className:"absolute z-10 bottom-full mb-2 left-0 bg-red-600 text-white text-xs rounded px-2 py-1 whitespace-nowrap",children:[n.jsx(zr,{className:"inline mr-1 w-3 h-3"}),"Unavailable date (event or existing leave)"]}):null,me=async(Y,I)=>{var G,ce;if(Y){d(!0);try{const[pe,de]=await Promise.all([xR(Y),d6()]),Ne=(ce=(G=I==null?void 0:I.organization_assignment)==null?void 0:G.company)==null?void 0:ce.id,be=se(de,Ne);if(W(be),pe&&Array.isArray(pe)){const Te=pe.map(X);f(Te)}else f([])}catch(pe){console.error("Error fetching employee leaves:",pe),f([])}finally{d(!1)}}},M=async Y=>{if(Y){L(!0);try{const I=await bR(Y);if(I&&Array.isArray(I)){const G=Object.keys(re).map((ce,pe)=>{const de=I.find(Ge=>Ge.leave_type===ce)||{count:0},Ne=re[ce],be=de.count,Te=Ne-be;return{id:pe+1,leaveType:ce,total:Ne,usage:be,balance:Te}});C(G)}else{const G=Object.keys(re).map((ce,pe)=>({id:pe+1,leaveType:ce,total:re[ce],usage:0,balance:re[ce]}));C(G)}}catch(I){console.error("Error fetching leave usage data:",I);const G=Object.keys(re).map((ce,pe)=>({id:pe+1,leaveType:ce,total:re[ce],usage:0,balance:re[ce]}));C(G)}finally{L(!1)}}},T=async()=>{var Y,I;if(!t.attendanceNo){o("Please enter an employee number");return}a(!0),o("");try{const G=await Wl.fetchEmployeeById(t.attendanceNo);if(G)oe(G),e({...t,epfNo:G.epf||"",employeeName:G.name_with_initials||"",department:((I=(Y=G.organization_assignment)==null?void 0:Y.department)==null?void 0:I.name)||""}),await Promise.all([me(t.attendanceNo,G),M(t.attendanceNo)]);else{o("Employee not found"),f([]),oe(null);const ce=Object.keys(re).map((pe,de)=>({id:de+1,leaveType:pe,total:re[pe],usage:0,balance:re[pe]}));C(ce)}}catch(G){console.error("Error fetching employee data:",G),o("Failed to retrieve employee data. Please try again."),f([]),oe(null)}finally{a(!1)}},q=async Y=>{Y.preventDefault(),y(""),_(!1),x(!0);try{let I=[];if(t.leaveDateType==="fullDay")Q(t.leaveDate.single)&&I.push(t.leaveDate.single);else if(t.leaveDateType==="halfDay")Q(t.leaveDate.single)&&I.push(t.leaveDate.single);else if(t.leaveDateType==="manual"){const pe=new Date(t.leaveDate.from),de=new Date(t.leaveDate.to);for(let Ne=new Date(pe);Ne<=de;Ne.setDate(Ne.getDate()+1)){const be=ie(Ne);Q(be)&&I.push(be)}}if(I.length>0){const pe=I.map(de=>J(de)).join(", ");lt.fire({icon:"error",title:"Invalid Date Selection",html:`
            <div class="text-left">
              <p>The following selected dates are not available:</p>
              <ul class="list-disc pl-5 mt-2">
                ${I.map(de=>`<li>${J(de)}</li>`).join("")}
              </ul>
              <p class="mt-3 text-sm">Please adjust your leave dates and try again.</p>
            </div>
          `,confirmButtonColor:"#3085d6",confirmButtonText:"Ok, I understand",customClass:{popup:"rounded-xl",confirmButton:"rounded-lg text-sm px-5 py-2.5"}});return}let G={employee_id:parseInt(t.attendanceNo),reporting_date:t.reportingDate,leave_type:t.leaveType,reason:t.reason,status:"Pending",leave_date:null,leave_from:null,leave_to:null,period:null};t.leaveDateType==="fullDay"?G.leave_date=t.leaveDate.single:t.leaveDateType==="halfDay"?(G.leave_date=t.leaveDate.single,G.period=t.halfDayPeriod==="morning"?"Morning":"Afternoon"):t.leaveDateType==="manual"&&(G.leave_from=t.leaveDate.from,G.leave_to=t.leaveDate.to);const ce=await gR(G);await Promise.all([me(t.attendanceNo),M(t.attendanceNo)]),_(!0),e({attendanceNo:t.attendanceNo,epfNo:t.epfNo,employeeName:t.employeeName,department:t.department,reportingDate:R(),leaveType:"",leaveDateType:"fullDay",halfDayPeriod:"morning",leaveDate:{single:R(),from:R(),to:R()},reason:""})}catch(I){console.error("Error submitting leave request:",I),y("Failed to submit leave request. Please try again.")}finally{x(!1)}};return P.useEffect(()=>{const Y=Object.keys(re).map((I,G)=>({id:G+1,leaveType:I,total:re[I],usage:0,balance:re[I]}));C(Y)},[]),n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:n.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Leave Master"}),n.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Employee Leave Management System"})]}),n.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[N&&n.jsxs("div",{className:"mb-6 bg-green-100 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(po,{className:"w-5 h-5 mr-2"}),n.jsx("span",{children:"Leave request submitted successfully!"})]}),n.jsx("button",{onClick:()=>_(!1),className:"text-green-700 hover:text-green-900",children:n.jsx(As,{className:"w-4 h-4"})})]}),v&&n.jsxs("div",{className:"mb-6 bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(As,{className:"w-5 h-5 mr-2"}),n.jsx("span",{children:v})]}),n.jsx("button",{onClick:()=>y(""),className:"text-red-700 hover:text-red-900",children:n.jsx(As,{className:"w-4 h-4"})})]}),n.jsx("form",{onSubmit:q,children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["EMP number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex",children:[n.jsx("input",{type:"text",name:"attendanceNo",value:t.attendanceNo,onChange:z,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter employee number"}),n.jsx("button",{type:"button",className:"ml-2 p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",onClick:T,disabled:s,children:s?n.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-blue-600 rounded-full animate-spin"}):n.jsx(ga,{className:"w-5 h-5"})})]}),r&&n.jsx("p",{className:"text-xs text-red-500 mt-1",children:r})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"EPF No"}),n.jsx("input",{type:"text",name:"epfNo",value:t.epfNo,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"EPF number"})]}),n.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Employee Name"}),n.jsx("input",{type:"text",name:"employeeName",value:t.employeeName,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Employee name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),n.jsx("input",{type:"text",name:"department",value:t.department,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Department"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Reporting Date"}),n.jsx("input",{type:"date",name:"reportingDate",value:t.reportingDate,disabled:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 bg-gray-50 text-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Leave Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"leaveType",value:t.leaveType,onChange:z,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-white",children:[n.jsx("option",{value:"",children:"Select Leave Type"}),O.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Leave Duration ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"radio",id:"fullDay",name:"leaveDateType",value:"fullDay",checked:t.leaveDateType==="fullDay",onChange:z,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"fullDay",className:"text-sm text-gray-700",children:"Full Day"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"radio",id:"halfDay",name:"leaveDateType",value:"halfDay",checked:t.leaveDateType==="halfDay",onChange:z,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"halfDay",className:"text-sm text-gray-700",children:"Half Day"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"radio",id:"manual",name:"leaveDateType",value:"manual",checked:t.leaveDateType==="manual",onChange:z,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"manual",className:"text-sm text-gray-700",children:"Date Range"})]})]}),t.leaveDateType==="fullDay"&&n.jsxs("div",{className:"mb-4 relative",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),n.jsxs("div",{className:"relative",onMouseEnter:()=>ee(t.leaveDate.single),onMouseLeave:()=>ee(null),children:[n.jsx("input",{type:"date",name:"leaveDate.single",value:t.leaveDate.single,onChange:z,required:!0,className:xe(t.leaveDate.single),min:R(),onKeyDown:Y=>Y.preventDefault()}),le===t.leaveDate.single&&B(t.leaveDate.single)]}),Q(t.leaveDate.single)&&n.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[n.jsx(zr,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]}),t.leaveDateType==="halfDay"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Date"}),n.jsxs("div",{className:"relative",onMouseEnter:()=>ee(t.leaveDate.single),onMouseLeave:()=>ee(null),children:[n.jsx("input",{type:"date",name:"leaveDate.single",value:t.leaveDate.single,onChange:z,required:!0,className:xe(t.leaveDate.single),min:R(),onKeyDown:Y=>Y.preventDefault()}),le===t.leaveDate.single&&B(t.leaveDate.single)]}),Q(t.leaveDate.single)&&n.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[n.jsx(zr,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Period"}),n.jsxs("select",{name:"halfDayPeriod",value:t.halfDayPeriod,onChange:z,required:!0,className:"w-full sm:w-1/2 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[n.jsx("option",{value:"morning",children:"Morning"}),n.jsx("option",{value:"afternoon",children:"Afternoon"})]})]})]}),t.leaveDateType==="manual"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),n.jsxs("div",{className:"relative",onMouseEnter:()=>ee(t.leaveDate.from),onMouseLeave:()=>ee(null),children:[n.jsx("input",{type:"date",name:"leaveDate.from",value:t.leaveDate.from,onChange:z,required:!0,className:xe(t.leaveDate.from),min:R(),onKeyDown:Y=>Y.preventDefault()}),le===t.leaveDate.from&&B(t.leaveDate.from)]}),Q(t.leaveDate.from)&&n.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[n.jsx(zr,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),n.jsxs("div",{className:"relative",onMouseEnter:()=>ee(t.leaveDate.to),onMouseLeave:()=>ee(null),children:[n.jsx("input",{type:"date",name:"leaveDate.to",value:t.leaveDate.to,onChange:z,required:!0,className:xe(t.leaveDate.to),min:t.leaveDate.from,onKeyDown:Y=>Y.preventDefault()}),le===t.leaveDate.to&&B(t.leaveDate.to)]}),Q(t.leaveDate.to)&&n.jsxs("p",{className:"mt-1 text-xs text-red-600 flex items-center",children:[n.jsx(zr,{className:"w-3 h-3 mr-1"}),"This date is unavailable for leave"]})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),n.jsx("textarea",{name:"reason",value:t.reason,onChange:z,rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Reason for leave"})]}),n.jsx("div",{className:"mt-4 text-xs text-gray-500",children:n.jsxs("p",{children:["Marked with ",n.jsx("span",{className:"text-red-500",children:"*"})," are required"]})})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[n.jsx("button",{type:"button",className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",onClick:()=>{e({attendanceNo:"",epfNo:"",employeeName:"",department:"",reportingDate:R(),leaveType:"",leaveDateType:"fullDay",halfDayPeriod:"morning",leaveDate:{single:R(),from:R(),to:R()},reason:""}),o(""),y(""),_(!1),f([])},disabled:p,children:"Clear Form"}),n.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-medium rounded-lg hover:from-blue-700 hover:to-blue-800 transition-colors shadow-md hover:shadow-lg flex items-center justify-center min-w-[150px]",disabled:p||!t.attendanceNo,children:p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}),n.jsx("span",{children:"Submitting..."})]}):"Submit Leave Request"})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"Leave Usage Summary"}),t.employeeName&&n.jsx("span",{className:"text-sm text-gray-600",children:t.employeeName})]}),n.jsx("div",{className:"overflow-x-auto",children:D?n.jsxs("div",{className:"py-10 text-center",children:[n.jsx("div",{className:"inline-block w-6 h-6 border-t-2 border-b-2 border-blue-600 rounded-full animate-spin"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading leave usage data..."})]}):n.jsxs("table",{className:"min-w-full bg-white border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Leave Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Total"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Usage"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Balance"})]})}),n.jsxs("tbody",{children:[k.map(Y=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.id}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.leaveType}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.total}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.usage}),n.jsx("td",{className:"px-4 py-3 border text-sm font-medium text-blue-600",children:Y.balance})]},Y.id)),k.length===0&&!D&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"px-4 py-8 border text-center text-gray-500",children:t.employeeName?"No leave usage data available for this employee":"Search for an employee to view leave balances"})})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-5",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-medium text-gray-800",children:"Employee Leave Record"}),t.employeeName&&n.jsx("span",{className:"text-sm text-gray-600",children:t.employeeName})]}),n.jsx("div",{className:"overflow-x-auto",children:c?n.jsxs("div",{className:"py-10 text-center",children:[n.jsx("div",{className:"inline-block w-6 h-6 border-t-2 border-b-2 border-blue-600 rounded-full animate-spin"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading leave records..."})]}):n.jsxs("table",{className:"min-w-full bg-white border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Leave Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Report Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Full/Half Day"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Leave Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border",children:"Status"})]})}),n.jsxs("tbody",{children:[h.map(Y=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.id}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.leaveDate}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.reportDate}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.fullHalfDay}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:Y.leaveType}),n.jsx("td",{className:"px-4 py-3 border text-sm",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.status==="Approved"?"bg-green-100 text-green-800":Y.status==="Rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Y.status})})]},Y.id)),h.length===0&&!c&&n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-4 py-8 border text-center text-gray-500",children:t.employeeName?"No leave records found for this employee":"Search for an employee to view their leave records"})})]})]})})]})]})]})})]})]})})})},u6=6048e5,jR=864e5,h6=6e4,f6=36e5,nN=Symbol.for("constructDateFrom");function Xl(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&nN in t?t[nN](e):t instanceof Date?new t.constructor(e):new Date(e)}function fi(t,e){return Xl(e||t,t)}let SR={};function jg(){return SR}function pm(t,e){var d,h,f,p;const s=jg(),a=(e==null?void 0:e.weekStartsOn)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,r=fi(t,e==null?void 0:e.in),o=r.getDay(),c=(o<a?7:0)+o-a;return r.setDate(r.getDate()-c),r.setHours(0,0,0,0),r}function G0(t,e){return pm(t,{...e,weekStartsOn:1})}function m6(t,e){const s=fi(t,e==null?void 0:e.in),a=s.getFullYear(),r=Xl(s,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const o=G0(r),c=Xl(s,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=G0(c);return s.getTime()>=o.getTime()?a+1:s.getTime()>=d.getTime()?a:a-1}function aN(t){const e=fi(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function _R(t,...e){const s=Xl.bind(null,e.find(a=>typeof a=="object"));return e.map(s)}function rN(t,e){const s=fi(t,e==null?void 0:e.in);return s.setHours(0,0,0,0),s}function AR(t,e,s){const[a,r]=_R(s==null?void 0:s.in,t,e),o=rN(a),c=rN(r),d=+o-aN(o),h=+c-aN(c);return Math.round((d-h)/jR)}function CR(t,e){const s=m6(t,e),a=Xl(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),G0(a)}function kR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function DR(t){return!(!kR(t)&&typeof t!="number"||isNaN(+fi(t)))}function ER(t,e){const s=fi(t,e==null?void 0:e.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const LR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TR=(t,e,s)=>{let a;const r=LR[t];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function rb(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const MR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},PR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RR={date:rb({formats:MR,defaultWidth:"full"}),time:rb({formats:PR,defaultWidth:"full"}),dateTime:rb({formats:OR,defaultWidth:"full"})},FR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BR=(t,e,s,a)=>FR[t];function Pf(t){return(e,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let r;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=s!=null&&s.width?String(s.width):c;r=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=s!=null&&s.width?String(s.width):t.defaultWidth;r=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return r[o]}}const zR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$R=(t,e)=>{const s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},YR={ordinalNumber:$R,era:Pf({values:zR,defaultWidth:"wide"}),quarter:Pf({values:IR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pf({values:qR,defaultWidth:"wide"}),day:Pf({values:UR,defaultWidth:"wide"}),dayPeriod:Pf({values:VR,defaultWidth:"wide",formattingValues:HR,defaultFormattingWidth:"wide"})};function Of(t){return(e,s={})=>{const a=s.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],o=e.match(r);if(!o)return null;const c=o[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?GR(d,x=>x.test(c)):WR(d,x=>x.test(c));let f;f=t.valueCallback?t.valueCallback(h):h,f=s.valueCallback?s.valueCallback(f):f;const p=e.slice(c.length);return{value:f,rest:p}}}function WR(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function GR(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function XR(t){return(e,s={})=>{const a=e.match(t.matchPattern);if(!a)return null;const r=a[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=s.valueCallback?s.valueCallback(c):c;const d=e.slice(r.length);return{value:c,rest:d}}}const KR=/^(\d+)(th|st|nd|rd)?/i,ZR=/\d+/i,JR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QR={any:[/^b/i,/^(a|c)/i]},e9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t9={any:[/1/i,/2/i,/3/i,/4/i]},s9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},r9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l9={ordinalNumber:XR({matchPattern:KR,parsePattern:ZR,valueCallback:t=>parseInt(t,10)}),era:Of({matchPatterns:JR,defaultMatchWidth:"wide",parsePatterns:QR,defaultParseWidth:"any"}),quarter:Of({matchPatterns:e9,defaultMatchWidth:"wide",parsePatterns:t9,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Of({matchPatterns:s9,defaultMatchWidth:"wide",parsePatterns:n9,defaultParseWidth:"any"}),day:Of({matchPatterns:a9,defaultMatchWidth:"wide",parsePatterns:r9,defaultParseWidth:"any"}),dayPeriod:Of({matchPatterns:i9,defaultMatchWidth:"any",parsePatterns:o9,defaultParseWidth:"any"})},c9={code:"en-US",formatDistance:TR,formatLong:RR,formatRelative:BR,localize:YR,match:l9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function d9(t,e){const s=fi(t,e==null?void 0:e.in);return AR(s,ER(s))+1}function u9(t,e){const s=fi(t,e==null?void 0:e.in),a=+G0(s)-+CR(s);return Math.round(a/u6)+1}function p6(t,e){var p,x,v,y;const s=fi(t,e==null?void 0:e.in),a=s.getFullYear(),r=jg(),o=(e==null?void 0:e.firstWeekContainsDate)??((x=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(v=r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,c=Xl((e==null?void 0:e.in)||t,0);c.setFullYear(a+1,0,o),c.setHours(0,0,0,0);const d=pm(c,e),h=Xl((e==null?void 0:e.in)||t,0);h.setFullYear(a,0,o),h.setHours(0,0,0,0);const f=pm(h,e);return+s>=+d?a+1:+s>=+f?a:a-1}function h9(t,e){var d,h,f,p;const s=jg(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,r=p6(t,e),o=Xl((e==null?void 0:e.in)||t,0);return o.setFullYear(r,0,a),o.setHours(0,0,0,0),pm(o,e)}function f9(t,e){const s=fi(t,e==null?void 0:e.in),a=+pm(s,e)-+h9(s,e);return Math.round(a/u6)+1}function tn(t,e){const s=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return s+a}const Bc={y(t,e){const s=t.getFullYear(),a=s>0?s:1-s;return tn(e==="yy"?a%100:a,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):tn(s+1,2)},d(t,e){return tn(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return tn(t.getHours()%12||12,e.length)},H(t,e){return tn(t.getHours(),e.length)},m(t,e){return tn(t.getMinutes(),e.length)},s(t,e){return tn(t.getSeconds(),e.length)},S(t,e){const s=e.length,a=t.getMilliseconds(),r=Math.trunc(a*Math.pow(10,s-3));return tn(r,e.length)}},Ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iN={G:function(t,e,s){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const a=t.getFullYear(),r=a>0?a:1-a;return s.ordinalNumber(r,{unit:"year"})}return Bc.y(t,e)},Y:function(t,e,s,a){const r=p6(t,a),o=r>0?r:1-r;if(e==="YY"){const c=o%100;return tn(c,2)}return e==="Yo"?s.ordinalNumber(o,{unit:"year"}):tn(o,e.length)},R:function(t,e){const s=m6(t);return tn(s,e.length)},u:function(t,e){const s=t.getFullYear();return tn(s,e.length)},Q:function(t,e,s){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return tn(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,s){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return tn(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,s){const a=t.getMonth();switch(e){case"M":case"MM":return Bc.M(t,e);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,s){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return tn(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,s,a){const r=f9(t,a);return e==="wo"?s.ordinalNumber(r,{unit:"week"}):tn(r,e.length)},I:function(t,e,s){const a=u9(t);return e==="Io"?s.ordinalNumber(a,{unit:"week"}):tn(a,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Bc.d(t,e)},D:function(t,e,s){const a=d9(t);return e==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):tn(a,e.length)},E:function(t,e,s){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,s,a){const r=t.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return tn(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,s,a){const r=t.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return tn(o,e.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,s){const a=t.getDay(),r=a===0?7:a;switch(e){case"i":return String(r);case"ii":return tn(r,e.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,s){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,s){const a=t.getHours();let r;switch(a===12?r=Ku.noon:a===0?r=Ku.midnight:r=a/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,s){const a=t.getHours();let r;switch(a>=17?r=Ku.evening:a>=12?r=Ku.afternoon:a>=4?r=Ku.morning:r=Ku.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Bc.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Bc.H(t,e)},K:function(t,e,s){const a=t.getHours()%12;return e==="Ko"?s.ordinalNumber(a,{unit:"hour"}):tn(a,e.length)},k:function(t,e,s){let a=t.getHours();return a===0&&(a=24),e==="ko"?s.ordinalNumber(a,{unit:"hour"}):tn(a,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bc.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Bc.s(t,e)},S:function(t,e){return Bc.S(t,e)},X:function(t,e,s){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return lN(a);case"XXXX":case"XX":return Vd(a);case"XXXXX":case"XXX":default:return Vd(a,":")}},x:function(t,e,s){const a=t.getTimezoneOffset();switch(e){case"x":return lN(a);case"xxxx":case"xx":return Vd(a);case"xxxxx":case"xxx":default:return Vd(a,":")}},O:function(t,e,s){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+oN(a,":");case"OOOO":default:return"GMT"+Vd(a,":")}},z:function(t,e,s){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+oN(a,":");case"zzzz":default:return"GMT"+Vd(a,":")}},t:function(t,e,s){const a=Math.trunc(+t/1e3);return tn(a,e.length)},T:function(t,e,s){return tn(+t,e.length)}};function oN(t,e=""){const s=t>0?"-":"+",a=Math.abs(t),r=Math.trunc(a/60),o=a%60;return o===0?s+String(r):s+String(r)+e+tn(o,2)}function lN(t,e){return t%60===0?(t>0?"-":"+")+tn(Math.abs(t)/60,2):Vd(t,e)}function Vd(t,e=""){const s=t>0?"-":"+",a=Math.abs(t),r=tn(Math.trunc(a/60),2),o=tn(a%60,2);return s+r+e+o}const cN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},g6=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},m9=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],a=s[1],r=s[2];if(!r)return cN(t,e);let o;switch(a){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",cN(a,e)).replace("{{time}}",g6(r,e))},p9={p:g6,P:m9},g9=/^D+$/,x9=/^Y+$/,b9=["D","DD","YY","YYYY"];function y9(t){return g9.test(t)}function v9(t){return x9.test(t)}function w9(t,e,s){const a=N9(t,e,s);if(console.warn(a),b9.includes(t))throw new RangeError(a)}function N9(t,e,s){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const j9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_9=/^'([^]*?)'?$/,A9=/''/g,C9=/[a-zA-Z]/;function Zp(t,e,s){var p,x,v,y;const a=jg(),r=a.locale??c9,o=a.firstWeekContainsDate??((x=(p=a.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,c=a.weekStartsOn??((y=(v=a.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,d=fi(t,s==null?void 0:s.in);if(!DR(d))throw new RangeError("Invalid time value");let h=e.match(S9).map(N=>{const _=N[0];if(_==="p"||_==="P"){const k=p9[_];return k(N,r.formatLong)}return N}).join("").match(j9).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const _=N[0];if(_==="'")return{isToken:!1,value:k9(N)};if(iN[_])return{isToken:!0,value:N};if(_.match(C9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:N}});r.localize.preprocessor&&(h=r.localize.preprocessor(d,h));const f={firstWeekContainsDate:o,weekStartsOn:c,locale:r};return h.map(N=>{if(!N.isToken)return N.value;const _=N.value;(v9(_)||y9(_))&&w9(_,e,String(t));const k=iN[_[0]];return k(d,_,r.localize,f)}).join("")}function k9(t){const e=t.match(_9);return e?e[1].replace(A9,"'"):t}function dN(t,e){const s=()=>Xl(e==null?void 0:e.in,NaN),r=T9(t);let o;if(r.date){const f=M9(r.date,2);o=P9(f.restDateString,f.year)}if(!o||isNaN(+o))return s();const c=+o;let d=0,h;if(r.time&&(d=O9(r.time),isNaN(d)))return s();if(r.timezone){if(h=R9(r.timezone),isNaN(h))return s()}else{const f=new Date(c+d),p=fi(0,e==null?void 0:e.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return fi(c+d+h,e==null?void 0:e.in)}const Jp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},D9=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,E9=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L9=/^([+-])(\d{2})(?::?(\d{2}))?$/;function T9(t){const e={},s=t.split(Jp.dateTimeDelimiter);let a;if(s.length>2)return e;if(/:/.test(s[0])?a=s[0]:(e.date=s[0],a=s[1],Jp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Jp.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const r=Jp.timezone.exec(a);r?(e.time=a.replace(r[1],""),e.timezone=r[1]):e.time=a}return e}function M9(t,e){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(s);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,o=a[2]?parseInt(a[2]):null;return{year:o===null?r:o*100,restDateString:t.slice((a[1]||a[2]).length)}}function P9(t,e){if(e===null)return new Date(NaN);const s=t.match(D9);if(!s)return new Date(NaN);const a=!!s[4],r=Rf(s[1]),o=Rf(s[2])-1,c=Rf(s[3]),d=Rf(s[4]),h=Rf(s[5])-1;if(a)return q9(e,d,h)?F9(e,d,h):new Date(NaN);{const f=new Date(0);return!z9(e,o,c)||!I9(e,r)?new Date(NaN):(f.setUTCFullYear(e,o,Math.max(r,c)),f)}}function Rf(t){return t?parseInt(t):1}function O9(t){const e=t.match(E9);if(!e)return NaN;const s=ib(e[1]),a=ib(e[2]),r=ib(e[3]);return U9(s,a,r)?s*f6+a*h6+r*1e3:NaN}function ib(t){return t&&parseFloat(t.replace(",","."))||0}function R9(t){if(t==="Z")return 0;const e=t.match(L9);if(!e)return 0;const s=e[1]==="+"?-1:1,a=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return V9(a,r)?s*(a*f6+r*h6):NaN}function F9(t,e,s){const a=new Date(0);a.setUTCFullYear(t,0,4);const r=a.getUTCDay()||7,o=(e-1)*7+s+1-r;return a.setUTCDate(a.getUTCDate()+o),a}const B9=[31,null,31,30,31,30,31,31,30,31,30,31];function x6(t){return t%400===0||t%4===0&&t%100!==0}function z9(t,e,s){return e>=0&&e<=11&&s>=1&&s<=(B9[e]||(x6(t)?29:28))}function I9(t,e){return e>=1&&e<=(x6(t)?366:365)}function q9(t,e,s){return e>=1&&e<=53&&s>=0&&s<=6}function U9(t,e,s){return t===24?e===0&&s===0:s>=0&&s<60&&e>=0&&e<60&&t>=0&&t<25}function V9(t,e){return e>=0&&e<=59}const H9=()=>{const[t,e]=P.useState(""),[s,a]=P.useState(new Date().getFullYear()),[r,o]=P.useState(""),[c,d]=P.useState(!1),[h,f]=P.useState(!1),[p,x]=P.useState(Zp(new Date,"yyyy-MM-dd")),[v,y]=P.useState([]),[N,_]=P.useState([]),[k,C]=P.useState([]),[D,L]=P.useState(!1),[$,W]=P.useState(1),[le]=P.useState(20),[ee,U]=P.useState(0),oe=["January","February","March","April","May","June","July","August","September","October","November","December"],re=Array.from({length:6},(I,G)=>new Date().getFullYear()-G),O=async()=>{d(!0);try{const I={page:$,per_page:le};t&&(I.month=oe.indexOf(t)+1),s&&(I.year=s),r&&(I.search=r);const G=await bt.get("/no-pay-records",{params:I});y(G.data.data||G.data),U(G.data.total||G.data.length)}catch{lt.fire({icon:"error",title:"Error",text:"Failed to fetch no-pay records",confirmButtonColor:"#3b82f6"})}finally{d(!1)}},R=async()=>{try{const I=await bt.get("/employees?status=Active");_(I.data)}catch(I){console.error("Error fetching employees:",I)}},[ie,X]=P.useState({totalRecords:0,totalDays:0,affectedEmployees:0}),se=async()=>{try{const I={};t&&(I.month=oe.indexOf(t)+1),s&&(I.year=s);const G=await bt.get("/no-pay-records/stats",{params:I});X({totalRecords:G.data.total_records,totalDays:G.data.total_days,affectedEmployees:G.data.affected_employees})}catch(I){console.error("Error fetching stats:",I)}};P.useEffect(()=>{O(),R()},[t,s,$,le]),P.useEffect(()=>{se()},[t,s,v]);const z=I=>{C(G=>G.includes(I)?G.filter(ce=>ce!==I):[...G,I])},J=()=>{C(D?[]:v.map(I=>I.id)),L(!D)},Q=async I=>{if(k.length===0){lt.fire({icon:"warning",title:"No records selected",text:"Please select at least one record to update",confirmButtonColor:"#3b82f6"});return}if((await lt.fire({title:"Update Status?",text:`This will update ${k.length} records to ${I}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",confirmButtonText:"Update",cancelButtonText:"Cancel"})).isConfirmed)try{const ce=await bt.post("/no-pay-records/bulk-update",{ids:k,status:I});lt.fire({icon:"success",title:"Success!",text:ce.data.message,confirmButtonColor:"#3b82f6"}),O(),se(),C([]),L(!1)}catch{lt.fire({icon:"error",title:"Error",text:"Failed to update records",confirmButtonColor:"#3b82f6"})}},xe=async()=>{if(k.length===0){lt.fire({icon:"warning",title:"No records selected",text:"Please select at least one record to delete",confirmButtonColor:"#3b82f6"});return}if((await lt.fire({title:"Delete Records?",text:`This will permanently delete ${k.length} records`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#ef4444",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const G=await bt.delete("/no-pay-records/bulk-delete",{data:{ids:k}});lt.fire({icon:"success",title:"Success!",text:G.data.message,confirmButtonColor:"#3b82f6"}),O(),se(),C([]),L(!1)}catch{lt.fire({icon:"error",title:"Error",text:"Failed to delete records",confirmButtonColor:"#3b82f6"})}},B=async I=>{if((await lt.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#ef4444",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await bt.delete(`/no-pay-records/${I}`),y(v.filter(ce=>ce.id!==I)),lt.fire({icon:"success",title:"Deleted!",text:"Record has been deleted.",confirmButtonColor:"#3b82f6"}),se()}catch{lt.fire({icon:"error",title:"Error",text:"Failed to delete record",confirmButtonColor:"#3b82f6"})}},me=async()=>{var I,G;f(!0);try{if((await lt.fire({title:"Generate No-Pay Records?",text:`This will generate records for ${Zp(new Date(p),"MMMM d, yyyy")}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",confirmButtonText:"Generate",cancelButtonText:"Cancel"})).isConfirmed){const pe=await bt.post("/no-pay-records/generate",{date:p});lt.fire({icon:"success",title:"Success!",text:pe.data.message,confirmButtonColor:"#3b82f6"}),O(),se()}}catch(ce){lt.fire({icon:"error",title:"Error",text:((G=(I=ce.response)==null?void 0:I.data)==null?void 0:G.message)||"Failed to generate no-pay records",confirmButtonColor:"#3b82f6"})}finally{f(!1)}},M=()=>{const I=window.open("","_blank","height=600,width=800"),G=new Date().toLocaleString();I.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>No Pay Days Report</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
            .report-header { text-align: center; margin-bottom: 20px; }
            .report-header h1 { margin-bottom: 5px; }
            .report-meta { font-size: 14px; margin-bottom: 20px; color: #666; }
            table { width: 100%; border-collapse: collapse; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; font-weight: bold; }
            tr:nth-child(even) { background-color: #f9f9f9; }
            .report-footer { margin-top: 30px; font-size: 12px; text-align: center; color: #666; }
          </style>
        </head>
        <body>
          <div class="report-header">
            <h1>No Pay Days Report</h1>
            <p>Generated on: ${G}</p>
          </div>
          
          <div class="report-meta">
            ${t?`<strong>Month:</strong> ${t} ${s} | `:""}
            <strong>Total Records:</strong> ${T.length}
          </div>
          
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Emp No</th>
                <th>Name</th>
                <th>No Pay Count</th>
                <th>Description</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${T.map(ce=>{var pe,de;return`
                <tr>
                  <td>${Zp(dN(ce.date),"MMM dd, yyyy")}</td>
                  <td>${((pe=ce.employee)==null?void 0:pe.attendance_employee_no)||"N/A"}</td>
                  <td>${((de=ce.employee)==null?void 0:de.full_name)||"N/A"}</td>
                  <td>${ce.no_pay_count}</td>
                  <td>${ce.description}</td>
                  <td>${ce.status}</td>
                </tr>
              `}).join("")}
            </tbody>
          </table>
          
          <div class="report-footer">
            <p>HR System - Cybernetic Software Solutions</p>
          </div>
        </body>
      </html>
    `),I.document.write(`
      <div style="margin-top: 20px; padding: 10px; border-top: 1px solid #ddd;">
        <p><strong>Summary:</strong> Total No Pay Days: ${ie.totalDays} | Affected Employees: ${ie.affectedEmployees}</p>
      </div>
    `),I.document.close(),I.focus(),I.print()},T=v.filter(I=>{var Ne,be,Te,Ge,Ee;if(!r)return!0;const G=r.toLowerCase(),ce=((be=(Ne=I.employee)==null?void 0:Ne.attendance_employee_no)==null?void 0:be.toString())||"",pe=((Ge=(Te=I.employee)==null?void 0:Te.full_name)==null?void 0:Ge.toString())||"",de=((Ee=I.description)==null?void 0:Ee.toString())||"";return ce.toLowerCase().includes(G)||pe.toLowerCase().includes(G)||de.toLowerCase().includes(G)}),q=I=>W(I),Y=Math.ceil(ee/le);return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:n.jsxs("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:[n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"NoPay Management"}),n.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Manage employee no pay records and absences"})]}),n.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[k.length>0&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-blue-800 font-medium",children:[k.length," record(s) selected"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>Q("Approved"),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg flex items-center gap-2",children:[n.jsx(Oi,{className:"w-4 h-4"}),"Approve Selected"]}),n.jsxs("button",{onClick:()=>Q("Rejected"),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg flex items-center gap-2",children:[n.jsx(As,{className:"w-4 h-4"}),"Reject Selected"]}),n.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg flex items-center gap-2",children:[n.jsx(or,{className:"w-4 h-4"}),"Delete Selected"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Month"}),n.jsxs("select",{value:t,onChange:I=>{e(I.target.value),W(1)},className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Months"}),oe.map(I=>n.jsx("option",{value:I,children:I},I))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Year"}),n.jsx("select",{value:s,onChange:I=>{a(parseInt(I.target.value)),W(1)},className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:re.map(I=>n.jsx("option",{value:I,children:I},I))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Date for Generation"}),n.jsx("input",{type:"date",value:p,onChange:I=>x(I.target.value),className:"w-full p-3 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm"})]}),n.jsx("div",{className:"flex items-end gap-2",children:n.jsxs("button",{onClick:me,disabled:h,className:"px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-xl transition-colors flex items-center gap-2 disabled:opacity-50",children:[h?n.jsx(o0,{className:"w-5 h-5 animate-spin"}):n.jsx(o0,{className:"w-5 h-5"}),"Generate Records"]})})]}),n.jsxs("div",{className:"relative flex-grow mb-6",children:[n.jsx("input",{type:"text",placeholder:"Search by employee number, name or description...",value:r,onChange:I=>{o(I.target.value),W(1)},className:"w-full p-3 pl-10 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"}),n.jsx(ga,{className:"absolute left-3 top-3.5 text-gray-400"})]}),n.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden mb-6",children:c?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),n.jsx("p",{className:"mt-2",children:"Loading records..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n.jsx("input",{type:"checkbox",checked:D,onChange:J,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emp No"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No Pay Count"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:T.length>0?T.map(I=>{var G,ce;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"checkbox",checked:k.includes(I.id),onChange:()=>z(I.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Zp(dN(I.date),"MMM dd, yyyy")}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((G=I.employee)==null?void 0:G.attendance_employee_no)||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ce=I.employee)==null?void 0:ce.full_name)||"N/A"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:I.no_pay_count}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 max-w-xs truncate",children:I.description}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("select",{value:I.status,onChange:async pe=>{try{await bt.put(`/no-pay-records/${I.id}`,{status:pe.target.value}),O(),se()}catch{lt.fire({icon:"error",title:"Error",text:"Failed to update status",confirmButtonColor:"#3b82f6"})}},className:`px-2 py-1 text-xs rounded-full ${I.status==="Approved"?"bg-green-100 text-green-800":I.status==="Rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[n.jsx("option",{value:"Pending",className:"bg-yellow-100",children:"Pending"}),n.jsx("option",{value:"Approved",className:"bg-green-100",children:"Approved"}),n.jsx("option",{value:"Rejected",className:"bg-red-100",children:"Rejected"})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center flex justify-center gap-2",children:n.jsx("button",{onClick:()=>B(I.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-full transition-colors",title:"Delete record",children:n.jsx(or,{className:"w-5 h-5"})})})]},I.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-16 text-center text-gray-500",children:"No records found. Adjust your filters or add new records."})})})]})}),ee>le&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",n.jsx("span",{className:"font-medium",children:($-1)*le+1})," to"," ",n.jsx("span",{className:"font-medium",children:Math.min($*le,ee)})," ","of ",n.jsx("span",{className:"font-medium",children:ee})," records"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>q($-1),disabled:$===1,className:"px-3 py-1 border border-gray-300 rounded-md flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(ng,{className:"w-4 h-4"}),"Previous"]}),Array.from({length:Y},(I,G)=>G+1).map(I=>n.jsx("button",{onClick:()=>q(I),className:`px-3 py-1 rounded-md ${$===I?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:I},I)),n.jsxs("button",{onClick:()=>q($+1),disabled:$===Y,className:"px-3 py-1 border border-gray-300 rounded-md flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",n.jsx(ru,{className:"w-4 h-4"})]})]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4",children:[n.jsxs("button",{onClick:M,className:"px-6 py-3 bg-gradient-to-r from-teal-600 to-teal-700 text-white font-medium rounded-lg hover:from-teal-700 hover:to-teal-800 transition-colors shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[n.jsx(YC,{className:"w-5 h-5"}),"Print"]}),n.jsxs("button",{onClick:()=>{O(),se()},className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-medium rounded-lg hover:from-gray-700 hover:to-gray-800 transition-colors shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[n.jsx(o0,{className:"w-5 h-5"}),"Refresh"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mt-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total No Pay Records"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ie.totalRecords})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:n.jsx(jr,{className:"w-6 h-6 text-red-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total No Pay Days"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ie.totalDays})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:n.jsx(hn,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Affected Employees"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ie.affectedEmployees})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(vr,{className:"w-6 h-6 text-blue-600"})})]})})]})]})})},$9=()=>{var Ze,ct;const[t,e]=P.useState(new Date().getMonth()),[s,a]=P.useState(new Date().getFullYear()),[r,o]=P.useState([]),[c,d]=P.useState([]),[h,f]=P.useState(!1),[p,x]=P.useState([]),[v,y]=P.useState(!1),[N,_]=P.useState(""),[k,C]=P.useState("Annual"),[D,L]=P.useState(""),[$,W]=P.useState(""),[le,ee]=P.useState(""),[U,oe]=P.useState(""),[re,O]=P.useState([]),[R,ie]=P.useState([]),[X,se]=P.useState(""),[z,J]=P.useState(""),[Q,xe]=P.useState(!1),B=()=>new Date().toISOString().split("T")[0];P.useEffect(()=>{(async()=>{xe(!0);try{const Ye=await cu();O(Ye)}catch(Ye){console.error("Error loading companies:",Ye),lt.fire({icon:"error",title:"Error",text:"Failed to load companies. Please try again later."})}finally{xe(!1)}})()},[]),P.useEffect(()=>{(async()=>{if(X)try{const Ye=await s2(X);ie(Ye),J("")}catch(Ye){console.error("Error loading departments:",Ye)}else ie([]),J("")})()},[X]),P.useEffect(()=>{(async()=>{if(X){xe(!0);try{const pt=(await d6()).filter(rt=>z?rt.company_id==X&&(rt.department_id==null||rt.department_id==z):rt.company_id==X&&rt.department_id==null).map(rt=>{const Dt=ce(rt.start_date,rt.end_date||rt.start_date);return{id:rt.id,dates:Dt,startDate:rt.start_date,endDate:rt.end_date||rt.start_date,description:rt.reason||"",type:rt.leave_type,status:"Approved",duration:Dt.length,company_id:rt.company_id,department_id:rt.department_id}});d(pt);const St=pt.flatMap(rt=>rt.dates);o(St)}catch(Ye){console.error("Error loading leave data:",Ye),lt.fire({icon:"error",title:"Error",text:"Failed to load leave calendar data. Please try again later."})}finally{xe(!1)}}else d([]),o([])})()},[X,z]);const me=["January","February","March","April","May","June","July","August","September","October","November","December"],M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],T=[{value:"Annual",color:"bg-blue-500",lightColor:"bg-blue-100",textColor:"text-blue-800"},{value:"Event",color:"bg-red-500",lightColor:"bg-red-100",textColor:"text-red-800"},{value:"Personal",color:"bg-green-500",lightColor:"bg-green-100",textColor:"text-green-800"},{value:"Emergency",color:"bg-orange-500",lightColor:"bg-orange-100",textColor:"text-orange-800"},{value:"Maternity",color:"bg-purple-500",lightColor:"bg-purple-100",textColor:"text-purple-800"},{value:"Other",color:"bg-gray-500",lightColor:"bg-gray-100",textColor:"text-gray-800"}],q=(ve,Ye)=>new Date(Ye,ve+1,0).getDate(),Y=(ve,Ye)=>new Date(Ye,ve,1).getDay(),I=()=>{const ve=q(t,s),Ye=Y(t,s),ht=[];for(let pt=0;pt<Ye;pt++)ht.push(null);for(let pt=1;pt<=ve;pt++)ht.push(pt);return ht},G=ve=>{if(!ve)return null;const Ye=`${s}-${String(t+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`;return c.find(ht=>ht.dates&&ht.dates.includes(Ye))},ce=(ve,Ye)=>{const ht=[],pt=new Date(ve+"T00:00:00"),St=new Date(Ye+"T00:00:00"),rt=new Date(pt);for(;rt<=St;){const Dt=`${rt.getFullYear()}-${String(rt.getMonth()+1).padStart(2,"0")}-${String(rt.getDate()).padStart(2,"0")}`;ht.push(Dt),rt.setDate(rt.getDate()+1)}return ht},pe=ve=>{if(!ve)return;const Ye=`${s}-${String(t+1).padStart(2,"0")}-${String(ve).padStart(2,"0")}`,ht=new Date(Ye),pt=new Date;if(pt.setHours(0,0,0,0),ht<pt){lt.fire({title:"Invalid Date",text:"You cannot select past dates for leave requests",icon:"warning"});return}const St=c.find(rt=>rt.dates&&rt.dates.includes(Ye));if(St)lt.fire({title:"Remove Leave Request?",text:"Do you want to remove this leave request?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, remove it",cancelButtonText:"Cancel"}).then(rt=>{rt.isConfirmed&&wR(St.id).then(()=>{o(Dt=>Dt.filter(fe=>!St.dates.includes(fe))),d(Dt=>Dt.filter(fe=>fe.id!==St.id)),lt.fire({title:"Deleted!",text:"Leave request has been removed.",icon:"success",timer:2e3,showConfirmButton:!1})}).catch(Dt=>{lt.fire({title:"Error",text:"Failed to delete leave request.",icon:"error"})})});else{if(!X){lt.fire({title:"Company Required",text:"Please select a company before adding a leave request",icon:"warning"});return}W(Ye),ee(Ye),_(""),C("Annual"),f(!0)}},de=ve=>{e(parseInt(ve.target.value))},Ne=ve=>{a(Ye=>Ye+ve)},be=async()=>{if($&&N.trim()){if(le&&new Date($)>new Date(le)){lt.fire({title:"Date Error",text:"End date cannot be before start date!",icon:"error"});return}if(k==="Other"&&!U.trim()){lt.fire({title:"Input Required",text:"Please enter a custom leave type!",icon:"warning"});return}const ve=k==="Other"?U.trim():k,Ye=ce($,le||$);if(Ye.some(pt=>c.some(St=>St.dates&&St.dates.includes(pt)))){lt.fire({title:"Date Conflict",text:"Some dates in this range already have leave requests!",icon:"warning"});return}try{xe(!0);const pt={company_id:parseInt(X),leave_type:ve,reason:N.trim(),start_date:$,end_date:le&&le!==$?le:null};z&&(pt.department_id=parseInt(z));const rt={id:(await yR(pt)).id,dates:Ye,startDate:$,endDate:le||$,description:N.trim(),type:ve,status:"Approved",duration:Ye.length,company_id:parseInt(X),department_id:z?parseInt(z):null};o(Dt=>[...Dt,...Ye]),d(Dt=>[...Dt,rt]),_(""),C("Annual"),oe(""),W(""),ee(""),f(!1),lt.fire({title:"Success!",text:"Leave request has been added.",icon:"success",timer:2e3,showConfirmButton:!1})}catch(pt){console.error("Error saving leave request:",pt),lt.fire({title:"Error",text:"Failed to save leave request. Please try again.",icon:"error"})}finally{xe(!1)}}},Te=()=>{_(""),C("Annual"),oe(""),W(""),ee(""),f(!1)},Ge=async()=>{if(c.length===0){lt.fire({title:"No Requests",text:"No leave requests to process!",icon:"info"});return}const ve=c.filter(ht=>ht.status==="Pending");if(ve.length===0){lt.fire({title:"No Pending Requests",text:"No pending leave requests to process!",icon:"info"});return}const{isConfirmed:Ye}=await lt.fire({title:"Process Requests?",text:`Process ${ve.length} pending leave request(s)?`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, process them",cancelButtonText:"Cancel"});if(Ye){xe(!0);try{const ht=ve.map(pt=>vR(pt.id,{status:"Approved"}));await Promise.all(ht),d(pt=>pt.map(St=>St.status==="Pending"?{...St,status:"Approved"}:St)),lt.fire({title:"Success!",text:`${ve.length} leave request(s) approved successfully!`,icon:"success",timer:2e3,showConfirmButton:!1})}catch(ht){console.error("Error processing leave requests:",ht),lt.fire({title:"Error",text:"Failed to process some leave requests. Please try again.",icon:"error"})}finally{xe(!1)}}},Ee=ve=>new Date(ve+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),ue=(ve,Ye)=>ve===Ye?Ee(ve):`${Ee(ve)} - ${Ee(Ye)}`,gt=ve=>T.find(Ye=>Ye.value===ve)||T[0],ut=c.filter(ve=>ve.description.toLowerCase().includes(D.toLowerCase())||ve.type.toLowerCase().includes(D.toLowerCase())||ue(ve.startDate,ve.endDate).toLowerCase().includes(D.toLowerCase())),Ve=I();return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:n.jsx(hn,{className:"w-6 h-6 text-white"})}),"Leave Calendar"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track employee leave requests"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>Ne(-1),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ng,{size:20})}),n.jsx("span",{className:"text-lg font-semibold text-gray-900 min-w-[80px] text-center",children:s}),n.jsx("button",{onClick:()=>Ne(1),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ru,{size:20})})]})]})}),n.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{value:X,onChange:ve=>se(ve.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[n.jsx("option",{value:"",children:"Select Company"}),re.map(ve=>n.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsxs("div",{className:"relative",children:[n.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{value:z,onChange:ve=>J(ve.target.value),disabled:!X,className:`w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${X?"":"bg-gray-100 cursor-not-allowed"}`,children:[n.jsx("option",{value:"",children:"Select Department"}),R.map(ve=>n.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]})]})]}),n.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1 bg-blue-100 rounded-full",children:n.jsx(hn,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"How to use:"}),n.jsx("p",{className:"text-blue-800 text-sm",children:"Select a company to create company-wide leaves or select both company and department for department-specific leaves. Click on any calendar day to add a leave request. You can specify date ranges for multi-day leave. Click on existing leave days to remove them."})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ut.length})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:ut.filter(ve=>ve.status==="Approved").length})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(po,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:ut.filter(ve=>ve.status==="Pending").length})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-xl",children:n.jsx(jr,{className:"w-6 h-6 text-orange-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:ut.filter(ve=>ve.dates&&ve.dates.some(Ye=>{const ht=new Date(Ye+"T00:00:00");return ht.getMonth()===t&&ht.getFullYear()===s})).length})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:n.jsx(Ha,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-2",children:"Month"}),n.jsx("select",{value:t,onChange:de,className:"px-4 py-3 border border-gray-200 rounded-xl bg-white text-lg min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:me.map((ve,Ye)=>n.jsx("option",{value:Ye,children:ve},Ye))})]}),n.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[M.map(ve=>n.jsx("div",{className:"p-3 text-center font-semibold text-gray-600 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl",children:ve},ve)),Ve.map((ve,Ye)=>{const ht=G(ve),pt=ht?gt(ht.type):null;return n.jsx("div",{onClick:()=>pe(ve),className:`
                        h-20 p-3 border border-gray-200 rounded-xl cursor-pointer transition-all duration-200 relative
                        ${ve?"hover:shadow-lg hover:scale-[1.02]":"cursor-default"}
                        ${ht?`${pt.color} text-white hover:brightness-75`:"bg-white hover:bg-gray-10 hover:border-gray-300"}
                        ${ve?"":"bg-gray-50 border-gray-100"}
                      `,children:ve&&n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("span",{className:`text-lg font-semibold ${ht?"text-white":"text-gray-900"}`,children:ve}),ht&&n.jsxs("div",{className:"mt-1",children:[n.jsx("span",{className:"text-xs opacity-90 block truncate",children:ht.type}),n.jsxs("span",{className:"text-xs opacity-75 block truncate",children:[ht.duration,"d "," ",ht.status]})]})]})},Ye)})]})]})}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Leave Requests"}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:ut.length})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx(ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search requests...",value:D,onChange:ve=>L(ve.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:ut.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx(hn,{className:"w-8 h-8 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 font-medium",children:"No leave requests"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:X&&z?"Click on calendar days to add requests":"Select a company and department"})]}):ut.map(ve=>{const Ye=gt(ve.type),ht=re.find(St=>St.id==ve.company_id),pt=R.find(St=>St.id==ve.department_id);return n.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Ye.lightColor} ${Ye.textColor}`,children:ve.type}),n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ve.status==="Approved"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:ve.status}),n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[ve.duration," day",ve.duration>1?"s":""]})]})}),ht&&pt&&n.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[ht.name,"  ",pt.name]}),n.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:ue(ve.startDate,ve.endDate)}),n.jsx("div",{className:"text-sm text-gray-600",children:ve.description})]},ve.id)})}),ut.filter(ve=>ve.status==="Pending").length>0&&n.jsx("button",{onClick:Ge,disabled:Q,className:`
                    w-full mt-6 py-3 px-4 rounded-xl font-semibold text-white transition-all duration-200 shadow-lg
                    bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 hover:shadow-xl transform hover:-translate-y-0.5
                    ${Q?"opacity-70 cursor-not-allowed":""}
                  `,children:Q?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(di,{className:"w-5 h-5 animate-spin mr-2"}),"Processing..."]}):n.jsxs(n.Fragment,{children:["Process Pending (",ut.filter(ve=>ve.status==="Pending").length,")"]})})]})})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black/40 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Leave Request"}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Select date range for your leave"})]}),n.jsx("button",{onClick:Te,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-xl",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Company"}),n.jsx("p",{className:"font-medium text-gray-800",children:(Ze=re.find(ve=>ve.id==X))==null?void 0:Ze.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-500",children:"Department"}),n.jsx("p",{className:"font-medium text-gray-800",children:((ct=R.find(ve=>ve.id==z))==null?void 0:ct.name)||n.jsx("span",{className:"text-gray-400 italic",children:"Company-wide"})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:$,min:B(),onChange:ve=>{const Ye=new Date(ve.target.value),ht=new Date;if(ht.setHours(0,0,0,0),Ye<ht){lt.fire({title:"Invalid Date",text:"You cannot select past dates for leave requests",icon:"warning"});return}W(ve.target.value)},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),n.jsx("input",{type:"date",value:le,min:$||B(),onChange:ve=>{const Ye=new Date(ve.target.value),ht=new Date;if(ht.setHours(0,0,0,0),Ye<ht){lt.fire({title:"Invalid Date",text:"You cannot select past dates for leave requests",icon:"warning"});return}ee(ve.target.value)},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),$&&le&&n.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[n.jsxs("p",{className:"text-blue-800 text-sm",children:[n.jsx("strong",{children:"Duration:"})," ",ce($,le).length," day",ce($,le).length>1?"s":""]}),n.jsx("p",{className:"text-blue-600 text-xs mt-1",children:ue($,le)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Leave Type"}),n.jsx("select",{value:k,onChange:ve=>{C(ve.target.value),ve.target.value!=="Other"&&oe("")},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:T.map(ve=>n.jsx("option",{value:ve.value,children:ve.value},ve.value))}),k==="Other"&&n.jsx("div",{className:"mt-3",children:n.jsx("input",{type:"text",value:U,onChange:ve=>oe(ve.target.value),placeholder:"Enter leave type...",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reason for Leave *"}),n.jsx("textarea",{value:N,onChange:ve=>_(ve.target.value),placeholder:"Enter reason for leave...",className:"w-full p-3 border border-gray-200 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",rows:"4",autoFocus:!0})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-100 bg-gray-50",children:[n.jsx("button",{onClick:Te,className:"px-6 py-3 text-gray-600 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-medium",disabled:Q,children:"Cancel"}),n.jsx("button",{onClick:be,disabled:!$||!N.trim()||Q,className:`
                  px-6 py-3 rounded-xl font-medium transition-all shadow-lg
                  ${$&&N.trim()&&!Q?"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 transform hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed shadow-none"}
                `,children:Q?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(di,{className:"w-5 h-5 animate-spin mr-2"}),"Saving..."]}):"Add Request"})]})]})}),Q&&n.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mb-4"}),n.jsx("p",{className:"text-gray-600 font-medium text-sm sm:text-base",children:"Loading calendar data..."})]})})]})},Y9="modulepreload",W9=function(t){return"/"+t},uN={},Jb=function(e,s,a){let r=Promise.resolve();if(s&&s.length>0){let c=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=c(s.map(f=>{if(f=W9(f),f in uN)return;uN[f]=!0;const p=f.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Y9,p||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((y,N)=>{v.addEventListener("load",y),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function an(t){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(t)}var ir=Uint8Array,ui=Uint16Array,b2=Int32Array,Sg=new ir([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_g=new ir([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qb=new ir([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b6=function(t,e){for(var s=new ui(31),a=0;a<31;++a)s[a]=e+=1<<t[a-1];for(var r=new b2(s[30]),a=1;a<30;++a)for(var o=s[a];o<s[a+1];++o)r[o]=o-s[a]<<5|a;return{b:s,r}},y6=b6(Sg,2),v6=y6.b,ey=y6.r;v6[28]=258,ey[258]=28;var w6=b6(_g,0),G9=w6.b,hN=w6.r,ty=new ui(32768);for(var Nn=0;Nn<32768;++Nn){var zc=(Nn&43690)>>1|(Nn&21845)<<1;zc=(zc&52428)>>2|(zc&13107)<<2,zc=(zc&61680)>>4|(zc&3855)<<4,ty[Nn]=((zc&65280)>>8|(zc&255)<<8)>>1}var il=function(t,e,s){for(var a=t.length,r=0,o=new ui(e);r<a;++r)t[r]&&++o[t[r]-1];var c=new ui(e);for(r=1;r<e;++r)c[r]=c[r-1]+o[r-1]<<1;var d;if(s){d=new ui(1<<e);var h=15-e;for(r=0;r<a;++r)if(t[r])for(var f=r<<4|t[r],p=e-t[r],x=c[t[r]-1]++<<p,v=x|(1<<p)-1;x<=v;++x)d[ty[x]>>h]=f}else for(d=new ui(a),r=0;r<a;++r)t[r]&&(d[r]=ty[c[t[r]-1]++]>>15-t[r]);return d},sd=new ir(288);for(var Nn=0;Nn<144;++Nn)sd[Nn]=8;for(var Nn=144;Nn<256;++Nn)sd[Nn]=9;for(var Nn=256;Nn<280;++Nn)sd[Nn]=7;for(var Nn=280;Nn<288;++Nn)sd[Nn]=8;var gm=new ir(32);for(var Nn=0;Nn<32;++Nn)gm[Nn]=5;var X9=il(sd,9,0),K9=il(sd,9,1),Z9=il(gm,5,0),J9=il(gm,5,1),ob=function(t){for(var e=t[0],s=1;s<t.length;++s)t[s]>e&&(e=t[s]);return e},co=function(t,e,s){var a=e/8|0;return(t[a]|t[a+1]<<8)>>(e&7)&s},lb=function(t,e){var s=e/8|0;return(t[s]|t[s+1]<<8|t[s+2]<<16)>>(e&7)},y2=function(t){return(t+7)/8|0},N6=function(t,e,s){return(s==null||s>t.length)&&(s=t.length),new ir(t.subarray(e,s))},Q9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fo=function(t,e,s){var a=new Error(e||Q9[t]);if(a.code=t,Error.captureStackTrace&&Error.captureStackTrace(a,fo),!s)throw a;return a},eF=function(t,e,s,a){var r=t.length,o=0;if(!r||e.f&&!e.l)return s||new ir(0);var c=!s,d=c||e.i!=2,h=e.i;c&&(s=new ir(r*3));var f=function(Ne){var be=s.length;if(Ne>be){var Te=new ir(Math.max(be*2,Ne));Te.set(s),s=Te}},p=e.f||0,x=e.p||0,v=e.b||0,y=e.l,N=e.d,_=e.m,k=e.n,C=r*8;do{if(!y){p=co(t,x,1);var D=co(t,x+1,3);if(x+=3,D)if(D==1)y=K9,N=J9,_=9,k=5;else if(D==2){var le=co(t,x,31)+257,ee=co(t,x+10,15)+4,U=le+co(t,x+5,31)+1;x+=14;for(var oe=new ir(U),re=new ir(19),O=0;O<ee;++O)re[Qb[O]]=co(t,x+O*3,7);x+=ee*3;for(var R=ob(re),ie=(1<<R)-1,X=il(re,R,1),O=0;O<U;){var se=X[co(t,x,ie)];x+=se&15;var L=se>>4;if(L<16)oe[O++]=L;else{var z=0,J=0;for(L==16?(J=3+co(t,x,3),x+=2,z=oe[O-1]):L==17?(J=3+co(t,x,7),x+=3):L==18&&(J=11+co(t,x,127),x+=7);J--;)oe[O++]=z}}var Q=oe.subarray(0,le),xe=oe.subarray(le);_=ob(Q),k=ob(xe),y=il(Q,_,1),N=il(xe,k,1)}else fo(1);else{var L=y2(x)+4,$=t[L-4]|t[L-3]<<8,W=L+$;if(W>r){h&&fo(0);break}d&&f(v+$),s.set(t.subarray(L,W),v),e.b=v+=$,e.p=x=W*8,e.f=p;continue}if(x>C){h&&fo(0);break}}d&&f(v+131072);for(var B=(1<<_)-1,me=(1<<k)-1,M=x;;M=x){var z=y[lb(t,x)&B],T=z>>4;if(x+=z&15,x>C){h&&fo(0);break}if(z||fo(2),T<256)s[v++]=T;else if(T==256){M=x,y=null;break}else{var q=T-254;if(T>264){var O=T-257,Y=Sg[O];q=co(t,x,(1<<Y)-1)+v6[O],x+=Y}var I=N[lb(t,x)&me],G=I>>4;I||fo(3),x+=I&15;var xe=G9[G];if(G>3){var Y=_g[G];xe+=lb(t,x)&(1<<Y)-1,x+=Y}if(x>C){h&&fo(0);break}d&&f(v+131072);var ce=v+q;if(v<xe){var pe=o-xe,de=Math.min(xe,ce);for(pe+v<0&&fo(3);v<de;++v)s[v]=a[pe+v]}for(;v<ce;++v)s[v]=s[v-xe]}}e.l=y,e.p=M,e.b=v,e.f=p,y&&(p=1,e.m=_,e.d=N,e.n=k)}while(!p);return v!=s.length&&c?N6(s,0,v):s.subarray(0,v)},Ul=function(t,e,s){s<<=e&7;var a=e/8|0;t[a]|=s,t[a+1]|=s>>8},Ff=function(t,e,s){s<<=e&7;var a=e/8|0;t[a]|=s,t[a+1]|=s>>8,t[a+2]|=s>>16},cb=function(t,e){for(var s=[],a=0;a<t.length;++a)t[a]&&s.push({s:a,f:t[a]});var r=s.length,o=s.slice();if(!r)return{t:S6,l:0};if(r==1){var c=new ir(s[0].s+1);return c[s[0].s]=1,{t:c,l:1}}s.sort(function(W,le){return W.f-le.f}),s.push({s:-1,f:25001});var d=s[0],h=s[1],f=0,p=1,x=2;for(s[0]={s:-1,f:d.f+h.f,l:d,r:h};p!=r-1;)d=s[s[f].f<s[x].f?f++:x++],h=s[f!=p&&s[f].f<s[x].f?f++:x++],s[p++]={s:-1,f:d.f+h.f,l:d,r:h};for(var v=o[0].s,a=1;a<r;++a)o[a].s>v&&(v=o[a].s);var y=new ui(v+1),N=sy(s[p-1],y,0);if(N>e){var a=0,_=0,k=N-e,C=1<<k;for(o.sort(function(le,ee){return y[ee.s]-y[le.s]||le.f-ee.f});a<r;++a){var D=o[a].s;if(y[D]>e)_+=C-(1<<N-y[D]),y[D]=e;else break}for(_>>=k;_>0;){var L=o[a].s;y[L]<e?_-=1<<e-y[L]++-1:++a}for(;a>=0&&_;--a){var $=o[a].s;y[$]==e&&(--y[$],++_)}N=e}return{t:new ir(y),l:N}},sy=function(t,e,s){return t.s==-1?Math.max(sy(t.l,e,s+1),sy(t.r,e,s+1)):e[t.s]=s},fN=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new ui(++e),a=0,r=t[0],o=1,c=function(h){s[a++]=h},d=1;d<=e;++d)if(t[d]==r&&d!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(r),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(r);o=1,r=t[d]}return{c:s.subarray(0,a),n:e}},Bf=function(t,e){for(var s=0,a=0;a<e.length;++a)s+=t[a]*e[a];return s},j6=function(t,e,s){var a=s.length,r=y2(e+2);t[r]=a&255,t[r+1]=a>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var o=0;o<a;++o)t[r+o+4]=s[o];return(r+4+a)*8},mN=function(t,e,s,a,r,o,c,d,h,f,p){Ul(e,p++,s),++r[256];for(var x=cb(r,15),v=x.t,y=x.l,N=cb(o,15),_=N.t,k=N.l,C=fN(v),D=C.c,L=C.n,$=fN(_),W=$.c,le=$.n,ee=new ui(19),U=0;U<D.length;++U)++ee[D[U]&31];for(var U=0;U<W.length;++U)++ee[W[U]&31];for(var oe=cb(ee,7),re=oe.t,O=oe.l,R=19;R>4&&!re[Qb[R-1]];--R);var ie=f+5<<3,X=Bf(r,sd)+Bf(o,gm)+c,se=Bf(r,v)+Bf(o,_)+c+14+3*R+Bf(ee,re)+2*ee[16]+3*ee[17]+7*ee[18];if(h>=0&&ie<=X&&ie<=se)return j6(e,p,t.subarray(h,h+f));var z,J,Q,xe;if(Ul(e,p,1+(se<X)),p+=2,se<X){z=il(v,y,0),J=v,Q=il(_,k,0),xe=_;var B=il(re,O,0);Ul(e,p,L-257),Ul(e,p+5,le-1),Ul(e,p+10,R-4),p+=14;for(var U=0;U<R;++U)Ul(e,p+3*U,re[Qb[U]]);p+=3*R;for(var me=[D,W],M=0;M<2;++M)for(var T=me[M],U=0;U<T.length;++U){var q=T[U]&31;Ul(e,p,B[q]),p+=re[q],q>15&&(Ul(e,p,T[U]>>5&127),p+=T[U]>>12)}}else z=X9,J=sd,Q=Z9,xe=gm;for(var U=0;U<d;++U){var Y=a[U];if(Y>255){var q=Y>>18&31;Ff(e,p,z[q+257]),p+=J[q+257],q>7&&(Ul(e,p,Y>>23&31),p+=Sg[q]);var I=Y&31;Ff(e,p,Q[I]),p+=xe[I],I>3&&(Ff(e,p,Y>>5&8191),p+=_g[I])}else Ff(e,p,z[Y]),p+=J[Y]}return Ff(e,p,z[256]),p+J[256]},tF=new b2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),S6=new ir(0),sF=function(t,e,s,a,r,o){var c=o.z||t.length,d=new ir(a+c+5*(1+Math.ceil(c/7e3))+r),h=d.subarray(a,d.length-r),f=o.l,p=(o.r||0)&7;if(e){p&&(h[0]=o.r>>3);for(var x=tF[e-1],v=x>>13,y=x&8191,N=(1<<s)-1,_=o.p||new ui(32768),k=o.h||new ui(N+1),C=Math.ceil(s/3),D=2*C,L=function(Ge){return(t[Ge]^t[Ge+1]<<C^t[Ge+2]<<D)&N},$=new b2(25e3),W=new ui(288),le=new ui(32),ee=0,U=0,oe=o.i||0,re=0,O=o.w||0,R=0;oe+2<c;++oe){var ie=L(oe),X=oe&32767,se=k[ie];if(_[X]=se,k[ie]=X,O<=oe){var z=c-oe;if((ee>7e3||re>24576)&&(z>423||!f)){p=mN(t,h,0,$,W,le,U,re,R,oe-R,p),re=ee=U=0,R=oe;for(var J=0;J<286;++J)W[J]=0;for(var J=0;J<30;++J)le[J]=0}var Q=2,xe=0,B=y,me=X-se&32767;if(z>2&&ie==L(oe-me))for(var M=Math.min(v,z)-1,T=Math.min(32767,oe),q=Math.min(258,z);me<=T&&--B&&X!=se;){if(t[oe+Q]==t[oe+Q-me]){for(var Y=0;Y<q&&t[oe+Y]==t[oe+Y-me];++Y);if(Y>Q){if(Q=Y,xe=me,Y>M)break;for(var I=Math.min(me,Y-2),G=0,J=0;J<I;++J){var ce=oe-me+J&32767,pe=_[ce],de=ce-pe&32767;de>G&&(G=de,se=ce)}}}X=se,se=_[X],me+=X-se&32767}if(xe){$[re++]=268435456|ey[Q]<<18|hN[xe];var Ne=ey[Q]&31,be=hN[xe]&31;U+=Sg[Ne]+_g[be],++W[257+Ne],++le[be],O=oe+Q,++ee}else $[re++]=t[oe],++W[t[oe]]}}for(oe=Math.max(oe,O);oe<c;++oe)$[re++]=t[oe],++W[t[oe]];p=mN(t,h,f,$,W,le,U,re,R,oe-R,p),f||(o.r=p&7|h[p/8|0]<<3,p-=7,o.h=k,o.p=_,o.i=oe,o.w=O)}else{for(var oe=o.w||0;oe<c+f;oe+=65535){var Te=oe+65535;Te>=c&&(h[p/8|0]=f,Te=c),p=j6(h,p+1,t.subarray(oe,Te))}o.i=c}return N6(d,0,a+y2(p)+r)},_6=function(){var t=1,e=0;return{p:function(s){for(var a=t,r=e,o=s.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)r+=a+=s[c];a=(a&65535)+15*(a>>16),r=(r&65535)+15*(r>>16)}t=a,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},nF=function(t,e,s,a,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new ir(o.length+t.length);c.set(o),c.set(t,o.length),t=c,r.w=o.length}return sF(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,s,a,r)},A6=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8},aF=function(t,e){var s=e.level,a=s==0?0:s<6?1:s==9?3:2;if(t[0]=120,t[1]=a<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=_6();r.p(e.dictionary),A6(t,2,r.d())}},rF=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&fo(6,"invalid zlib data"),(t[1]>>5&1)==1&&fo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function ny(t,e){e||(e={});var s=_6();s.p(t);var a=nF(t,e,e.dictionary?6:2,4);return aF(a,e),A6(a,a.length-4,s.d()),a}function iF(t,e){return eF(t.subarray(rF(t),-4),{i:2},e,e)}var oF=typeof TextDecoder<"u"&&new TextDecoder,lF=0;try{oF.decode(S6,{stream:!0}),lF=1}catch{}var rs=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function db(){rs.console&&typeof rs.console.log=="function"&&rs.console.log.apply(rs.console,arguments)}var un={log:db,warn:function(t){rs.console&&(typeof rs.console.warn=="function"?rs.console.warn.apply(rs.console,arguments):db.call(null,arguments))},error:function(t){rs.console&&(typeof rs.console.error=="function"?rs.console.error.apply(rs.console,arguments):db(t))}};function ub(t,e,s){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){Hd(a.response,e,s)},a.onerror=function(){un.error("could not download file")},a.send()}function pN(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var em,ay,Hd=rs.saveAs||((typeof window>"u"?"undefined":an(window))!=="object"||window!==rs?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,s){var a=rs.URL||rs.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?pN(r.href)?ub(t,e,s):Qp(r,r.target="_blank"):Qp(r)):(r.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(r.href)},4e4),setTimeout(function(){Qp(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){if(e=e||t.name||"download",typeof t=="string")if(pN(t))ub(t,e,s);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){Qp(a)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:an(o)!=="object"&&(un.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(t,s),e)}:function(t,e,s,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return ub(t,e,s);var r=t.type==="application/octet-stream",o=/constructor/i.test(rs.HTMLElement)||rs.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&o)&&(typeof FileReader>"u"?"undefined":an(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var p=d.result;p=c?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=p:location=p,a=null},d.readAsDataURL(t)}else{var h=rs.URL||rs.webkitURL,f=h.createObjectURL(t);a?a.location=f:location.href=f,a=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function C6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],a=0;a<s.length;a++){var r=s[a].re,o=s[a].process,c=r.exec(t);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+d+h+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hb(t,e){var s=t[0],a=t[1],r=t[2],o=t[3];s=Ja(s,a,r,o,e[0],7,-680876936),o=Ja(o,s,a,r,e[1],12,-389564586),r=Ja(r,o,s,a,e[2],17,606105819),a=Ja(a,r,o,s,e[3],22,-1044525330),s=Ja(s,a,r,o,e[4],7,-176418897),o=Ja(o,s,a,r,e[5],12,1200080426),r=Ja(r,o,s,a,e[6],17,-1473231341),a=Ja(a,r,o,s,e[7],22,-45705983),s=Ja(s,a,r,o,e[8],7,1770035416),o=Ja(o,s,a,r,e[9],12,-1958414417),r=Ja(r,o,s,a,e[10],17,-42063),a=Ja(a,r,o,s,e[11],22,-1990404162),s=Ja(s,a,r,o,e[12],7,1804603682),o=Ja(o,s,a,r,e[13],12,-40341101),r=Ja(r,o,s,a,e[14],17,-1502002290),s=Qa(s,a=Ja(a,r,o,s,e[15],22,1236535329),r,o,e[1],5,-165796510),o=Qa(o,s,a,r,e[6],9,-1069501632),r=Qa(r,o,s,a,e[11],14,643717713),a=Qa(a,r,o,s,e[0],20,-373897302),s=Qa(s,a,r,o,e[5],5,-701558691),o=Qa(o,s,a,r,e[10],9,38016083),r=Qa(r,o,s,a,e[15],14,-660478335),a=Qa(a,r,o,s,e[4],20,-405537848),s=Qa(s,a,r,o,e[9],5,568446438),o=Qa(o,s,a,r,e[14],9,-1019803690),r=Qa(r,o,s,a,e[3],14,-187363961),a=Qa(a,r,o,s,e[8],20,1163531501),s=Qa(s,a,r,o,e[13],5,-1444681467),o=Qa(o,s,a,r,e[2],9,-51403784),r=Qa(r,o,s,a,e[7],14,1735328473),s=er(s,a=Qa(a,r,o,s,e[12],20,-1926607734),r,o,e[5],4,-378558),o=er(o,s,a,r,e[8],11,-2022574463),r=er(r,o,s,a,e[11],16,1839030562),a=er(a,r,o,s,e[14],23,-35309556),s=er(s,a,r,o,e[1],4,-1530992060),o=er(o,s,a,r,e[4],11,1272893353),r=er(r,o,s,a,e[7],16,-155497632),a=er(a,r,o,s,e[10],23,-1094730640),s=er(s,a,r,o,e[13],4,681279174),o=er(o,s,a,r,e[0],11,-358537222),r=er(r,o,s,a,e[3],16,-722521979),a=er(a,r,o,s,e[6],23,76029189),s=er(s,a,r,o,e[9],4,-640364487),o=er(o,s,a,r,e[12],11,-421815835),r=er(r,o,s,a,e[15],16,530742520),s=tr(s,a=er(a,r,o,s,e[2],23,-995338651),r,o,e[0],6,-198630844),o=tr(o,s,a,r,e[7],10,1126891415),r=tr(r,o,s,a,e[14],15,-1416354905),a=tr(a,r,o,s,e[5],21,-57434055),s=tr(s,a,r,o,e[12],6,1700485571),o=tr(o,s,a,r,e[3],10,-1894986606),r=tr(r,o,s,a,e[10],15,-1051523),a=tr(a,r,o,s,e[1],21,-2054922799),s=tr(s,a,r,o,e[8],6,1873313359),o=tr(o,s,a,r,e[15],10,-30611744),r=tr(r,o,s,a,e[6],15,-1560198380),a=tr(a,r,o,s,e[13],21,1309151649),s=tr(s,a,r,o,e[4],6,-145523070),o=tr(o,s,a,r,e[11],10,-1120210379),r=tr(r,o,s,a,e[2],15,718787259),a=tr(a,r,o,s,e[9],21,-343485551),t[0]=Kc(s,t[0]),t[1]=Kc(a,t[1]),t[2]=Kc(r,t[2]),t[3]=Kc(o,t[3])}function Ag(t,e,s,a,r,o){return e=Kc(Kc(e,t),Kc(a,o)),Kc(e<<r|e>>>32-r,s)}function Ja(t,e,s,a,r,o,c){return Ag(e&s|~e&a,t,e,r,o,c)}function Qa(t,e,s,a,r,o,c){return Ag(e&a|s&~a,t,e,r,o,c)}function er(t,e,s,a,r,o,c){return Ag(e^s^a,t,e,r,o,c)}function tr(t,e,s,a,r,o,c){return Ag(s^(e|~a),t,e,r,o,c)}function k6(t){var e,s=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)hb(a,cF(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(hb(a,r),e=0;e<16;e++)r[e]=0;return r[14]=8*s,hb(a,r),a}function cF(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}em=rs.atob.bind(rs),ay=rs.btoa.bind(rs);var gN="0123456789abcdef".split("");function dF(t){for(var e="",s=0;s<4;s++)e+=gN[t>>8*s+4&15]+gN[t>>8*s&15];return e}function uF(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ry(t){return k6(t).map(uF).join("")}var hF=function(t){for(var e=0;e<t.length;e++)t[e]=dF(t[e]);return t.join("")}(k6("hello"))!="5d41402abc4b2a76b9719d911017c592";function Kc(t,e){if(hF){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function iy(t,e){var s,a,r,o;if(t!==s){for(var c=(r=t,o=1+(256/t.length>>0),new Array(o+1).join(r)),d=[],h=0;h<256;h++)d[h]=h;var f=0;for(h=0;h<256;h++){var p=d[h];f=(f+p+c.charCodeAt(h))%256,d[h]=d[f],d[f]=p}s=t,a=d}else d=a;var x=e.length,v=0,y=0,N="";for(h=0;h<x;h++)y=(y+(p=d[v=(v+1)%256]))%256,d[v]=d[y],d[y]=p,c=d[(d[v]+d[y])%256],N+=String.fromCharCode(e.charCodeAt(h)^c);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xN={print:4,modify:8,copy:16,"annot-forms":32};function Qu(t,e,s,a){this.v=1,this.r=2;var r=192;t.forEach(function(d){if(xN.perm!==void 0)throw new Error("Invalid permission: "+d);r+=xN[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^r)),this.encryptionKey=ry(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=iy(this.encryptionKey,this.padding)}function eh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",s=t.length,a=0;a<s;a++){var r=t.charCodeAt(a);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=t[a]}return e}function bN(t){if(an(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(s,a,r){if(r=r||!1,typeof s!="string"||typeof a!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(s)||(e[s]={});var o=Math.random().toString(35);return e[s][o]=[a,!!r],o},this.unsubscribe=function(s){for(var a in e)if(e[a][s])return delete e[a][s],Object.keys(e[a]).length===0&&delete e[a],!0;return!1},this.publish=function(s){if(e.hasOwnProperty(s)){var a=Array.prototype.slice.call(arguments,1),r=[];for(var o in e[s]){var c=e[s][o];try{c[0].apply(t,a)}catch(d){rs.console&&un.error("jsPDF PubSub Error",d.message,d)}c[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function X0(t){if(!(this instanceof X0))return new X0(t);var e="opacity,stroke-opacity".split(",");for(var s in t)t.hasOwnProperty(s)&&e.indexOf(s)>=0&&(this[s]=t[s]);this.id="",this.objectNumber=-1}function D6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Yd(t,e,s,a,r){if(!(this instanceof Yd))return new Yd(t,e,s,a,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=s,D6.call(this,a,r)}function th(t,e,s,a,r){if(!(this instanceof th))return new th(t,e,s,a,r);this.boundingBox=t,this.xStep=e,this.yStep=s,this.stream="",this.cloneIndex=0,D6.call(this,a,r)}function ts(t){var e,s=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],r=arguments[2],o=arguments[3],c=[],d=1,h=16,f="S",p=null;an(t=t||{})==="object"&&(s=t.orientation,a=t.unit||a,r=t.format||r,o=t.compress||t.compressPdf||o,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),d=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),c=t.filters||(o===!0?["FlateEncode"]:c),a=a||"mm",s=(""+(s||"P")).toLowerCase();var x=t.putOnlyUsedFonts||!1,v={},y={internal:{},__private__:{}};y.__private__.PubSub=bN;var N="1.3",_=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(S){N=S};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return k};var C=y.__private__.getPageFormat=function(S){return k[S]};r=r||"a4";var D={COMPAT:"compat",ADVANCED:"advanced"},L=D.COMPAT;function $(){this.saveGraphicsState(),ue(new Ot(Xe,0,0,-Xe,0,Co()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),f="n",L=D.ADVANCED}function W(){this.restoreGraphicsState(),f="S",L=D.COMPAT}var le=y.__private__.combineFontStyleAndFontWeight=function(S,H){if(S=="bold"&&H=="normal"||S=="bold"&&H==400||S=="normal"&&H=="italic"||S=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(S=H==400||H==="normal"?S==="italic"?"italic":"normal":H!=700&&H!=="bold"||S!=="normal"?(H==700?"bold":H)+""+S:"bold"),S};y.advancedAPI=function(S){var H=L===D.COMPAT;return H&&$.call(this),typeof S!="function"||(S(this),H&&W.call(this)),this},y.compatAPI=function(S){var H=L===D.ADVANCED;return H&&W.call(this),typeof S!="function"||(S(this),H&&$.call(this)),this},y.isAdvancedAPI=function(){return L===D.ADVANCED};var ee,U=function(S){if(L!==D.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=y.roundToPrecision=y.__private__.roundToPrecision=function(S,H){var ge=e||H;if(isNaN(S)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ge).replace(/0+$/,"")};ee=y.hpf=y.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(S,16)};var re=y.f2=y.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return oe(S,2)},O=y.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return oe(S,3)},R=y.scale=y.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return L===D.COMPAT?S*Xe:L===D.ADVANCED?S:void 0},ie=function(S){return L===D.COMPAT?Co()-S:L===D.ADVANCED?S:void 0},X=function(S){return R(ie(S))};y.__private__.setPrecision=y.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var se,z="00000000000000000000000000000000",J=y.__private__.getFileId=function(){return z},Q=y.__private__.setFileId=function(S){return z=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(En=new Qu(p.userPermissions,p.userPassword,p.ownerPassword,z)),z};y.setFileId=function(S){return Q(S),this},y.getFileId=function(){return J()};var xe=y.__private__.convertDateToPDFDate=function(S){var H=S.getTimezoneOffset(),ge=H<0?"+":"-",Se=Math.floor(Math.abs(H/60)),Oe=Math.abs(H%60),et=[ge,q(Se),"'",q(Oe),"'"].join("");return["D:",S.getFullYear(),q(S.getMonth()+1),q(S.getDate()),q(S.getHours()),q(S.getMinutes()),q(S.getSeconds()),et].join("")},B=y.__private__.convertPDFDateToDate=function(S){var H=parseInt(S.substr(2,4),10),ge=parseInt(S.substr(6,2),10)-1,Se=parseInt(S.substr(8,2),10),Oe=parseInt(S.substr(10,2),10),et=parseInt(S.substr(12,2),10),xt=parseInt(S.substr(14,2),10);return new Date(H,ge,Se,Oe,et,xt,0)},me=y.__private__.setCreationDate=function(S){var H;if(S===void 0&&(S=new Date),S instanceof Date)H=xe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=S}return se=H},M=y.__private__.getCreationDate=function(S){var H=se;return S==="jsDate"&&(H=B(se)),H};y.setCreationDate=function(S){return me(S),this},y.getCreationDate=function(S){return M(S)};var T,q=y.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Y=y.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},I=0,G=[],ce=[],pe=0,de=[],Ne=[],be=!1,Te=ce,Ge=function(){I=0,pe=0,ce=[],G=[],de=[],hs=Ft(),we=Ft()};y.__private__.setCustomOutputDestination=function(S){be=!0,Te=S};var Ee=function(S){be||(Te=S)};y.__private__.resetCustomOutputDestination=function(){be=!1,Te=ce};var ue=y.__private__.out=function(S){return S=S.toString(),pe+=S.length+1,Te.push(S),Te},gt=y.__private__.write=function(S){return ue(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ut=y.__private__.getArrayBuffer=function(S){for(var H=S.length,ge=new ArrayBuffer(H),Se=new Uint8Array(ge);H--;)Se[H]=S.charCodeAt(H);return ge},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ve};var Ze=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(S){return Ze=L===D.ADVANCED?S/Xe:S,this};var ct,ve=y.__private__.getFontSize=y.getFontSize=function(){return L===D.COMPAT?Ze:Ze*Xe},Ye=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(S){return Ye=S,this},y.__private__.getR2L=y.getR2L=function(){return Ye};var ht,pt=y.__private__.setZoomMode=function(S){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))ct=S;else if(isNaN(S)){if(H.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');ct=S}else ct=parseInt(S,10)};y.__private__.getZoomMode=function(){return ct};var St,rt=y.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');ht=S};y.__private__.getPageMode=function(){return ht};var Dt=y.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');St=S};y.__private__.getLayoutMode=function(){return St},y.__private__.setDisplayMode=y.setDisplayMode=function(S,H,ge){return pt(S),Dt(H),rt(ge),this};var fe={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(S){if(Object.keys(fe).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fe[S]},y.__private__.getDocumentProperties=function(){return fe},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(S){for(var H in fe)fe.hasOwnProperty(H)&&S[H]&&(fe[H]=S[H]);return this},y.__private__.setDocumentProperty=function(S,H){if(Object.keys(fe).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fe[S]=H};var nt,Xe,Pt,Nt,ss,Re={},qe={},He=[],Pe={},yt={},vt={},Mt={},Zt=null,Gt=0,Rt=[],jt=new bN(y),js=t.hotfixes||[],Os={},xn={},jn=[],Ot=function S(H,ge,Se,Oe,et,xt){if(!(this instanceof S))return new S(H,ge,Se,Oe,et,xt);isNaN(H)&&(H=1),isNaN(ge)&&(ge=0),isNaN(Se)&&(Se=0),isNaN(Oe)&&(Oe=1),isNaN(et)&&(et=0),isNaN(xt)&&(xt=0),this._matrix=[H,ge,Se,Oe,et,xt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ee).join(S)},Ot.prototype.multiply=function(S){var H=S.sx*this.sx+S.shy*this.shx,ge=S.sx*this.shy+S.shy*this.sy,Se=S.shx*this.sx+S.sy*this.shx,Oe=S.shx*this.shy+S.sy*this.sy,et=S.tx*this.sx+S.ty*this.shx+this.tx,xt=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ot(H,ge,Se,Oe,et,xt)},Ot.prototype.decompose=function(){var S=this.sx,H=this.shy,ge=this.shx,Se=this.sy,Oe=this.tx,et=this.ty,xt=Math.sqrt(S*S+H*H),Lt=(S/=xt)*ge+(H/=xt)*Se;ge-=S*Lt,Se-=H*Lt;var Vt=Math.sqrt(ge*ge+Se*Se);return Lt/=Vt,S*(Se/=Vt)<H*(ge/=Vt)&&(S=-S,H=-H,Lt=-Lt,xt=-xt),{scale:new Ot(xt,0,0,Vt,0,0),translate:new Ot(1,0,0,1,Oe,et),rotate:new Ot(S,H,-H,S,0,0),skew:new Ot(1,0,Lt,1,0,0)}},Ot.prototype.toString=function(S){return this.join(" ")},Ot.prototype.inversed=function(){var S=this.sx,H=this.shy,ge=this.shx,Se=this.sy,Oe=this.tx,et=this.ty,xt=1/(S*Se-H*ge),Lt=Se*xt,Vt=-H*xt,ms=-ge*xt,us=S*xt;return new Ot(Lt,Vt,ms,us,-Lt*Oe-ms*et,-Vt*Oe-us*et)},Ot.prototype.applyToPoint=function(S){var H=S.x*this.sx+S.y*this.shx+this.tx,ge=S.x*this.shy+S.y*this.sy+this.ty;return new ac(H,ge)},Ot.prototype.applyToRectangle=function(S){var H=this.applyToPoint(S),ge=this.applyToPoint(new ac(S.x+S.w,S.y+S.h));return new dd(H.x,H.y,ge.x-H.x,ge.y-H.y)},Ot.prototype.clone=function(){var S=this.sx,H=this.shy,ge=this.shx,Se=this.sy,Oe=this.tx,et=this.ty;return new Ot(S,H,ge,Se,Oe,et)},y.Matrix=Ot;var vs=y.matrixMult=function(S,H){return H.multiply(S)},cs=new Ot(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=cs;var Fe=function(S,H){if(!yt[S]){var ge=(H instanceof Yd?"Sh":"P")+(Object.keys(Pe).length+1).toString(10);H.id=ge,yt[S]=ge,Pe[ge]=H,jt.publish("addPattern",H)}};y.ShadingPattern=Yd,y.TilingPattern=th,y.addShadingPattern=function(S,H){return U("addShadingPattern()"),Fe(S,H),this},y.beginTilingPattern=function(S){U("beginTilingPattern()"),rc(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},y.endTilingPattern=function(S,H){U("endTilingPattern()"),H.stream=Ne[T].join(`
`),Fe(S,H),jt.publish("endTilingPattern",H),jn.pop().restore()};var ke=y.__private__.newObject=function(){var S=Ft();return Wt(S,!0),S},Ft=y.__private__.newObjectDeferred=function(){return I++,G[I]=function(){return pe},I},Wt=function(S,H){return H=typeof H=="boolean"&&H,G[S]=pe,H&&ue(S+" 0 obj"),S},Et=y.__private__.newAdditionalObject=function(){var S={objId:Ft(),content:""};return de.push(S),S},hs=Ft(),we=Ft(),mt=y.__private__.decodeColorString=function(S){var H=S.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ge=parseFloat(H[0]);H=[ge,ge,ge,"r"]}for(var Se="#",Oe=0;Oe<3;Oe++)Se+=("0"+Math.floor(255*parseFloat(H[Oe])).toString(16)).slice(-2);return Se},kt=y.__private__.encodeColorString=function(S){var H;typeof S=="string"&&(S={ch1:S});var ge=S.ch1,Se=S.ch2,Oe=S.ch3,et=S.ch4,xt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Lt=new C6(ge);if(Lt.ok)ge=Lt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Vt=parseInt(ge.substr(1),16);ge=Vt>>16&255,Se=Vt>>8&255,Oe=255&Vt}if(Se===void 0||et===void 0&&ge===Se&&Se===Oe)if(typeof ge=="string")H=ge+" "+xt[0];else switch(S.precision){case 2:H=re(ge/255)+" "+xt[0];break;case 3:default:H=O(ge/255)+" "+xt[0]}else if(et===void 0||an(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return H=["1.","1.","1.",xt[1]].join(" ");if(typeof ge=="string")H=[ge,Se,Oe,xt[1]].join(" ");else switch(S.precision){case 2:H=[re(ge/255),re(Se/255),re(Oe/255),xt[1]].join(" ");break;default:case 3:H=[O(ge/255),O(Se/255),O(Oe/255),xt[1]].join(" ")}}else if(typeof ge=="string")H=[ge,Se,Oe,et,xt[2]].join(" ");else switch(S.precision){case 2:H=[re(ge),re(Se),re(Oe),re(et),xt[2]].join(" ");break;case 3:default:H=[O(ge),O(Se),O(Oe),O(et),xt[2]].join(" ")}return H},is=y.__private__.getFilters=function(){return c},ps=y.__private__.putStream=function(S){var H=(S=S||{}).data||"",ge=S.filters||is(),Se=S.alreadyAppliedFilters||[],Oe=S.addLength1||!1,et=H.length,xt=S.objectId,Lt=function(Tn){return Tn};if(p!==null&&xt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Lt=En.encryptor(xt,0));var Vt={};ge===!0&&(ge=["FlateEncode"]);var ms=S.additionalKeyValues||[],us=(Vt=ts.API.processDataByFilters!==void 0?ts.API.processDataByFilters(H,ge):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(Vt.data.length!==0&&(ms.push({key:"Length",value:Vt.data.length}),Oe===!0&&ms.push({key:"Length1",value:et})),us.length!=0)if(us.split("/").length-1==1)ms.push({key:"Filter",value:us});else{ms.push({key:"Filter",value:"["+us+"]"});for(var Ls=0;Ls<ms.length;Ls+=1)if(ms[Ls].key==="DecodeParms"){for(var fn=[],yn=0;yn<Vt.reverseChain.split("/").length-1;yn+=1)fn.push("null");fn.push(ms[Ls].value),ms[Ls].value="["+fn.join(" ")+"]"}}ue("<<");for(var Ln=0;Ln<ms.length;Ln++)ue("/"+ms[Ln].key+" "+ms[Ln].value);ue(">>"),Vt.data.length!==0&&(ue("stream"),ue(Lt(Vt.data)),ue("endstream"))},bs=y.__private__.putPage=function(S){var H=S.number,ge=S.data,Se=S.objId,Oe=S.contentsObjId;Wt(Se,!0),ue("<</Type /Page"),ue("/Parent "+S.rootDictionaryObjId+" 0 R"),ue("/Resources "+S.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(ee(S.mediaBox.bottomLeftX))+" "+parseFloat(ee(S.mediaBox.bottomLeftY))+" "+ee(S.mediaBox.topRightX)+" "+ee(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ue("/CropBox ["+ee(S.cropBox.bottomLeftX)+" "+ee(S.cropBox.bottomLeftY)+" "+ee(S.cropBox.topRightX)+" "+ee(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ue("/BleedBox ["+ee(S.bleedBox.bottomLeftX)+" "+ee(S.bleedBox.bottomLeftY)+" "+ee(S.bleedBox.topRightX)+" "+ee(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ue("/TrimBox ["+ee(S.trimBox.bottomLeftX)+" "+ee(S.trimBox.bottomLeftY)+" "+ee(S.trimBox.topRightX)+" "+ee(S.trimBox.topRightY)+"]"),S.artBox!==null&&ue("/ArtBox ["+ee(S.artBox.bottomLeftX)+" "+ee(S.artBox.bottomLeftY)+" "+ee(S.artBox.topRightX)+" "+ee(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ue("/UserUnit "+S.userUnit),jt.publish("putPage",{objId:Se,pageContext:Rt[H],pageNumber:H,page:ge}),ue("/Contents "+Oe+" 0 R"),ue(">>"),ue("endobj");var et=ge.join(`
`);return L===D.ADVANCED&&(et+=`
Q`),Wt(Oe,!0),ps({data:et,filters:is(),objectId:Oe}),ue("endobj"),Se},Wn=y.__private__.putPages=function(){var S,H,ge=[];for(S=1;S<=Gt;S++)Rt[S].objId=Ft(),Rt[S].contentsObjId=Ft();for(S=1;S<=Gt;S++)ge.push(bs({number:S,data:Ne[S],objId:Rt[S].objId,contentsObjId:Rt[S].contentsObjId,mediaBox:Rt[S].mediaBox,cropBox:Rt[S].cropBox,bleedBox:Rt[S].bleedBox,trimBox:Rt[S].trimBox,artBox:Rt[S].artBox,userUnit:Rt[S].userUnit,rootDictionaryObjId:hs,resourceDictionaryObjId:we}));Wt(hs,!0),ue("<</Type /Pages");var Se="/Kids [";for(H=0;H<Gt;H++)Se+=ge[H]+" 0 R ";ue(Se+"]"),ue("/Count "+Gt),ue(">>"),ue("endobj"),jt.publish("postPutPages")},la=function(S){jt.publish("putFont",{font:S,out:ue,newObject:ke,putStream:ps}),S.isAlreadyPutted!==!0&&(S.objectNumber=ke(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+eh(S.postScriptName)),ue("/Subtype /Type1"),typeof S.encoding=="string"&&ue("/Encoding /"+S.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},bn=function(){for(var S in Re)Re.hasOwnProperty(S)&&(x===!1||x===!0&&v.hasOwnProperty(S))&&la(Re[S])},je=function(S){S.objectNumber=ke();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[ee(S.x),ee(S.y),ee(S.x+S.width),ee(S.y+S.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ge=S.pages[1].join(`
`);ps({data:ge,additionalKeyValues:H,objectId:S.objectNumber}),ue("endobj")},_t=function(){for(var S in Os)Os.hasOwnProperty(S)&&je(Os[S])},Ut=function(S,H){var ge,Se=[],Oe=1/(H-1);for(ge=0;ge<1;ge+=Oe)Se.push(ge);if(Se.push(1),S[0].offset!=0){var et={offset:0,color:S[0].color};S.unshift(et)}if(S[S.length-1].offset!=1){var xt={offset:1,color:S[S.length-1].color};S.push(xt)}for(var Lt="",Vt=0,ms=0;ms<Se.length;ms++){for(ge=Se[ms];ge>S[Vt+1].offset;)Vt++;var us=S[Vt].offset,Ls=(ge-us)/(S[Vt+1].offset-us),fn=S[Vt].color,yn=S[Vt+1].color;Lt+=Y(Math.round((1-Ls)*fn[0]+Ls*yn[0]).toString(16))+Y(Math.round((1-Ls)*fn[1]+Ls*yn[1]).toString(16))+Y(Math.round((1-Ls)*fn[2]+Ls*yn[2]).toString(16))}return Lt.trim()},ns=function(S,H){H||(H=21);var ge=ke(),Se=Ut(S.colors,H),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+H+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ps({data:Se,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),ue("endobj"),S.objectNumber=ke(),ue("<< /ShadingType "+S.type),ue("/ColorSpace /DeviceRGB");var et="/Coords ["+ee(parseFloat(S.coords[0]))+" "+ee(parseFloat(S.coords[1]))+" ";S.type===2?et+=ee(parseFloat(S.coords[2]))+" "+ee(parseFloat(S.coords[3])):et+=ee(parseFloat(S.coords[2]))+" "+ee(parseFloat(S.coords[3]))+" "+ee(parseFloat(S.coords[4]))+" "+ee(parseFloat(S.coords[5])),ue(et+="]"),S.matrix&&ue("/Matrix ["+S.matrix.toString()+"]"),ue("/Function "+ge+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},ds=function(S,H){var ge=Ft(),Se=ke();H.push({resourcesOid:ge,objectOid:Se}),S.objectNumber=Se;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+S.boundingBox.map(ee).join(" ")+"]"}),Oe.push({key:"XStep",value:ee(S.xStep)}),Oe.push({key:"YStep",value:ee(S.yStep)}),Oe.push({key:"Resources",value:ge+" 0 R"}),S.matrix&&Oe.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),ps({data:S.stream,additionalKeyValues:Oe,objectId:S.objectNumber}),ue("endobj")},gs=function(S){var H;for(H in Pe)Pe.hasOwnProperty(H)&&(Pe[H]instanceof Yd?ns(Pe[H]):Pe[H]instanceof th&&ds(Pe[H],S))},Ss=function(S){for(var H in S.objectNumber=ke(),ue("<<"),S)switch(H){case"opacity":ue("/ca "+re(S[H]));break;case"stroke-opacity":ue("/CA "+re(S[H]))}ue(">>"),ue("endobj")},rn=function(){var S;for(S in vt)vt.hasOwnProperty(S)&&Ss(vt[S])},ca=function(){for(var S in ue("/XObject <<"),Os)Os.hasOwnProperty(S)&&Os[S].objectNumber>=0&&ue("/"+S+" "+Os[S].objectNumber+" 0 R");jt.publish("putXobjectDict"),ue(">>")},Ma=function(){En.oid=ke(),ue("<<"),ue("/Filter /Standard"),ue("/V "+En.v),ue("/R "+En.r),ue("/U <"+En.toHexString(En.U)+">"),ue("/O <"+En.toHexString(En.O)+">"),ue("/P "+En.P),ue(">>"),ue("endobj")},Bn=function(){for(var S in ue("/Font <<"),Re)Re.hasOwnProperty(S)&&(x===!1||x===!0&&v.hasOwnProperty(S))&&ue("/"+S+" "+Re[S].objectNumber+" 0 R");ue(">>")},Sa=function(){if(Object.keys(Pe).length>0){for(var S in ue("/Shading <<"),Pe)Pe.hasOwnProperty(S)&&Pe[S]instanceof Yd&&Pe[S].objectNumber>=0&&ue("/"+S+" "+Pe[S].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),ue(">>")}},xa=function(S){if(Object.keys(Pe).length>0){for(var H in ue("/Pattern <<"),Pe)Pe.hasOwnProperty(H)&&Pe[H]instanceof y.TilingPattern&&Pe[H].objectNumber>=0&&Pe[H].objectNumber<S&&ue("/"+H+" "+Pe[H].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),ue(">>")}},qi=function(){if(Object.keys(vt).length>0){var S;for(S in ue("/ExtGState <<"),vt)vt.hasOwnProperty(S)&&vt[S].objectNumber>=0&&ue("/"+S+" "+vt[S].objectNumber+" 0 R");jt.publish("putGStateDict"),ue(">>")}},Gs=function(S){Wt(S.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bn(),Sa(),xa(S.objectOid),qi(),ca(),ue(">>"),ue("endobj")},Dn=function(){var S=[];bn(),rn(),_t(),gs(S),jt.publish("putResources"),S.forEach(Gs),Gs({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Yr=function(){jt.publish("putAdditionalObjects");for(var S=0;S<de.length;S++){var H=de[S];Wt(H.objId,!0),ue(H.content),ue("endobj")}jt.publish("postPutAdditionalObjects")},gi=function(S){qe[S.fontName]=qe[S.fontName]||{},qe[S.fontName][S.fontStyle]=S.id},$a=function(S,H,ge,Se,Oe){var et={id:"F"+(Object.keys(Re).length+1).toString(10),postScriptName:S,fontName:H,fontStyle:ge,encoding:Se,isStandardFont:Oe||!1,metadata:{}};return jt.publish("addFont",{font:et,instance:this}),Re[et.id]=et,gi(et),et.id},xi=function(S){for(var H=0,ge=Ve.length;H<ge;H++){var Se=$a.call(this,S[H][0],S[H][1],S[H][2],Ve[H][3],!0);x===!1&&(v[Se]=!0);var Oe=S[H][0].split("-");gi({id:Se,fontName:Oe[0],fontStyle:Oe[1]||""})}jt.publish("addFonts",{fonts:Re,dictionary:qe})},zn=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(Se){var H=Se.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ge="Error in function "+H.split(`
`)[0].split("<")[0]+": "+Se.message;if(!rs.console)throw new Error(ge);rs.console.error(ge,Se),rs.alert&&alert(ge)}},S.foo.bar=S,S.foo},Ar=function(S,H){var ge,Se,Oe,et,xt,Lt,Vt,ms,us;if(Oe=(H=H||{}).sourceEncoding||"Unicode",xt=H.outputEncoding,(H.autoencode||xt)&&Re[nt].metadata&&Re[nt].metadata[Oe]&&Re[nt].metadata[Oe].encoding&&(et=Re[nt].metadata[Oe].encoding,!xt&&Re[nt].encoding&&(xt=Re[nt].encoding),!xt&&et.codePages&&(xt=et.codePages[0]),typeof xt=="string"&&(xt=et[xt]),xt)){for(Vt=!1,Lt=[],ge=0,Se=S.length;ge<Se;ge++)(ms=xt[S.charCodeAt(ge)])?Lt.push(String.fromCharCode(ms)):Lt.push(S[ge]),Lt[ge].charCodeAt(0)>>8&&(Vt=!0);S=Lt.join("")}for(ge=S.length;Vt===void 0&&ge!==0;)S.charCodeAt(ge-1)>>8&&(Vt=!0),ge--;if(!Vt)return S;for(Lt=H.noBOM?[]:[254,255],ge=0,Se=S.length;ge<Se;ge++){if((us=(ms=S.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(us),Lt.push(ms-(us<<8))}return String.fromCharCode.apply(void 0,Lt)},zs=y.__private__.pdfEscape=y.pdfEscape=function(S,H){return Ar(S,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hr=y.__private__.beginPage=function(S){Ne[++Gt]=[],Rt[Gt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Pa(Gt),Ee(Ne[T])},Wr=function(S,H){var ge,Se,Oe;switch(s=H||s,typeof S=="string"&&(ge=C(S.toLowerCase()),Array.isArray(ge)&&(Se=ge[0],Oe=ge[1])),Array.isArray(S)&&(Se=S[0]*Xe,Oe=S[1]*Xe),isNaN(Se)&&(Se=r[0],Oe=r[1]),(Se>14400||Oe>14400)&&(un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Oe=Math.min(14400,Oe)),r=[Se,Oe],s.substr(0,1)){case"l":Oe>Se&&(r=[Oe,Se]);break;case"p":Se>Oe&&(r=[Oe,Se])}hr(r),xu(So),ue(Zr),cd!==0&&ue(cd+" J"),nc!==0&&ue(nc+" j"),jt.publish("addPage",{pageNumber:Gt})},Gr=function(S){S>0&&S<=Gt&&(Ne.splice(S,1),Rt.splice(S,1),Gt--,T>Gt&&(T=Gt),this.setPage(T))},Pa=function(S){S>0&&S<=Gt&&(T=S)},fr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Ne.length-1},yo=function(S,H,ge){var Se,Oe=void 0;return ge=ge||{},S=S!==void 0?S:Re[nt].fontName,H=H!==void 0?H:Re[nt].fontStyle,Se=S.toLowerCase(),qe[Se]!==void 0&&qe[Se][H]!==void 0?Oe=qe[Se][H]:qe[S]!==void 0&&qe[S][H]!==void 0?Oe=qe[S][H]:ge.disableWarning===!1&&un.warn("Unable to look up font label for font '"+S+"', '"+H+"'. Refer to getFontList() for available fonts."),Oe||ge.noFallback||(Oe=qe.times[H])==null&&(Oe=qe.times.normal),Oe},Xr=y.__private__.putInfo=function(){var S=ke(),H=function(Se){return Se};for(var ge in p!==null&&(H=En.encryptor(S,0)),ue("<<"),ue("/Producer ("+zs(H("jsPDF "+ts.version))+")"),fe)fe.hasOwnProperty(ge)&&fe[ge]&&ue("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+zs(H(fe[ge]))+")");ue("/CreationDate ("+zs(H(se))+")"),ue(">>"),ue("endobj")},vo=y.__private__.putCatalog=function(S){var H=(S=S||{}).rootDictionaryObjId||hs;switch(ke(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+H+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+ct;ge.substr(ge.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+re(ct)+"]")}switch(St||(St="continuous"),St){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}ht&&ue("/PageMode /"+ht),jt.publish("putCatalog"),ue(">>"),ue("endobj")},hl=y.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(I+1)),ue("/Root "+I+" 0 R"),ue("/Info "+(I-1)+" 0 R"),p!==null&&ue("/Encrypt "+En.oid+" 0 R"),ue("/ID [ <"+z+"> <"+z+"> ]"),ue(">>")},fl=y.__private__.putHeader=function(){ue("%PDF-"+N),ue("%")},wo=y.__private__.putXRef=function(){var S="0000000000";ue("xref"),ue("0 "+(I+1)),ue("0000000000 65535 f ");for(var H=1;H<=I;H++)typeof G[H]=="function"?ue((S+G[H]()).slice(-10)+" 00000 n "):G[H]!==void 0?ue((S+G[H]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Cr=y.__private__.buildDocument=function(){Ge(),Ee(ce),jt.publish("buildDocument"),fl(),Wn(),Yr(),Dn(),p!==null&&Ma(),Xr(),vo();var S=pe;return wo(),hl(),ue("startxref"),ue(""+S),ue("%%EOF"),Ee(Ne[T]),ce.join(`
`)},Ui=y.__private__.getBlob=function(S){return new Blob([ut(S)],{type:"application/pdf"})},kr=y.output=y.__private__.output=zn(function(S,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",S){case void 0:return Cr();case"save":y.save(H.filename);break;case"arraybuffer":return ut(Cr());case"blob":return Ui(Cr());case"bloburi":case"bloburl":if(rs.URL!==void 0&&typeof rs.URL.createObjectURL=="function")return rs.URL&&rs.URL.createObjectURL(Ui(Cr()))||void 0;un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Se=Cr();try{ge=ay(Se)}catch{ge=ay(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+H.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rs)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Oe=H.pdfObjectUrl,et="");var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",Lt=rs.open();return Lt!==null&&Lt.document.write(xt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rs)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',ms=rs.open();if(ms!==null){ms.document.write(Vt);var us=this;ms.document.documentElement.querySelector("#pdfViewer").onload=function(){ms.document.title=H.filename,ms.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(us.output("bloburl"))}}return ms}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rs)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ls='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',fn=rs.open();if(fn!==null&&(fn.document.write(Ls),fn.document.title=H.filename),fn||typeof safari>"u")return fn;break;case"datauri":case"dataurl":return rs.document.location.href=this.output("datauristring",H);default:return null}}),Vi=function(S){return Array.isArray(js)===!0&&js.indexOf(S)>-1};switch(a){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=Vi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);Xe=a}var En=null;me(),Q();var Kr=function(S){return p!==null?En.encryptor(S,0):function(H){return H}},Dr=y.__private__.getPageInfo=y.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt[S].objId,pageNumber:S,pageContext:Rt[S]}},Jt=y.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Rt)if(Rt[H].objId===S)break;return Dr(H)},No=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Rt[T].objId,pageNumber:T,pageContext:Rt[T]}};y.addPage=function(){return Wr.apply(this,arguments),this},y.setPage=function(){return Pa.apply(this,arguments),Ee.call(this,Ne[T]),this},y.insertPage=function(S){return this.addPage(),this.movePage(T,S),this},y.movePage=function(S,H){var ge,Se;if(S>H){ge=Ne[S],Se=Rt[S];for(var Oe=S;Oe>H;Oe--)Ne[Oe]=Ne[Oe-1],Rt[Oe]=Rt[Oe-1];Ne[H]=ge,Rt[H]=Se,this.setPage(H)}else if(S<H){ge=Ne[S],Se=Rt[S];for(var et=S;et<H;et++)Ne[et]=Ne[et+1],Rt[et]=Rt[et+1];Ne[H]=ge,Rt[H]=Se,this.setPage(H)}return this},y.deletePage=function(){return Gr.apply(this,arguments),this},y.__private__.text=y.text=function(S,H,ge,Se,Oe){var et,xt,Lt,Vt,ms,us,Ls,fn,yn,Ln=(Se=Se||{}).scope||this;if(typeof S=="number"&&typeof H=="number"&&(typeof ge=="string"||Array.isArray(ge))){var Tn=ge;ge=H,H=S,S=Tn}if(arguments[3]instanceof Ot?(U("The transform parameter of text() with a Matrix value"),yn=Oe):(Lt=arguments[4],Vt=arguments[5],an(Ls=arguments[3])==="object"&&Ls!==null||(typeof Lt=="string"&&(Vt=Lt,Lt=null),typeof Ls=="string"&&(Vt=Ls,Ls=null),typeof Ls=="number"&&(Lt=Ls,Ls=null),Se={flags:Ls,angle:Lt,align:Vt})),isNaN(H)||isNaN(ge)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Ln;var da="",Jr=!1,gr=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:mr,Qr=Ln.internal.scaleFactor;function fd(Cs){return Cs=Cs.split("	").join(Array(Se.TabLen||9).join(" ")),zs(Cs,Ls)}function $i(Cs){for(var ks,on=Cs.concat(),Mn=[],Tr=on.length;Tr--;)typeof(ks=on.shift())=="string"?Mn.push(ks):Array.isArray(Cs)&&(ks.length===1||ks[1]===void 0&&ks[2]===void 0)?Mn.push(ks[0]):Mn.push([ks[0],ks[1],ks[2]]);return Mn}function Yi(Cs,ks){var on;if(typeof Cs=="string")on=ks(Cs)[0];else if(Array.isArray(Cs)){for(var Mn,Tr,Fo=Cs.concat(),Bo=[],Xi=Fo.length;Xi--;)typeof(Mn=Fo.shift())=="string"?Bo.push(ks(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(Tr=ks(Mn[0],Mn[1],Mn[2]),Bo.push([Tr[0],Tr[1],Tr[2]]));on=Bo}return on}var lc=!1,ko=!0;if(typeof S=="string")lc=!0;else if(Array.isArray(S)){var cc=S.concat();xt=[];for(var bl,Gn=cc.length;Gn--;)(typeof(bl=cc.shift())!="string"||Array.isArray(bl)&&typeof bl[0]!="string")&&(ko=!1);lc=ko}if(lc===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Do=Ze/Ln.internal.scaleFactor,yl=Do*(gr-1);switch(Se.baseline){case"bottom":ge-=yl;break;case"top":ge+=Do-yl;break;case"hanging":ge+=Do-2*yl;break;case"middle":ge+=Do/2-yl}if((us=Se.maxWidth||0)>0&&(typeof S=="string"?S=Ln.splitTextToSize(S,us):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Cs,ks){return Cs.concat(Ln.splitTextToSize(ks,us))},[]))),et={text:S,x:H,y:ge,options:Se,mutex:{pdfEscape:zs,activeFontKey:nt,fonts:Re,activeFontSize:Ze}},jt.publish("preProcessText",et),S=et.text,Lt=(Se=et.options).angle,!(yn instanceof Ot)&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Se.rotationDirection===0&&(Lt=-Lt),L===D.ADVANCED&&(Lt=-Lt);var vl=Math.cos(Lt),dc=Math.sin(Lt);yn=new Ot(vl,dc,-dc,vl,0,0)}else Lt&&Lt instanceof Ot&&(yn=Lt);L!==D.ADVANCED||yn||(yn=cs),(ms=Se.charSpace||sc)!==void 0&&(da+=ee(R(ms))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fn=Se.horizontalScale)!==void 0&&(da+=ee(100*fn)+` Tz
`),Se.lang;var Ya=-1,Ih=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,md=Ln.internal.getCurrentPageInfo().pageContext;switch(Ih){case 0:case!1:case"fill":Ya=0;break;case 1:case!0:case"stroke":Ya=1;break;case 2:case"fillThenStroke":Ya=2;break;case 3:case"invisible":Ya=3;break;case 4:case"fillAndAddForClipping":Ya=4;break;case 5:case"strokeAndAddPathForClipping":Ya=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ya=6;break;case 7:case"addToPathForClipping":Ya=7}var yu=md.usedRenderingMode!==void 0?md.usedRenderingMode:-1;Ya!==-1?da+=Ya+` Tr
`:yu!==-1&&(da+=`0 Tr
`),Ya!==-1&&(md.usedRenderingMode=Ya),Vt=Se.align||"left";var Lr,ua=Ze*gr,Eo=Ln.internal.pageSize.getWidth(),pd=Re[nt];ms=Se.charSpace||sc,us=Se.maxWidth||0,Ls=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var Wi=[],Lo=function(Cs){return Ln.getStringUnitWidth(Cs,{font:pd,charSpace:ms,fontSize:Ze,doKerning:!1})*Ze/Qr};if(Object.prototype.toString.call(S)==="[object Array]"){var Ra;xt=$i(S),Vt!=="left"&&(Lr=xt.map(Lo));var ya,To=0;if(Vt==="right"){H-=Lr[0],S=[],Gn=xt.length;for(var Wa=0;Wa<Gn;Wa++)Wa===0?(ya=pr(H),Ra=vi(ge)):(ya=R(To-Lr[Wa]),Ra=-ua),S.push([xt[Wa],ya,Ra]),To=Lr[Wa]}else if(Vt==="center"){H-=Lr[0]/2,S=[],Gn=xt.length;for(var ei=0;ei<Gn;ei++)ei===0?(ya=pr(H),Ra=vi(ge)):(ya=R((To-Lr[ei])/2),Ra=-ua),S.push([xt[ei],ya,Ra]),To=Lr[ei]}else if(Vt==="left"){S=[],Gn=xt.length;for(var wi=0;wi<Gn;wi++)S.push(xt[wi])}else if(Vt==="justify"&&pd.encoding==="Identity-H"){S=[],Gn=xt.length,us=us!==0?us:Eo;for(var ti=0,Sn=0;Sn<Gn;Sn++)if(Ra=Sn===0?vi(ge):-ua,ya=Sn===0?pr(H):ti,Sn<Gn-1){var si=R((us-Lr[Sn])/(xt[Sn].split(" ").length-1)),In=xt[Sn].split(" ");S.push([In[0]+" ",ya,Ra]),ti=0;for(var Ga=1;Ga<In.length;Ga++){var wl=(Lo(In[Ga-1]+" "+In[Ga])-Lo(In[Ga]))*Qr+si;Ga==In.length-1?S.push([In[Ga],wl,0]):S.push([In[Ga]+" ",wl,0]),ti-=wl}}else S.push([xt[Sn],ya,Ra]);S.push(["",ti,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Gn=xt.length,us=us!==0?us:Eo,Sn=0;Sn<Gn;Sn++)Ra=Sn===0?vi(ge):-ua,ya=Sn===0?pr(H):0,Sn<Gn-1?Wi.push(ee(R((us-Lr[Sn])/(xt[Sn].split(" ").length-1)))):Wi.push(0),S.push([xt[Sn],ya,Ra])}}var Ni=typeof Se.R2L=="boolean"?Se.R2L:Ye;Ni===!0&&(S=Yi(S,function(Cs,ks,on){return[Cs.split("").reverse().join(""),ks,on]})),et={text:S,x:H,y:ge,options:Se,mutex:{pdfEscape:zs,activeFontKey:nt,fonts:Re,activeFontSize:Ze}},jt.publish("postProcessText",et),S=et.text,Jr=et.mutex.isHex||!1;var uc=Re[nt].encoding;uc!=="WinAnsiEncoding"&&uc!=="StandardEncoding"||(S=Yi(S,function(Cs,ks,on){return[fd(Cs),ks,on]})),xt=$i(S),S=[];for(var Mo,Po,Oo,Nl=0,hc=1,Ro=Array.isArray(xt[0])?hc:Nl,Gi="",jl=function(Cs,ks,on){var Mn="";return on instanceof Ot?(on=typeof Se.angle=="number"?vs(on,new Ot(1,0,0,1,Cs,ks)):vs(new Ot(1,0,0,1,Cs,ks),on),L===D.ADVANCED&&(on=vs(new Ot(1,0,0,-1,0,0),on)),Mn=on.join(" ")+` Tm
`):Mn=ee(Cs)+" "+ee(ks)+` Td
`,Mn},_n=0;_n<xt.length;_n++){switch(Gi="",Ro){case hc:Oo=(Jr?"<":"(")+xt[_n][0]+(Jr?">":")"),Mo=parseFloat(xt[_n][1]),Po=parseFloat(xt[_n][2]);break;case Nl:Oo=(Jr?"<":"(")+xt[_n]+(Jr?">":")"),Mo=pr(H),Po=vi(ge)}Wi!==void 0&&Wi[_n]!==void 0&&(Gi=Wi[_n]+` Tw
`),_n===0?S.push(Gi+jl(Mo,Po,yn)+Oo):Ro===Nl?S.push(Gi+Oo):Ro===hc&&S.push(Gi+jl(Mo,Po,yn)+Oo)}S=Ro===Nl?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var xr=`BT
/`;return xr+=nt+" "+Ze+` Tf
`,xr+=ee(Ze*gr)+` TL
`,xr+=gl+`
`,xr+=da,xr+=S,ue(xr+="ET"),v[nt]=!0,Ln};var ml=y.__private__.clip=y.clip=function(S){return ue(S==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return ml("evenodd")},y.__private__.discardPath=y.discardPath=function(){return ue("n"),this};var ba=y.__private__.isValidStyle=function(S){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(H=!0),H};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(S){return ba(S)&&(f=S),this};var Oa=y.__private__.getStyle=y.getStyle=function(S){var H=f;switch(S){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=S}return H},wt=y.close=function(){return ue("h"),this};y.stroke=function(){return ue("S"),this},y.fill=function(S){return Er("f",S),this},y.fillEvenOdd=function(S){return Er("f*",S),this},y.fillStroke=function(S){return Er("B",S),this},y.fillStrokeEvenOdd=function(S){return Er("B*",S),this};var Er=function(S,H){an(H)==="object"?Ql(H,S):ue(S)},Zs=function(S){S===null||L===D.ADVANCED&&S===void 0||(S=Oa(S),ue(S))};function ld(S,H,ge,Se,Oe){var et=new th(H||this.boundingBox,ge||this.xStep,Se||this.yStep,this.gState,Oe||this.matrix);et.stream=this.stream;var xt=S+"$$"+this.cloneIndex+++"$$";return Fe(xt,et),et}var Ql=function(S,H){var ge=yt[S.key],Se=Pe[ge];if(Se instanceof Yd)ue("q"),ue(gu(H)),Se.gState&&y.setGState(Se.gState),ue(S.matrix.toString()+" cm"),ue("/"+ge+" sh"),ue("Q");else if(Se instanceof th){var Oe=new Ot(1,0,0,-1,0,Co());S.matrix&&(Oe=Oe.multiply(S.matrix||cs),ge=ld.call(Se,S.key,S.boundingBox,S.xStep,S.yStep,Oe).id),ue("q"),ue("/Pattern cs"),ue("/"+ge+" scn"),Se.gState&&y.setGState(Se.gState),ue(H),ue("Q")}},gu=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},jo=y.moveTo=function(S,H){return ue(ee(R(S))+" "+ee(X(H))+" m"),this},bi=y.lineTo=function(S,H){return ue(ee(R(S))+" "+ee(X(H))+" l"),this},Hi=y.curveTo=function(S,H,ge,Se,Oe,et){return ue([ee(R(S)),ee(X(H)),ee(R(ge)),ee(X(Se)),ee(R(Oe)),ee(X(et)),"c"].join(" ")),this};y.__private__.line=y.line=function(S,H,ge,Se,Oe){if(isNaN(S)||isNaN(H)||isNaN(ge)||isNaN(Se)||!ba(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return L===D.COMPAT?this.lines([[ge-S,Se-H]],S,H,[1,1],Oe||"S"):this.lines([[ge-S,Se-H]],S,H,[1,1]).stroke()},y.__private__.lines=y.lines=function(S,H,ge,Se,Oe,et){var xt,Lt,Vt,ms,us,Ls,fn,yn,Ln,Tn,da,Jr;if(typeof S=="number"&&(Jr=ge,ge=H,H=S,S=Jr),Se=Se||[1,1],et=et||!1,isNaN(H)||isNaN(ge)||!Array.isArray(S)||!Array.isArray(Se)||!ba(Oe)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jo(H,ge),xt=Se[0],Lt=Se[1],ms=S.length,Tn=H,da=ge,Vt=0;Vt<ms;Vt++)(us=S[Vt]).length===2?(Tn=us[0]*xt+Tn,da=us[1]*Lt+da,bi(Tn,da)):(Ls=us[0]*xt+Tn,fn=us[1]*Lt+da,yn=us[2]*xt+Tn,Ln=us[3]*Lt+da,Tn=us[4]*xt+Tn,da=us[5]*Lt+da,Hi(Ls,fn,yn,Ln,Tn,da));return et&&wt(),Zs(Oe),this},y.path=function(S){for(var H=0;H<S.length;H++){var ge=S[H],Se=ge.c;switch(ge.op){case"m":jo(Se[0],Se[1]);break;case"l":bi(Se[0],Se[1]);break;case"c":Hi.apply(this,Se);break;case"h":wt()}}return this},y.__private__.rect=y.rect=function(S,H,ge,Se,Oe){if(isNaN(S)||isNaN(H)||isNaN(ge)||isNaN(Se)||!ba(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return L===D.COMPAT&&(Se=-Se),ue([ee(R(S)),ee(X(H)),ee(R(ge)),ee(R(Se)),"re"].join(" ")),Zs(Oe),this},y.__private__.triangle=y.triangle=function(S,H,ge,Se,Oe,et,xt){if(isNaN(S)||isNaN(H)||isNaN(ge)||isNaN(Se)||isNaN(Oe)||isNaN(et)||!ba(xt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-S,Se-H],[Oe-ge,et-Se],[S-Oe,H-et]],S,H,[1,1],xt,!0),this},y.__private__.roundedRect=y.roundedRect=function(S,H,ge,Se,Oe,et,xt){if(isNaN(S)||isNaN(H)||isNaN(ge)||isNaN(Se)||isNaN(Oe)||isNaN(et)||!ba(xt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*ge),et=Math.min(et,.5*Se),this.lines([[ge-2*Oe,0],[Oe*Lt,0,Oe,et-et*Lt,Oe,et],[0,Se-2*et],[0,et*Lt,-Oe*Lt,et,-Oe,et],[2*Oe-ge,0],[-Oe*Lt,0,-Oe,-et*Lt,-Oe,-et],[0,2*et-Se],[0,-et*Lt,Oe*Lt,-et,Oe,-et]],S+Oe,H,[1,1],xt,!0),this},y.__private__.ellipse=y.ellipse=function(S,H,ge,Se,Oe){if(isNaN(S)||isNaN(H)||isNaN(ge)||isNaN(Se)||!ba(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*ge,xt=4/3*(Math.SQRT2-1)*Se;return jo(S+ge,H),Hi(S+ge,H-xt,S+et,H-Se,S,H-Se),Hi(S-et,H-Se,S-ge,H-xt,S-ge,H),Hi(S-ge,H+xt,S-et,H+Se,S,H+Se),Hi(S+et,H+Se,S+ge,H+xt,S+ge,H),Zs(Oe),this},y.__private__.circle=y.circle=function(S,H,ge,Se){if(isNaN(S)||isNaN(H)||isNaN(ge)||!ba(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,H,ge,ge,Se)},y.setFont=function(S,H,ge){return ge&&(H=le(H,ge)),nt=yo(S,H,{disableWarning:!1}),this};var _a=y.__private__.getFont=y.getFont=function(){return Re[yo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var S,H,ge={};for(S in qe)if(qe.hasOwnProperty(S))for(H in ge[S]=[],qe[S])qe[S].hasOwnProperty(H)&&ge[S].push(H);return ge},y.addFont=function(S,H,ge,Se,Oe){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(ge=le(ge,Se)),Oe=Oe||"Identity-H",$a.call(this,S,H,ge,Oe)};var mr,So=t.lineWidth||.200025,yi=y.__private__.getLineWidth=y.getLineWidth=function(){return So},xu=y.__private__.setLineWidth=y.setLineWidth=function(S){return So=S,ue(ee(R(S))+" w"),this};y.__private__.setLineDash=ts.API.setLineDash=ts.API.setLineDashPattern=function(S,H){if(S=S||[],H=H||0,isNaN(H)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ge){return ee(R(ge))}).join(" "),H=ee(R(H)),ue("["+S+"] "+H+" d"),this};var ec=y.__private__.getLineHeight=y.getLineHeight=function(){return Ze*mr};y.__private__.getLineHeight=y.getLineHeight=function(){return Ze*mr};var tc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(mr=S),this},_o=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return mr};tc(t.lineHeight);var pr=y.__private__.getHorizontalCoordinate=function(S){return R(S)},vi=y.__private__.getVerticalCoordinate=function(S){return L===D.ADVANCED?S:Rt[T].mediaBox.topRightY-Rt[T].mediaBox.bottomLeftY-R(S)},Rh=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(S){return ee(pr(S))},Ao=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(S){return ee(vi(S))},Zr=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return mt(Zr)},y.__private__.setStrokeColor=y.setDrawColor=function(S,H,ge,Se){return Zr=kt({ch1:S,ch2:H,ch3:ge,ch4:Se,pdfColorType:"draw",precision:2}),ue(Zr),this};var pl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return mt(pl)},y.__private__.setFillColor=y.setFillColor=function(S,H,ge,Se){return pl=kt({ch1:S,ch2:H,ch3:ge,ch4:Se,pdfColorType:"fill",precision:2}),ue(pl),this};var gl=t.textColor||"0 g",Fh=y.__private__.getTextColor=y.getTextColor=function(){return mt(gl)};y.__private__.setTextColor=y.setTextColor=function(S,H,ge,Se){return gl=kt({ch1:S,ch2:H,ch3:ge,ch4:Se,pdfColorType:"text",precision:3}),this};var sc=t.charSpace,Bh=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(sc||0)};y.__private__.setCharSpace=y.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sc=S,this};var cd=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(S){var H=y.CapJoinStyles[S];if(H===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cd=H,ue(H+" J"),this};var nc=0;y.__private__.setLineJoin=y.setLineJoin=function(S){var H=y.CapJoinStyles[S];if(H===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nc=H,ue(H+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(ee(R(S))+" M"),this},y.GState=X0,y.setGState=function(S){(S=typeof S=="string"?vt[Mt[S]]:bu(null,S)).equals(Zt)||(ue("/"+S.id+" gs"),Zt=S)};var bu=function(S,H){if(!S||!Mt[S]){var ge=!1;for(var Se in vt)if(vt.hasOwnProperty(Se)&&vt[Se].equals(H)){ge=!0;break}if(ge)H=vt[Se];else{var Oe="GS"+(Object.keys(vt).length+1).toString(10);vt[Oe]=H,H.id=Oe}return S&&(Mt[S]=H.id),jt.publish("addGState",H),H}};y.addGState=function(S,H){return bu(S,H),this},y.saveGraphicsState=function(){return ue("q"),He.push({key:nt,size:Ze,color:gl}),this},y.restoreGraphicsState=function(){ue("Q");var S=He.pop();return nt=S.key,Ze=S.size,gl=S.color,Zt=null,this},y.setCurrentTransformationMatrix=function(S){return ue(S.toString()+" cm"),this},y.comment=function(S){return ue("#"+S),this};var ac=function(S,H){var ge=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(et){isNaN(et)||(ge=parseFloat(et))}});var Se=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(et){isNaN(et)||(Se=parseFloat(et))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(et){Oe=et.toString()}}),this},dd=function(S,H,ge,Se){ac.call(this,S,H),this.type="rect";var Oe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(xt){isNaN(xt)||(Oe=parseFloat(xt))}});var et=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(xt){isNaN(xt)||(et=parseFloat(xt))}}),this},ud=function(){this.page=Gt,this.currentPage=T,this.pages=Ne.slice(0),this.pagesContext=Rt.slice(0),this.x=Pt,this.y=Nt,this.matrix=ss,this.width=xl(T),this.height=Co(T),this.outputDestination=Te,this.id="",this.objectNumber=-1};ud.prototype.restore=function(){Gt=this.page,T=this.currentPage,Rt=this.pagesContext,Ne=this.pages,Pt=this.x,Nt=this.y,ss=this.matrix,oc(T,this.width),hd(T,this.height),Te=this.outputDestination};var rc=function(S,H,ge,Se,Oe){jn.push(new ud),Gt=T=0,Ne=[],Pt=S,Nt=H,ss=Oe,hr([ge,Se])},zh=function(S){if(xn[S])jn.pop().restore();else{var H=new ud,ge="Xo"+(Object.keys(Os).length+1).toString(10);H.id=ge,xn[S]=ge,Os[ge]=H,jt.publish("addFormObject",H),jn.pop().restore()}};for(var ic in y.beginFormObject=function(S,H,ge,Se,Oe){return rc(S,H,ge,Se,Oe),this},y.endFormObject=function(S){return zh(S),this},y.doFormObject=function(S,H){var ge=Os[xn[S]];return ue("q"),ue(H.toString()+" cm"),ue("/"+ge.id+" Do"),ue("Q"),this},y.getFormObject=function(S){var H=Os[xn[S]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},y.save=function(S,H){return S=S||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Hd(Ui(Cr()),S),typeof Hd.unload=="function"&&rs.setTimeout&&setTimeout(Hd.unload,911),this):new Promise(function(ge,Se){try{var Oe=Hd(Ui(Cr()),S);typeof Hd.unload=="function"&&rs.setTimeout&&setTimeout(Hd.unload,911),ge(Oe)}catch(et){Se(et.message)}})},ts.API)ts.API.hasOwnProperty(ic)&&(ic==="events"&&ts.API.events.length?function(S,H){var ge,Se,Oe;for(Oe=H.length-1;Oe!==-1;Oe--)ge=H[Oe][0],Se=H[Oe][1],S.subscribe.apply(S,[ge].concat(typeof Se=="function"?[Se]:Se))}(jt,ts.API.events):y[ic]=ts.API[ic]);var xl=y.getPageWidth=function(S){return(Rt[S=S||T].mediaBox.topRightX-Rt[S].mediaBox.bottomLeftX)/Xe},oc=y.setPageWidth=function(S,H){Rt[S].mediaBox.topRightX=H*Xe+Rt[S].mediaBox.bottomLeftX},Co=y.getPageHeight=function(S){return(Rt[S=S||T].mediaBox.topRightY-Rt[S].mediaBox.bottomLeftY)/Xe},hd=y.setPageHeight=function(S,H){Rt[S].mediaBox.topRightY=H*Xe+Rt[S].mediaBox.bottomLeftY};return y.internal={pdfEscape:zs,getStyle:Oa,getFont:_a,getFontSize:ve,getCharSpace:Bh,getTextColor:Fh,getLineHeight:ec,getLineHeightFactor:_o,getLineWidth:yi,write:gt,getHorizontalCoordinate:pr,getVerticalCoordinate:vi,getCoordinateString:Rh,getVerticalCoordinateString:Ao,collections:{},newObject:ke,newAdditionalObject:Et,newObjectDeferred:Ft,newObjectDeferredBegin:Wt,getFilters:is,putStream:ps,events:jt,scaleFactor:Xe,pageSize:{getWidth:function(){return xl(T)},setWidth:function(S){oc(T,S)},getHeight:function(){return Co(T)},setHeight:function(S){hd(T,S)}},encryptionOptions:p,encryption:En,getEncryptor:Kr,output:kr,getNumberOfPages:fr,pages:Ne,out:ue,f2:re,f3:O,getPageInfo:Dr,getPageInfoByObjId:Jt,getCurrentPageInfo:No,getPDFVersion:_,Point:ac,Rectangle:dd,Matrix:Ot,hasHotfix:Vi},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return xl(T)},set:function(S){oc(T,S)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Co(T)},set:function(S){hd(T,S)},enumerable:!0,configurable:!0}),xi.call(y,Ve),nt="F1",Wr(r,s),jt.publish("initialized"),y}Qu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Qu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qu.prototype.hexToBytes=function(t){for(var e=[],s=0;s<t.length;s+=2)e.push(String.fromCharCode(parseInt(t.substr(s,2),16)));return e.join("")},Qu.prototype.processOwnerPassword=function(t,e){return iy(ry(e).substr(0,5),t)},Qu.prototype.encryptor=function(t,e){var s=ry(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(a){return iy(s,a)}},X0.prototype.equals=function(t){var e,s="id,objectNumber,equals";if(!t||an(t)!==an(this))return!1;var a=0;for(e in this)if(!(s.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;a++}for(e in t)t.hasOwnProperty(e)&&s.indexOf(e)<0&&a--;return a===0},ts.API={events:[]},ts.version="3.0.1";var Hn=ts.API,v2=1,pu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xs=function(t){return t.toFixed(2)},Ic=function(t){return t.toFixed(5)};Hn.__acroform__={};var $r=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},yN=function(t){return t*v2},tl=function(t){var e=new L6,s=It.internal.getHeight(t)||0,a=It.internal.getWidth(t)||0;return e.BBox=[0,0,Number(xs(a)),Number(xs(s))],e},fF=Hn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},mF=Hn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},pF=Hn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},sa=Hn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pF(t,e-1)},na=Hn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fF(t,e-1)},aa=Hn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mF(t,e-1)},gF=Hn.__acroform__.calculateCoordinates=function(t,e){var s=e.internal.getHorizontalCoordinate,a=e.internal.getVerticalCoordinate,r=t[0],o=t[1],c=t[2],d=t[3],h={};return h.lowerLeft_X=s(r)||0,h.lowerLeft_Y=a(o+d)||0,h.upperRight_X=s(r+c)||0,h.upperRight_Y=a(o)||0,[Number(xs(h.lowerLeft_X)),Number(xs(h.lowerLeft_Y)),Number(xs(h.upperRight_X)),Number(xs(h.upperRight_Y))]},xF=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],s=t._V||t.DV,a=oy(t,s),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+xs(a.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=tl(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},oy=function(t,e){var s=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(O){return O.split(`
`)}):r.map(function(O){return[O]});var o=s,c=It.internal.getHeight(t)||0;c=c<0?-c:c;var d=It.internal.getWidth(t)||0;d=d<0?-d:d;var h=function(O,R,ie){if(O+1<r.length){var X=R+" "+r[O+1][0];return e0(X,t,ie).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var f,p,x=e0("3",t,o).height,v=t.multiline?c-o:(c-x)/2,y=v+=2,N=0,_=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+e0(e,t,o=12).width+", FieldWidth:"+d+`
`;break}for(var C="",D=0,L=0;L<r.length;L++)if(r.hasOwnProperty(L)){var $=!1;if(r[L].length!==1&&k!==r[L].length-1){if((x+2)*(D+2)+2>c)continue e;C+=r[L][k],$=!0,_=L,L--}else{C=(C+=r[L][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var W=parseInt(L),le=h(W,C,o),ee=L>=r.length-1;if(le&&!ee){C+=" ",k=0;continue}if(le||ee){if(ee)_=W;else if(t.multiline&&(x+2)*(D+2)+2>c)continue e}else{if(!t.multiline||(x+2)*(D+2)+2>c)continue e;_=W}}for(var U="",oe=N;oe<=_;oe++){var re=r[oe];if(t.multiline){if(oe===_){U+=re[k]+" ",k=(k+1)%re.length;continue}if(oe===N){U+=re[re.length-1]+" ";continue}}U+=re[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,p=e0(U,t,o).width,t.textAlign){case"right":f=d-p-2;break;case"center":f=(d-p)/2;break;case"left":default:f=2}e+=xs(f)+" "+xs(y)+` Td
`,e+="("+pu(U)+`) Tj
`,e+=-xs(f)+` 0 Td
`,y=-(o+2),p=0,N=$?_:_+1,D++,C=""}break}return a.text=e,a.fontSize=o,a},e0=function(t,e,s){var a=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:e.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:r}},bF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yF=function(t,e){var s={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===s.type&&a.object===s.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(s)},vF=function(t,e){for(var s in t)if(t.hasOwnProperty(s)){var a=s,r=t[s];e.internal.newObjectDeferredBegin(r.objId,!0),an(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete t[a]}},wF=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(bF)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new T6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in a)if(a.hasOwnProperty(r)){var o=a[r];o.objId=void 0,o.hasAnnotation&&yF(o,s)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(s){(function(a,r){var o=!a;for(var c in a||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var d=a[c],h=[],f=d.Rect;if(d.Rect&&(d.Rect=gF(d.Rect,r)),r.internal.newObjectDeferredBegin(d.objId,!0),d.DA=It.createDefaultAppearanceStream(d),an(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(h=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var p=xF(d);h.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(d.appearanceStreamContent){var x="";for(var v in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(v)){var y=d.appearanceStreamContent[v];if(x+="/"+v+" ",x+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var c in y)if(y.hasOwnProperty(c)){var N=y[c];typeof N=="function"&&(N=N.call(r,d)),x+="/"+c+" "+N+" ",r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(r,d)),x+="/"+c+" "+N,r.internal.acroformPlugin.xForms.indexOf(N)>=0||r.internal.acroformPlugin.xForms.push(N);x+=">>"}h.push({key:"AP",value:`<<
`+x+">>"})}r.internal.putStream({additionalKeyValues:h,objectId:d.objId}),r.internal.out("endobj")}o&&vF(r.internal.acroformPlugin.xForms,r)})(s,t)}),t.internal.acroformPlugin.isInitialized=!0}},E6=Hn.__acroform__.arrayToPdfArray=function(t,e,s){var a=function(c){return c};if(Array.isArray(t)){for(var r="[",o=0;o<t.length;o++)switch(o!==0&&(r+=" "),an(t[o])){case"boolean":case"number":case"object":r+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&s&&(a=s.internal.getEncryptor(e)),r+="("+pu(a(t[o].toString()))+")"):r+=t[o].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fb=function(t,e,s){var a=function(r){return r};return e!==void 0&&s&&(a=s.internal.getEncryptor(e)),(t=t||"").toString(),t="("+pu(a(t))+")"},al=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};al.prototype.toString=function(){return this.objId+" 0 R"},al.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},al.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var s in e)if(Object.getOwnPropertyDescriptor(this,e[s]).configurable===!1){var a=e[s],r=this[a];r&&(Array.isArray(r)?t.push({key:a,value:E6(r,this.objId,this.scope)}):r instanceof al?(r.scope=this.scope,t.push({key:a,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:a,value:r}))}return t};var L6=function(){al.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){t=s.trim()},get:function(){return t||null}})};$r(L6,al);var T6=function(){al.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var s=function(a){return a};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+pu(s(t))+")"}},set:function(s){t=s}})};$r(T6,al);var xo=function t(){al.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sa(e,3)},set:function(C){C?this.F=na(e,3):this.F=aa(e,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');s=C}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(C){a=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(C){a[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(C){a[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(C){a[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(C){a[3]=C}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof K0)return;o="FieldObject"+t.FieldNum++}var C=function(D){return D};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+pu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/v2:f},set:function(C){f=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof K0||this instanceof su))return fb(x,this.objId,this.scope)},set:function(C){C=C.toString(),x=C}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof La?v:fb(v,this.objId,this.scope)},set:function(C){C=C.toString(),v=this instanceof La?C:C.substr(0,1)==="("?Zu(C.substr(1,C.length-2)):Zu(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof La?Zu(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof La?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof La?y:fb(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=this instanceof La?C:C.substr(0,1)==="("?Zu(C.substr(1,C.length-2)):Zu(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof La?Zu(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof La?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(C){C=!!C,_=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(C){N=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,1)},set:function(C){C?this.Ff=na(this.Ff,1):this.Ff=aa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,2)},set:function(C){C?this.Ff=na(this.Ff,2):this.Ff=aa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,3)},set:function(C){C?this.Ff=na(this.Ff,3):this.Ff=aa(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};$r(xo,al);var fh=function(){xo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){t=s}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return E6(e,this.objId,this.scope)},set:function(s){var a,r;r=[],typeof(a=s)=="string"&&(r=function(o,c,d){d||(d=1);for(var h,f=[];h=c.exec(o);)f.push(h[d]);return f}(a,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(s){e=s,this.sort&&e.sort()},this.addOption=function(s){s=(s=s||"").toString(),e.push(s),this.sort&&e.sort()},this.removeOption=function(s,a){for(a=a||!1,s=(s=s||"").toString();e.indexOf(s)!==-1&&(e.splice(e.indexOf(s),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,18)},set:function(s){s?this.Ff=na(this.Ff,18):this.Ff=aa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=na(this.Ff,19):this.Ff=aa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,20)},set:function(s){s?(this.Ff=na(this.Ff,20),e.sort()):this.Ff=aa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,22)},set:function(s){s?this.Ff=na(this.Ff,22):this.Ff=aa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,23)},set:function(s){s?this.Ff=na(this.Ff,23):this.Ff=aa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,27)},set:function(s){s?this.Ff=na(this.Ff,27):this.Ff=aa(this.Ff,27)}}),this.hasAppearanceStream=!1};$r(fh,xo);var mh=function(){fh.call(this),this.fontName="helvetica",this.combo=!1};$r(mh,fh);var ph=function(){mh.call(this),this.combo=!0};$r(ph,mh);var x0=function(){ph.call(this),this.edit=!0};$r(x0,ph);var La=function(){xo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,15)},set:function(s){s?this.Ff=na(this.Ff,15):this.Ff=aa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,16)},set:function(s){s?this.Ff=na(this.Ff,16):this.Ff=aa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,17)},set:function(s){s?this.Ff=na(this.Ff,17):this.Ff=aa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,26)},set:function(s){s?this.Ff=na(this.Ff,26):this.Ff=aa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var a,r=[];for(a in r.push("<<"),e)r.push("/"+a+" ("+pu(s(e[a]))+")");return r.push(">>"),r.join(`
`)}},set:function(s){an(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}})};$r(La,xo);var b0=function(){La.call(this),this.pushButton=!0};$r(b0,La);var gh=function(){La.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};$r(gh,La);var K0=function(){var t,e;xo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var s,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(d){return d};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),a)c.push("/"+o+" ("+pu(r(a[o]))+")");return c.push(">>"),c.join(`
`)},set:function(r){an(r)==="object"&&(a=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(r){typeof r=="string"&&(a.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(r){s=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(r){s="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$r(K0,xo),gh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var s=this.Kids[e];s.appearanceStreamContent=t.createAppearanceStream(s.optionName),s.caption=t.getCA()}},gh.prototype.createOption=function(t){var e=new K0;return e.Parent=this,e.optionName=t,this.Kids.push(e),NF.call(this.scope,e),e};var y0=function(){La.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};$r(y0,La);var su=function(){xo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,13)},set:function(e){e?this.Ff=na(this.Ff,13):this.Ff=aa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,21)},set:function(e){e?this.Ff=na(this.Ff,21):this.Ff=aa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,23)},set:function(e){e?this.Ff=na(this.Ff,23):this.Ff=aa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,24)},set:function(e){e?this.Ff=na(this.Ff,24):this.Ff=aa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,25)},set:function(e){e?this.Ff=na(this.Ff,25):this.Ff=aa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,26)},set:function(e){e?this.Ff=na(this.Ff,26):this.Ff=aa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$r(su,xo);var v0=function(){su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sa(this.Ff,14)},set:function(t){t?this.Ff=na(this.Ff,14):this.Ff=aa(this.Ff,14)}}),this.password=!0};$r(v0,su);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=tl(t);e.scope=t.scope;var s=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),o=oy(t,t.caption);return s.push("0.749023 g"),s.push("0 0 "+xs(It.internal.getWidth(t))+" "+xs(It.internal.getHeight(t))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+a+" "+xs(o.fontSize)+" Tf "+r),s.push("BT"),s.push(o.text),s.push("ET"),s.push("Q"),s.push("EMC"),e.stream=s.join(`
`),e},YesNormal:function(t){var e=tl(t);e.scope=t.scope;var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),r=[],o=It.internal.getHeight(t),c=It.internal.getWidth(t),d=oy(t,t.caption);return r.push("1 g"),r.push("0 0 "+xs(c)+" "+xs(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+xs(c-1)+" "+xs(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+s+" "+xs(d.fontSize)+" Tf "+a),r.push(d.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=tl(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+xs(It.internal.getWidth(t))+" "+xs(It.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=It.RadioButton.Circle.YesNormal,e.D[t]=It.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=tl(t);e.scope=t.scope;var s=[],a=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var r=It.internal.Bezier_C,o=Number((a*r).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Ic(It.internal.getWidth(t)/2)+" "+Ic(It.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),s.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),s.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),s.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=tl(t);e.scope=t.scope;var s=[],a=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var r=Number((2*a).toFixed(5)),o=Number((r*It.internal.Bezier_C).toFixed(5)),c=Number((a*It.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ic(It.internal.getWidth(t)/2)+" "+Ic(It.internal.getHeight(t)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),s.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),s.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),s.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Ic(It.internal.getWidth(t)/2)+" "+Ic(It.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),s.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),s.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),s.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=tl(t);e.scope=t.scope;var s=[],a=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var r=Number((2*a).toFixed(5)),o=Number((r*It.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Ic(It.internal.getWidth(t)/2)+" "+Ic(It.internal.getHeight(t)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),s.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),s.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),s.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=It.RadioButton.Cross.YesNormal,e.D[t]=It.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=tl(t);e.scope=t.scope;var s=[],a=It.internal.calculateCross(t);return s.push("q"),s.push("1 1 "+xs(It.internal.getWidth(t)-2)+" "+xs(It.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(xs(a.x1.x)+" "+xs(a.x1.y)+" m"),s.push(xs(a.x2.x)+" "+xs(a.x2.y)+" l"),s.push(xs(a.x4.x)+" "+xs(a.x4.y)+" m"),s.push(xs(a.x3.x)+" "+xs(a.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=tl(t);e.scope=t.scope;var s=It.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+xs(It.internal.getWidth(t))+" "+xs(It.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+xs(It.internal.getWidth(t)-2)+" "+xs(It.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(xs(s.x1.x)+" "+xs(s.x1.y)+" m"),a.push(xs(s.x2.x)+" "+xs(s.x2.y)+" l"),a.push(xs(s.x4.x)+" "+xs(s.x4.y)+" m"),a.push(xs(s.x3.x)+" "+xs(s.x3.y)+" l"),a.push("s"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=tl(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+xs(It.internal.getWidth(t))+" "+xs(It.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+s}};It.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=It.internal.getWidth(t),s=It.internal.getHeight(t),a=Math.min(e,s);return{x1:{x:(e-a)/2,y:(s-a)/2+a},x2:{x:(e-a)/2+a,y:(s-a)/2},x3:{x:(e-a)/2,y:(s-a)/2},x4:{x:(e-a)/2+a,y:(s-a)/2+a}}}},It.internal.getWidth=function(t){var e=0;return an(t)==="object"&&(e=yN(t.Rect[2])),e},It.internal.getHeight=function(t){var e=0;return an(t)==="object"&&(e=yN(t.Rect[3])),e};var NF=Hn.addField=function(t){if(wF(this,t),!(t instanceof xo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=fh,Hn.AcroFormListBox=mh,Hn.AcroFormComboBox=ph,Hn.AcroFormEditBox=x0,Hn.AcroFormButton=La,Hn.AcroFormPushButton=b0,Hn.AcroFormRadioButton=gh,Hn.AcroFormCheckBox=y0,Hn.AcroFormTextField=su,Hn.AcroFormPasswordField=v0,Hn.AcroFormAppearance=It,Hn.AcroForm={ChoiceField:fh,ListBox:mh,ComboBox:ph,EditBox:x0,Button:La,PushButton:b0,RadioButton:gh,CheckBox:y0,TextField:su,PasswordField:v0,Appearance:It},ts.AcroForm={ChoiceField:fh,ListBox:mh,ComboBox:ph,EditBox:x0,Button:La,PushButton:b0,RadioButton:gh,CheckBox:y0,TextField:su,PasswordField:v0,Appearance:It};ts.AcroForm;function M6(t){return t.reduce(function(e,s,a){return e[s]=a,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(O,R){var ie,X,se,z,J,Q=e;if((R=R||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(le(O))for(J in s)for(se=s[J],ie=0;ie<se.length;ie+=1){for(z=!0,X=0;X<se[ie].length;X+=1)if(se[ie][X]!==void 0&&se[ie][X]!==O[X]){z=!1;break}if(z===!0){Q=J;break}}else for(J in s)for(se=s[J],ie=0;ie<se.length;ie+=1){for(z=!0,X=0;X<se[ie].length;X+=1)if(se[ie][X]!==void 0&&se[ie][X]!==O.charCodeAt(X)){z=!1;break}if(z===!0){Q=J;break}}return Q===e&&R!==e&&(Q=R),Q},r=function O(R){for(var ie=this.internal.write,X=this.internal.putStream,se=(0,this.internal.getFilters)();se.indexOf("FlateEncode")!==-1;)se.splice(se.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:R.width}),z.push({key:"Height",value:R.height}),R.colorSpace===k.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===k.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var J="",Q=0,xe=R.transparency.length;Q<xe;Q++)J+=R.transparency[Q]+" "+R.transparency[Q]+" ";z.push({key:"Mask",value:"["+J+"]"})}R.sMask!==void 0&&z.push({key:"SMask",value:R.objectId+1+" 0 R"});var B=R.filter!==void 0?["/"+R.filter]:void 0;if(X({data:R.data,additionalKeyValues:z,alreadyAppliedFilters:B,objectId:R.objectId}),ie("endobj"),"sMask"in R&&R.sMask!==void 0){var me="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,M={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:me,data:R.sMask};"filter"in R&&(M.filter=R.filter),O.call(this,M)}if(R.colorSpace===k.INDEXED){var T=this.internal.newObject();X({data:U(new Uint8Array(R.palette)),objectId:T}),ie("endobj")}},o=function(){var O=this.internal.collections.addImage_images;for(var R in O)r.call(this,O[R])},c=function(){var O,R=this.internal.collections.addImage_images,ie=this.internal.write;for(var X in R)ie("/I"+(O=R[X]).index,O.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var O=this.internal.collections.addImage_images;return d.call(this),O},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(O){return typeof t["process"+O.toUpperCase()]=="function"},x=function(O){return an(O)==="object"&&O.nodeType===1},v=function(O,R){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var ie=""+O.getAttribute("src");if(ie.indexOf("data:image/")===0)return em(unescape(ie).split("base64,").pop());var X=t.loadFile(ie,!0);if(X!==void 0)return X}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var se;switch(R){case"PNG":se="image/png";break;case"WEBP":se="image/webp";break;case"JPEG":case"JPG":default:se="image/jpeg"}return em(O.toDataURL(se,1).split("base64,").pop())}},y=function(O){var R=this.internal.collections.addImage_images;if(R){for(var ie in R)if(O===R[ie].alias)return R[ie]}},N=function(O,R,ie){return O||R||(O=-96,R=-96),O<0&&(O=-1*ie.width*72/O/this.internal.scaleFactor),R<0&&(R=-1*ie.height*72/R/this.internal.scaleFactor),O===0&&(O=R*ie.width/ie.height),R===0&&(R=O*ie.height/ie.width),[O,R]},_=function(O,R,ie,X,se,z){var J=N.call(this,ie,X,se),Q=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,B=h.call(this);if(ie=J[0],X=J[1],B[se.index]=se,z){z*=Math.PI/180;var me=Math.cos(z),M=Math.sin(z),T=function(Y){return Y.toFixed(4)},q=[T(me),T(M),T(-1*M),T(me),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,Q(O),xe(R+X),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Q(ie),"0","0",Q(X),"0","0","cm"].join(" "))):this.internal.write([Q(ie),"0","0",Q(X),Q(O),xe(R+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+se.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=t.__addimage__.sHashCode=function(O){var R,ie,X=0;if(typeof O=="string")for(ie=O.length,R=0;R<ie;R++)X=(X<<5)-X+O.charCodeAt(R),X|=0;else if(le(O))for(ie=O.byteLength/2,R=0;R<ie;R++)X=(X<<5)-X+O[R],X|=0;return X},L=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var R=!0;return O.length===0&&(R=!1),O.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(R=!1),R},$=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var R=O.indexOf(",");return R<0?null:O.substring(0,R).trim().endsWith("base64")?O.substring(R+1):null},W=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return W()&&O instanceof ArrayBuffer};var le=t.__addimage__.isArrayBufferView=function(O){return W()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},ee=t.__addimage__.binaryStringToUint8Array=function(O){for(var R=O.length,ie=new Uint8Array(R),X=0;X<R;X++)ie[X]=O.charCodeAt(X);return ie},U=t.__addimage__.arrayBufferToBinaryString=function(O){for(var R="",ie=le(O)?O:new Uint8Array(O),X=0;X<ie.length;X+=8192)R+=String.fromCharCode.apply(null,ie.subarray(X,X+8192));return R};t.addImage=function(){var O,R,ie,X,se,z,J,Q,xe;if(typeof arguments[1]=="number"?(R=e,ie=arguments[1],X=arguments[2],se=arguments[3],z=arguments[4],J=arguments[5],Q=arguments[6],xe=arguments[7]):(R=arguments[1],ie=arguments[2],X=arguments[3],se=arguments[4],z=arguments[5],J=arguments[6],Q=arguments[7],xe=arguments[8]),an(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var B=O;O=B.imageData,R=B.format||R||e,ie=B.x||ie||0,X=B.y||X||0,se=B.w||B.width||se,z=B.h||B.height||z,J=B.alias||J,Q=B.compression||Q,xe=B.rotation||B.angle||xe}var me=this.internal.getFilters();if(Q===void 0&&me.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(ie)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var M=oe.call(this,O,R,J,Q);return _.call(this,ie,X,se,z,M,xe),this};var oe=function(O,R,ie,X){var se,z,J;if(typeof O=="string"&&a(O)===e){O=unescape(O);var Q=re(O,!1);(Q!==""||(Q=t.loadFile(O,!0))!==void 0)&&(O=Q)}if(x(O)&&(O=v(O,R)),R=a(O,R),!p(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((J=ie)==null||J.length===0)&&(ie=function(xe){return typeof xe=="string"||le(xe)?D(xe):le(xe.data)?D(xe.data):null}(O)),(se=y.call(this,ie))||(W()&&(O instanceof Uint8Array||R==="RGBA"||(z=O,O=ee(O))),se=this["process"+R.toUpperCase()](O,f.call(this),ie,function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:C.NONE}(X),z)),!se)throw new Error("An unknown error occurred whilst processing the image.");return se},re=t.__addimage__.convertBase64ToBinaryString=function(O,R){R=typeof R!="boolean"||R;var ie,X="";if(typeof O=="string"){var se;ie=(se=$(O))!==null&&se!==void 0?se:O;try{X=em(ie)}catch(z){if(R)throw L(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(O){var R,ie,X="";if(x(O)&&(O=v(O)),typeof O=="string"&&a(O)===e&&((X=re(O,!1))===""&&(X=t.loadFile(O)||""),O=X),ie=a(O),!p(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(!W()||O instanceof Uint8Array||(O=ee(O)),!(R=this["process"+ie.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=ie,R}})(ts.API),function(t){var e=function(s){if(s!==void 0&&s!="")return!0};ts.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(s){for(var a,r,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(s.objId),f=s.pageContext.annotations,p=!1,x=0;x<f.length&&!p;x++)switch((a=f[x]).type){case"link":(e(a.options.url)||e(a.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){a=f[v];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(s.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(_.objId),D=a.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y)+"] ")+"/Contents ("+y(C(a.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+y(C(D))+") >>",_.content=o;var L=_.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+c(a.bounds.x+30)+" "+d(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+d(a.bounds.y)+"] ")+" /Parent "+L,a.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(_.objId,"0 R",k.objId,"0 R");break;case"freetext":r="/Rect ["+c(a.bounds.x)+" "+d(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+d(a.bounds.y+a.bounds.h)+"] ";var $=a.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+y(N(a.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(a.options.name){var W=this.annotations._nameMap[a.options.name];a.options.pageNumber=W.page,a.options.top=W.y}else a.options.top||(a.options.top=0);if(r="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",o="",a.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(a.options.url))+") >>";else if(a.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,o+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var le=d(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),o+=" /XYZ "+a.options.left+" "+le+" "+a.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(s){var a=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":a.pageContext.annotations.push(s)}},t.link=function(s,a,r,o,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(s),y:f(a),w:h(s+r),h:f(a+o)},options:c,type:"link"})},t.textWithLink=function(s,a,r,o){var c,d,h=this.getTextWidth(s),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var p=this.splitTextToSize(s,d).length;c=Math.ceil(f*p)}else d=h,c=f;return this.text(s,a,r,o),r+=.2*f,o.align==="center"&&(a-=h/2),o.align==="right"&&(a-=h),this.link(a,r-f,d,c,o),h},t.getTextWidth=function(s){var a=this.internal.getFontSize();return this.getStringUnitWidth(s)*a/this.internal.scaleFactor}}(ts.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},d=t.__arabicParser__.isArabicEndLetter=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(_){return c(_)&&r.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return c(_)&&o(_)&&e[_.charCodeAt(0)].length==4},x=t.__arabicParser__.resolveLigatures=function(_){var k=0,C=s,D="",L=0;for(k=0;k<_.length;k+=1)C[_.charCodeAt(k)]!==void 0?(L++,typeof(C=C[_.charCodeAt(k)])=="number"&&(D+=String.fromCharCode(C),C=s,L=0),k===_.length-1&&(C=s,D+=_.charAt(k-(L-1)),k-=L-1,L=0)):(C=s,D+=_.charAt(k-L),k-=L,L=0);return D};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&a[_.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(_,k,C){return c(_)?o(_)===!1?-1:!f(_)||!c(k)&&!c(C)||!c(C)&&d(k)||d(_)&&!c(k)||d(_)&&h(k)||d(_)&&d(k)?0:p(_)&&c(k)&&!d(k)&&c(C)&&f(C)?3:d(_)||!c(C)?1:2:-1},y=function(_){var k=0,C=0,D=0,L="",$="",W="",le=(_=_||"").split("\\s+"),ee=[];for(k=0;k<le.length;k+=1){for(ee.push(""),C=0;C<le[k].length;C+=1)L=le[k][C],$=le[k][C-1],W=le[k][C+1],c(L)?(D=v(L,$,W),ee[k]+=D!==-1?String.fromCharCode(e[L.charCodeAt(0)][D]):L):ee[k]+=L;ee[k]=x(ee[k])}return ee.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var _,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var D=0;for(C=[],D=0;D<k.length;D+=1)Array.isArray(k[D])?C.push([y(k[D][0]),k[D][1],k[D][2]]):C.push([y(k[D])]);_=C}else _=y(k);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",N])}(ts.API),ts.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(d){s=d}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(s,a){var r;if((s=s||"2d")!=="2d")return null;for(r in a)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=a[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ts.API),function(t){var e={left:0,top:0,bottom:0,right:0},s=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(_){x=_}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(_){N=_}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return a.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){a.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,y=0,N=0,_=0,k=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=f.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(L,$){return L.concat(k.splitTextToSize($,C))},[])):h=Array.isArray(h)?h:[h];for(var D=0;D<h.length;D++)y<(_=this.getStringUnitWidth(h[D],{font:x})*p)&&(y=_);return y!==0&&(N=h.length),{w:y/=v,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=x.top,y&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,s===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,p,x,v){if(a.call(this),!p)throw new Error("No data for PDF table.");var y,N,_,k,C=[],D=[],L=[],$={},W={},le=[],ee=[],U=(v=v||{}).autoSize||!1,oe=v.printHeaders!==!1,re=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,O=v.margins||Object.assign({width:this.getPageWidth()},e),R=typeof v.padding=="number"?v.padding:3,ie=v.headerBackgroundColor||"#c8c8c8",X=v.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=oe,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=X,this.setFontSize(re),x==null)D=C=Object.keys(p[0]),L=C.map(function(){return"left"});else if(Array.isArray(x)&&an(x[0])==="object")for(C=x.map(function(B){return B.name}),D=x.map(function(B){return B.prompt||B.name||""}),L=x.map(function(B){return B.align||"left"}),y=0;y<x.length;y+=1)W[x[y].name]=x[y].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(D=C=x,L=C.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(y=0;y<C.length;y+=1){for($[k=C[y]]=p.map(function(B){return B[k]}),this.setFont(void 0,"bold"),le.push(this.getTextDimensions(D[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=$[k],this.setFont(void 0,"normal"),_=0;_<N.length;_+=1)le.push(this.getTextDimensions(N[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[k]=Math.max.apply(null,le)+R+R,le=[]}if(oe){var se={};for(y=0;y<C.length;y+=1)se[C[y]]={},se[C[y]].text=D[y],se[C[y]].align=L[y];var z=d.call(this,se,W);ee=C.map(function(B){return new o(h,f,W[B],z,se[B].text,void 0,se[B].align)}),this.setTableHeaderRow(ee),this.printHeaderRow(1,!1)}var J=x.reduce(function(B,me){return B[me.name]=me.align,B},{});for(y=0;y<p.length;y+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:y,data:p[y]},this);var Q=d.call(this,p[y],W);for(_=0;_<C.length;_+=1){var xe=p[y][C[_]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:y,col:_,data:xe},this),c.call(this,new o(h,f,W[C[_]],Q,xe,y+2,J[C[_]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var d=function(h,f){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(y){var N=h[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,f[y]-p-p)},this).map(function(y){return this.getLineHeightFactor()*y.length*x/v+p+p},this).reduce(function(y,N){return Math.max(y,N)},0)};t.setTableHeaderRow=function(h){a.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){p=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=h;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,p),this.setTextColor(N)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),s=!1}}(ts.API);var P6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},O6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ly=M6(O6),R6=[100,200,300,400,500,600,700,800,900],jF=M6(R6);function cy(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),s=function(o){return P6[o=o||"normal"]?o:"normal"}(t.style),a=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),r=function(o){return typeof ly[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:s,weight:a,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,s,a].join(" ")}}}function vN(t,e,s,a){var r;for(r=s;r>=0&&r<e.length;r+=a)if(t[e[r]])return t[e[r]];for(r=s;r>=0&&r<e.length;r-=a)if(t[e[r]])return t[e[r]]}var SF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function NN(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function _F(t,e,s){for(var a=(s=s||{}).defaultFontFamily||"times",r=Object.assign({},SF,s.genericFontFamilies||{}),o=null,c=null,d=0;d<e.length;++d)if(r[(o=cy(e[d])).family]&&(o.family=r[o.family]),t.hasOwnProperty(o.family)){c=t[o.family];break}if(!(c=c||t[a]))throw new Error("Could not find a font-family for the rule '"+NN(o)+"' and default family '"+a+"'.");if(c=function(h,f){if(f[h])return f[h];var p=ly[h],x=p<=ly.normal?-1:1,v=vN(f,O6,p,x);if(!v)throw new Error("Could not find a matching font-stretch value for "+h);return v}(o.stretch,c),c=function(h,f){if(f[h])return f[h];for(var p=P6[h],x=0;x<p.length;++x)if(f[p[x]])return f[p[x]];throw new Error("Could not find a matching font-style for "+h)}(o.style,c),!(c=function(h,f){if(f[h])return f[h];if(h===400&&f[500])return f[500];if(h===500&&f[400])return f[400];var p=jF[h],x=vN(f,R6,p,h<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+h);return x}(o.weight,c)))throw new Error("Failed to resolve a font for the rule '"+NN(o)+"'.");return c}function jN(t){return t.trimLeft()}function AF(t,e){for(var s=0;s<t.length;){if(t.charAt(s)===e)return[t.substring(0,s),t.substring(s+1)];s+=1}return null}function CF(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var t0,SN,_N,mb=["times"];(function(t){var e,s,a,r,o,c,d,h,f,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new h,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new c,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new c,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,f=new p}]);var x=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var T=M;Object.defineProperty(this,"pdf",{get:function(){return T}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ee){q=!!Ee}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(Ee){Y=!!Ee}});var I=0;Object.defineProperty(this,"posX",{get:function(){return I},set:function(Ee){isNaN(Ee)||(I=Ee)}});var G=0;Object.defineProperty(this,"posY",{get:function(){return G},set:function(Ee){isNaN(Ee)||(G=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ee){var ue;typeof Ee=="number"?ue=[Ee,Ee,Ee,Ee]:((ue=new Array(4))[0]=Ee[0],ue[1]=Ee.length>=2?Ee[1]:ue[0],ue[2]=Ee.length>=3?Ee[2]:ue[0],ue[3]=Ee.length>=4?Ee[3]:ue[1]),f.margin=ue}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Ee){ce=Ee}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Ee){pe=Ee}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(Ee){de=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ee){Ee instanceof p&&(f=Ee)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ee){f.path=Ee}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(Ee){Ne=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ue;ue=v(Ee),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ue=v(Ee);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var be=null;function Te(Ee,ue){if(be===null){var gt=function(ut){var Ve=[];return Object.keys(ut).forEach(function(Ze){ut[Ze].forEach(function(ct){var ve=null;switch(ct){case"bold":ve={family:Ze,weight:"bold"};break;case"italic":ve={family:Ze,style:"italic"};break;case"bolditalic":ve={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":ve={family:Ze}}ve!==null&&(ve.ref={name:Ze,style:ct},Ve.push(ve))})}),Ve}(Ee.getFontList());be=function(ut){for(var Ve={},Ze=0;Ze<ut.length;++Ze){var ct=cy(ut[Ze]),ve=ct.family,Ye=ct.stretch,ht=ct.style,pt=ct.weight;Ve[ve]=Ve[ve]||{},Ve[ve][Ye]=Ve[ve][Ye]||{},Ve[ve][Ye][ht]=Ve[ve][Ye][ht]||{},Ve[ve][Ye][ht][pt]=ct}return Ve}(gt.concat(ue))}return be}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(Ee){be=null,Ge=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ue;if(this.ctx.font=Ee,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var gt=ue[1];ue[2];var ut=ue[3],Ve=ue[4];ue[5];var Ze=ue[6],ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ve)[2];Ve=Math.floor(ct==="px"?parseFloat(Ve)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(Ve)*this.pdf.getFontSize():parseFloat(Ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ve);var ve=function(fe){var nt,Xe,Pt=[],Nt=fe.trim();if(Nt==="")return mb;if(Nt in wN)return[wN[Nt]];for(;Nt!=="";){switch(Xe=null,nt=(Nt=jN(Nt)).charAt(0)){case'"':case"'":Xe=AF(Nt.substring(1),nt);break;default:Xe=CF(Nt)}if(Xe===null||(Pt.push(Xe[0]),(Nt=jN(Xe[1]))!==""&&Nt.charAt(0)!==","))return mb;Nt=Nt.replace(/^,/,"")}return Pt}(Ze);if(this.fontFaces){var Ye=_F(Te(this.pdf,this.fontFaces),ve.map(function(fe){return{family:fe,stretch:"normal",weight:ut,style:gt}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var ht="";(ut==="bold"||parseInt(ut,10)>=700||gt==="bold")&&(ht="bold"),gt==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var pt="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},rt=0;rt<ve.length;rt++){if(this.pdf.internal.getFont(ve[rt],ht,{noFallback:!0,disableWarning:!0})!==void 0){pt=ve[rt];break}if(ht==="bolditalic"&&this.pdf.internal.getFont(ve[rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=ve[rt],ht="bold";else if(this.pdf.internal.getFont(ve[rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=ve[rt],ht="normal";break}}if(pt===""){for(var Dt=0;Dt<ve.length;Dt++)if(St[ve[Dt]]){pt=St[ve[Dt]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};x.prototype.setLineDash=function(M){this.lineDash=M},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){$.call(this,"fill",!1)},x.prototype.stroke=function(){$.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(M,T){if(isNaN(M)||isNaN(T))throw un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new c(M,T));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(M,T)},x.prototype.closePath=function(){var M=new c(0,0),T=0;for(T=this.path.length-1;T!==-1;T--)if(this.path[T].type==="begin"&&an(this.path[T+1])==="object"&&typeof this.path[T+1].x=="number"){M=new c(this.path[T+1].x,this.path[T+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(M.x,M.y)},x.prototype.lineTo=function(M,T){if(isNaN(M)||isNaN(T))throw un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new c(M,T));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(q.x,q.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},x.prototype.quadraticCurveTo=function(M,T,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(M)||isNaN(T))throw un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var I=this.ctx.transform.applyToPoint(new c(q,Y)),G=this.ctx.transform.applyToPoint(new c(M,T));this.path.push({type:"qct",x1:G.x,y1:G.y,x:I.x,y:I.y}),this.ctx.lastPoint=new c(I.x,I.y)},x.prototype.bezierCurveTo=function(M,T,q,Y,I,G){if(isNaN(I)||isNaN(G)||isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y))throw un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new c(I,G)),pe=this.ctx.transform.applyToPoint(new c(M,T)),de=this.ctx.transform.applyToPoint(new c(q,Y));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:de.x,y2:de.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},x.prototype.arc=function(M,T,q,Y,I,G){if(isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(I))throw un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(G=!!G,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new c(M,T));M=ce.x,T=ce.y;var pe=this.ctx.transform.applyToPoint(new c(0,q)),de=this.ctx.transform.applyToPoint(new c(0,0));q=Math.sqrt(Math.pow(pe.x-de.x,2)+Math.pow(pe.y-de.y,2))}Math.abs(I-Y)>=2*Math.PI&&(Y=0,I=2*Math.PI),this.path.push({type:"arc",x:M,y:T,radius:q,startAngle:Y,endAngle:I,counterclockwise:G})},x.prototype.arcTo=function(M,T,q,Y,I){throw new Error("arcTo not implemented.")},x.prototype.rect=function(M,T,q,Y){if(isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y))throw un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,T),this.lineTo(M+q,T),this.lineTo(M+q,T+Y),this.lineTo(M,T+Y),this.lineTo(M,T),this.lineTo(M+q,T),this.lineTo(M,T)},x.prototype.fillRect=function(M,T,q,Y){if(isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y))throw un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var I={};this.lineCap!=="butt"&&(I.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(I.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,T,q,Y),this.fill(),I.hasOwnProperty("lineCap")&&(this.lineCap=I.lineCap),I.hasOwnProperty("lineJoin")&&(this.lineJoin=I.lineJoin)}},x.prototype.strokeRect=function(M,T,q,Y){if(isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y))throw un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(M,T,q,Y),this.stroke())},x.prototype.clearRect=function(M,T,q,Y){if(isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y))throw un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,T,q,Y))},x.prototype.save=function(M){M=typeof M!="boolean"||M;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(T),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},x.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(T),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var T,q,Y,I;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))T=0,q=0,Y=0,I=0;else{var G=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(G!==null)T=parseInt(G[1]),q=parseInt(G[2]),Y=parseInt(G[3]),I=1;else if((G=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)T=parseInt(G[1]),q=parseInt(G[2]),Y=parseInt(G[3]),I=parseFloat(G[4]);else{if(I=1,typeof M=="string"&&M.charAt(0)!=="#"){var ce=new C6(M);M=ce.ok?ce.toHex():"#000000"}M.length===4?(T=M.substring(1,2),T+=T,q=M.substring(2,3),q+=q,Y=M.substring(3,4),Y+=Y):(T=M.substring(1,3),q=M.substring(3,5),Y=M.substring(5,7)),T=parseInt(T,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:T,g:q,b:Y,a:I,style:M}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(M,T,q,Y){if(isNaN(T)||isNaN(q)||typeof M!="string")throw un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!y.call(this)){var I=Q(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;R.call(this,{text:M,x:T,y:q,scale:G,angle:I,align:this.textAlign,maxWidth:Y})}},x.prototype.strokeText=function(M,T,q,Y){if(isNaN(T)||isNaN(q)||typeof M!="string")throw un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Y=isNaN(Y)?void 0:Y;var I=Q(this.ctx.transform.rotation),G=this.ctx.transform.scaleX;R.call(this,{text:M,x:T,y:q,scale:G,renderingMode:"stroke",angle:I,align:this.textAlign,maxWidth:Y})}},x.prototype.measureText=function(M){if(typeof M!="string")throw un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var T=this.pdf,q=this.pdf.internal.scaleFactor,Y=T.internal.getFontSize(),I=T.getStringUnitWidth(M)*Y/T.internal.scaleFactor,G=function(ce){var pe=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new G({width:I*=Math.round(96*q/72*1e4)/1e4})},x.prototype.scale=function(M,T){if(isNaN(M)||isNaN(T))throw un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new h(M,0,0,T,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.rotate=function(M){if(isNaN(M))throw un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var T=new h(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(T)},x.prototype.translate=function(M,T){if(isNaN(M)||isNaN(T))throw un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new h(1,0,0,1,M,T);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.transform=function(M,T,q,Y,I,G){if(isNaN(M)||isNaN(T)||isNaN(q)||isNaN(Y)||isNaN(I)||isNaN(G))throw un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new h(M,T,q,Y,I,G);this.ctx.transform=this.ctx.transform.multiply(ce)},x.prototype.setTransform=function(M,T,q,Y,I,G){M=isNaN(M)?1:M,T=isNaN(T)?0:T,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,I=isNaN(I)?0:I,G=isNaN(G)?0:G,this.ctx.transform=new h(M,T,q,Y,I,G)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(M,T,q,Y,I,G,ce,pe,de){var Ne=this.pdf.getImageProperties(M),be=1,Te=1,Ge=1,Ee=1;Y!==void 0&&pe!==void 0&&(Ge=pe/Y,Ee=de/I,be=Ne.width/Y*pe/Y,Te=Ne.height/I*de/I),G===void 0&&(G=T,ce=q,T=0,q=0),Y!==void 0&&pe===void 0&&(pe=Y,de=I),Y===void 0&&pe===void 0&&(pe=Ne.width,de=Ne.height);for(var ue,gt=this.ctx.transform.decompose(),ut=Q(gt.rotate.shx),Ve=new h,Ze=(Ve=(Ve=(Ve=Ve.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new d(G-T*Ge,ce-q*Ee,Y*be,I*Te)),ct=k.call(this,Ze),ve=[],Ye=0;Ye<ct.length;Ye+=1)ve.indexOf(ct[Ye])===-1&&ve.push(ct[Ye]);if(L(ve),this.autoPaging)for(var ht=ve[0],pt=ve[ve.length-1],St=ht;St<pt+1;St++){this.pdf.setPage(St);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=St===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=St===1?0:fe+(St-2)*nt;if(this.ctx.clip_path.length!==0){var Pt=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ue,this.posX+this.margin[3],-Xe+Dt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Pt}var Nt=JSON.parse(JSON.stringify(Ze));Nt=D([Nt],this.posX+this.margin[3],-Xe+Dt+this.ctx.prevPageLastElemOffset)[0];var ss=(St>ht||St<pt)&&_.call(this);ss&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,nt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,ut),ss&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,ut)};var k=function(M,T,q){var Y=[];T=T||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var I=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Y.push(Math.floor((M.y+I)/q)+1);break;case"arc":Y.push(Math.floor((M.y+I-M.radius)/q)+1),Y.push(Math.floor((M.y+I+M.radius)/q)+1);break;case"qct":var G=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Y.push(Math.floor((G.y+I)/q)+1),Y.push(Math.floor((G.y+G.h+I)/q)+1);break;case"bct":var ce=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Y.push(Math.floor((ce.y+I)/q)+1),Y.push(Math.floor((ce.y+ce.h+I)/q)+1);break;case"rect":Y.push(Math.floor((M.y+I)/q)+1),Y.push(Math.floor((M.y+M.h+I)/q)+1)}for(var pe=0;pe<Y.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[pe];)C.call(this);return Y},C=function(){var M=this.fillStyle,T=this.strokeStyle,q=this.font,Y=this.lineCap,I=this.lineWidth,G=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=T,this.font=q,this.lineCap=Y,this.lineWidth=I,this.lineJoin=G},D=function(M,T,q){for(var Y=0;Y<M.length;Y++)switch(M[Y].type){case"bct":M[Y].x2+=T,M[Y].y2+=q;case"qct":M[Y].x1+=T,M[Y].y1+=q;case"mt":case"lt":case"arc":default:M[Y].x+=T,M[Y].y+=q}return M},L=function(M){return M.sort(function(T,q){return T-q})},$=function(M,T){for(var q,Y,I=this.fillStyle,G=this.strokeStyle,ce=this.lineCap,pe=this.lineWidth,de=Math.abs(pe*this.ctx.transform.scaleX),Ne=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ge=[],Ee=0;Ee<Te.length;Ee++)if(Te[Ee].x!==void 0)for(var ue=k.call(this,Te[Ee]),gt=0;gt<ue.length;gt+=1)Ge.indexOf(ue[gt])===-1&&Ge.push(ue[gt]);for(var ut=0;ut<Ge.length;ut++)for(;this.pdf.internal.getNumberOfPages()<Ge[ut];)C.call(this);if(L(Ge),this.autoPaging)for(var Ve=Ge[0],Ze=Ge[Ge.length-1],ct=Ve;ct<Ze+1;ct++){this.pdf.setPage(ct),this.fillStyle=I,this.strokeStyle=G,this.lineCap=ce,this.lineWidth=de,this.lineJoin=Ne;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=ct===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=ct===1?0:ht+(ct-2)*pt;if(this.ctx.clip_path.length!==0){var rt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(q,this.posX+this.margin[3],-St+Ye+this.ctx.prevPageLastElemOffset),W.call(this,M,!0),this.path=rt}if(Y=JSON.parse(JSON.stringify(be)),this.path=D(Y,this.posX+this.margin[3],-St+Ye+this.ctx.prevPageLastElemOffset),T===!1||ct===0){var Dt=(ct>Ve||ct<Ze)&&_.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,pt,null).clip().discardPath()),W.call(this,M,T),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=de,W.call(this,M,T),this.lineWidth=pe;this.path=be},W=function(M,T){if((M!=="stroke"||T||!N.call(this))&&(M==="stroke"||T||!y.call(this))){for(var q,Y,I=[],G=this.path,ce=0;ce<G.length;ce++){var pe=G[ce];switch(pe.type){case"begin":I.push({begin:!0});break;case"close":I.push({close:!0});break;case"mt":I.push({start:pe,deltas:[],abs:[]});break;case"lt":var de=I.length;if(G[ce-1]&&!isNaN(G[ce-1].x)&&(q=[pe.x-G[ce-1].x,pe.y-G[ce-1].y],de>0)){for(;de>=0;de--)if(I[de-1].close!==!0&&I[de-1].begin!==!0){I[de-1].deltas.push(q),I[de-1].abs.push(pe);break}}break;case"bct":q=[pe.x1-G[ce-1].x,pe.y1-G[ce-1].y,pe.x2-G[ce-1].x,pe.y2-G[ce-1].y,pe.x-G[ce-1].x,pe.y-G[ce-1].y],I[I.length-1].deltas.push(q);break;case"qct":var Ne=G[ce-1].x+2/3*(pe.x1-G[ce-1].x),be=G[ce-1].y+2/3*(pe.y1-G[ce-1].y),Te=pe.x+2/3*(pe.x1-pe.x),Ge=pe.y+2/3*(pe.y1-pe.y),Ee=pe.x,ue=pe.y;q=[Ne-G[ce-1].x,be-G[ce-1].y,Te-G[ce-1].x,Ge-G[ce-1].y,Ee-G[ce-1].x,ue-G[ce-1].y],I[I.length-1].deltas.push(q);break;case"arc":I.push({deltas:[],abs:[],arc:!0}),Array.isArray(I[I.length-1].abs)&&I[I.length-1].abs.push(pe)}}Y=T?null:M==="stroke"?"stroke":"fill";for(var gt=!1,ut=0;ut<I.length;ut++)if(I[ut].arc)for(var Ve=I[ut].abs,Ze=0;Ze<Ve.length;Ze++){var ct=Ve[Ze];ct.type==="arc"?U.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,T,!gt):ie.call(this,ct.x,ct.y),gt=!0}else if(I[ut].close===!0)this.pdf.internal.out("h"),gt=!1;else if(I[ut].begin!==!0){var ve=I[ut].start.x,Ye=I[ut].start.y;X.call(this,I[ut].deltas,ve,Ye),gt=!0}Y&&oe.call(this,Y),T&&re.call(this)}},le=function(M){var T=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=T*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+T-q;case"hanging":return M+T-2*q;case"middle":return M+T/2-q;case"ideographic":return M;case"alphabetic":default:return M}},ee=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(T,q){this.colorStops.push([T,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(M,T,q,Y,I,G,ce,pe,de){for(var Ne=z.call(this,q,Y,I,G),be=0;be<Ne.length;be++){var Te=Ne[be];be===0&&(de?O.call(this,Te.x1+M,Te.y1+T):ie.call(this,Te.x1+M,Te.y1+T)),se.call(this,M,T,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}pe?re.call(this):oe.call(this,ce)},oe=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(M,T){this.pdf.internal.out(s(M)+" "+a(T)+" m")},R=function(M){var T;switch(M.align){case"right":case"end":T="right";break;case"center":T="center";break;case"left":case"start":default:T="left"}var q=this.pdf.getTextDimensions(M.text),Y=le.call(this,M.y),I=ee.call(this,Y)-q.h,G=this.ctx.transform.applyToPoint(new c(M.x,Y)),ce=this.ctx.transform.decompose(),pe=new h;pe=(pe=(pe=pe.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var de,Ne,be,Te=this.ctx.transform.applyToRectangle(new d(M.x,Y,q.w,q.h)),Ge=pe.applyToRectangle(new d(M.x,I,q.w,q.h)),Ee=k.call(this,Ge),ue=[],gt=0;gt<Ee.length;gt+=1)ue.indexOf(Ee[gt])===-1&&ue.push(Ee[gt]);if(L(ue),this.autoPaging)for(var ut=ue[0],Ve=ue[ue.length-1],Ze=ut;Ze<Ve+1;Ze++){this.pdf.setPage(Ze);var ct=Ze===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],ht=Ye-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],St=pt-this.margin[3],rt=Ze===1?0:ve+(Ze-2)*ht;if(this.ctx.clip_path.length!==0){var Dt=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(de,this.posX+this.margin[3],-1*rt+ct),W.call(this,"fill",!0),this.path=Dt}var fe=D([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-rt+ct+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*M.scale),be=this.lineWidth,this.lineWidth=be*M.scale);var nt=this.autoPaging!=="text";if(nt||fe.y+fe.h<=Ye){if(nt||fe.y>=ct&&fe.x<=pt){var Xe=nt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||pt-fe.x)[0],Pt=D([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-rt+ct+this.ctx.prevPageLastElemOffset)[0],Nt=nt&&(Ze>ut||Ze<Ve)&&_.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,ht,null).clip().discardPath()),this.pdf.text(Xe,Pt.x,Pt.y,{angle:M.angle,align:T,renderingMode:M.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else fe.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-fe.y);M.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=be)}else M.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*M.scale),be=this.lineWidth,this.lineWidth=be*M.scale),this.pdf.text(M.text,G.x+this.posX,G.y+this.posY,{angle:M.angle,align:T,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=be)},ie=function(M,T,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(s(M+q)+" "+a(T+Y)+" l")},X=function(M,T,q){return this.pdf.lines(M,T,q,null,null)},se=function(M,T,q,Y,I,G,ce,pe){this.pdf.internal.out([e(r(q+M)),e(o(Y+T)),e(r(I+M)),e(o(G+T)),e(r(ce+M)),e(o(pe+T)),"c"].join(" "))},z=function(M,T,q,Y){for(var I=2*Math.PI,G=Math.PI/2;T>q;)T-=I;var ce=Math.abs(q-T);ce<I&&Y&&(ce=I-ce);for(var pe=[],de=Y?-1:1,Ne=T;ce>1e-5;){var be=Ne+de*Math.min(ce,G);pe.push(J.call(this,M,Ne,be)),ce-=Math.abs(be-Ne),Ne=be}return pe},J=function(M,T,q){var Y=(q-T)/2,I=M*Math.cos(Y),G=M*Math.sin(Y),ce=I,pe=-G,de=ce*ce+pe*pe,Ne=de+ce*I+pe*G,be=4/3*(Math.sqrt(2*de*Ne)-Ne)/(ce*G-pe*I),Te=ce-be*pe,Ge=pe+be*ce,Ee=Te,ue=-Ge,gt=Y+T,ut=Math.cos(gt),Ve=Math.sin(gt);return{x1:M*Math.cos(T),y1:M*Math.sin(T),x2:Te*ut-Ge*Ve,y2:Te*Ve+Ge*ut,x3:Ee*ut-ue*Ve,y3:Ee*Ve+ue*ut,x4:M*Math.cos(q),y4:M*Math.sin(q)}},Q=function(M){return 180*M/Math.PI},xe=function(M,T,q,Y,I,G){var ce=M+.5*(q-M),pe=T+.5*(Y-T),de=I+.5*(q-I),Ne=G+.5*(Y-G),be=Math.min(M,I,ce,de),Te=Math.max(M,I,ce,de),Ge=Math.min(T,G,pe,Ne),Ee=Math.max(T,G,pe,Ne);return new d(be,Ge,Te-be,Ee-Ge)},B=function(M,T,q,Y,I,G,ce,pe){var de,Ne,be,Te,Ge,Ee,ue,gt,ut,Ve,Ze,ct,ve,Ye,ht=q-M,pt=Y-T,St=I-q,rt=G-Y,Dt=ce-I,fe=pe-G;for(Ne=0;Ne<41;Ne++)ut=(ue=(be=M+(de=Ne/40)*ht)+de*((Ge=q+de*St)-be))+de*(Ge+de*(I+de*Dt-Ge)-ue),Ve=(gt=(Te=T+de*pt)+de*((Ee=Y+de*rt)-Te))+de*(Ee+de*(G+de*fe-Ee)-gt),Ne==0?(Ze=ut,ct=Ve,ve=ut,Ye=Ve):(Ze=Math.min(Ze,ut),ct=Math.min(ct,Ve),ve=Math.max(ve,ut),Ye=Math.max(Ye,Ve));return new d(Math.round(Ze),Math.round(ct),Math.round(ve-Ze),Math.round(Ye-ct))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,T,q=(M=this.ctx.lineDash,T=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:T}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ts.API),function(t){var e=function(o){var c,d,h,f,p,x,v,y,N,_;for(d=[],h=0,f=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(p=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(x=(p=((p=((p=((p=(p-(_=p%85))/85)-(N=p%85))/85)-(y=p%85))/85)-(v=p%85))/85)%85,d.push(x+33,v+33,y+33,N+33,_+33)):d.push(122);return function(k,C){for(var D=C;D>0;D--)k.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},s=function(o){var c,d,h,f,p,x=String,v="length",y=255,N="charCodeAt",_="slice",k="replace";for(o[_](-2),o=o[_](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),h=[],f=0,p=(o+=c="uuuuu"[_](o[v]%5||5))[v];p>f;f+=5)d=52200625*(o[N](f)-33)+614125*(o[N](f+1)-33)+7225*(o[N](f+2)-33)+85*(o[N](f+3)-33)+(o[N](f+4)-33),h.push(y&d>>24,y&d>>16,y&d>>8,y&d);return function(C,D){for(var L=D;L>0;L--)C.pop()}(h,c[v]),x.fromCharCode.apply(x,h)},a=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var d="",h=0;h<o.length;h+=2)d+=String.fromCharCode("0x"+(o[h]+o[h+1]));return d},r=function(o){for(var c=new Uint8Array(o.length),d=o.length;d--;)c[d]=o.charCodeAt(d);return o=(c=ny(c)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,c){var d=0,h=o||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=s(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=a(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=r(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}}(ts.API),function(t){t.loadFile=function(e,s,a){return function(r,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(h,f,p){var x=new XMLHttpRequest,v=0,y=function(N){var _=N.length,k=[],C=String.fromCharCode;for(v=0;v<_;v+=1)k.push(C(255&N.charCodeAt(v)));return k.join("")};if(x.open("GET",h,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?p(y(this.responseText)):p(void 0)}),x.send(null),f&&x.status===200)return y(x.responseText)}(r,o,c)}catch{}return d}(e,s,a)},t.loadImageFile=t.loadFile}(ts.API),function(t){function e(){return(rs.html2canvas?Promise.resolve(rs.html2canvas):Jb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function s(){return(rs.DOMPurify?Promise.resolve(rs.DOMPurify):Jb(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var a=function(c){var d=an(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},r=function(c,d){var h=document.createElement(c);for(var f in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[f]=d.style[f];return h},o=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),h);return f=(f=f.setProgress(1,c,1,[c])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,d){return c.__proto__=d||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(h){switch(a(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(s).then(function(h){return this.set({src:r("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function h(f,p){for(var x=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),v=f.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||x.appendChild(h(v,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(x.width=f.width,x.height=f.height,x.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(x.value=f.value),x.addEventListener("load",function(){x.scrollTop=f.scrollTop,x.scrollLeft=f.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var v=0;v<f.length;++v){var y=f[v],N=y.src.find(function(_){return _.format==="truetype"});N&&h.addFont(N.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(c,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},o.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(c){if(a(c)!=="object")return this;var d=Object.keys(c||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(c,d){return this.then(function(){var h=c in o.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},o.prototype.setMargin=function(c){return this.then(function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},o.prototype.setPageSize=function(c){function d(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(c=c||ts.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},o.prototype.setProgress=function(c,d,h,f){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,d,h,f){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,f),x}).then(f,p).then(function(x){return h.updateProgress(1),x})})},o.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then,c&&(c=c.bind(this)),d&&(d=d.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),p=h.call(f,c,d);return o.convert(p,this.__proto__)},o.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},o.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},o.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return o.convert(d,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then(function(){throw new Error(c)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ts.getPageSize=function(c,d,h){if(an(c)==="object"){var f=c;c=f.orientation,d=f.unit||d,h=f.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var p,x=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+d}var y,N=0,_=0;if(v.hasOwnProperty(x))N=v[x][1]/p,_=v[x][0]/p;else try{N=h[1],_=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",_>N&&(y=_,_=N,N=y);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>_&&(y=_,_=N,N=y)}return{width:_,height:N,unit:d,k:p,orientation:c}},t.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(cy):null;var h=new o(d);return d.worker?h:h.from(c).doCallback()}}(ts.API),ts.API.addJS=function(t){return _N=t,this.internal.events.subscribe("postPutResources",function(){t0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),SN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_N+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t0!==void 0&&SN!==void 0&&this.internal.out("/Names <</JavaScript "+t0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var s=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=s.outline.render().split(/\r\n/),o=0;o<r.length;o++){var c=r[o],d=a.exec(c);if(d!=null){var h=d[1];s.internal.newObjectDeferredBegin(h,!1)}s.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(o=0;o<f;o++){var x=s.internal.newObject();p.push(x);var v=s.internal.getPageInfo(o+1);s.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var y=s.internal.newObject();for(s.internal.write("<< /Names [ "),o=0;o<p.length;o++)s.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");s.internal.write(" ] >>","endobj"),e=s.internal.newObject(),s.internal.write("<< /Dests "+y+" 0 R"),s.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(a,r,o){var c={title:r,options:o,children:[]};return a==null&&(a=this.root),a.children.push(c),c},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(a){a.id=s.internal.newObjectDeferred();for(var r=0;r<a.children.length;r++)this.genIds_r(a.children[r])},s.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},s.outline.renderItems=function(a){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<a.children.length;o++){var c=a.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),o>0&&this.line("/Prev "+this.makeRef(a.children[o-1])),o<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=s.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<a.children.length;f++)this.renderItems(a.children[f])},s.outline.line=function(a){this.ctx.val+=a+`\r
`},s.outline.makeRef=function(a){return a.id+" 0 R"},s.outline.makeString=function(a){return"("+s.internal.pdfEscape(a)+")"},s.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(a,r){for(var o=0;o<r.children.length;o++)a.count++,this.count_r(a,r.children[o]);return a.count}}])}(ts.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(s,a,r,o,c,d){var h,f=this.decode.DCT_DECODE,p=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=c||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,(h=function(x){for(var v,y=256*x.charCodeAt(4)+x.charCodeAt(5),N=x.length,_={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=y,e.indexOf(x.charCodeAt(k+1))!==-1){v=256*x.charCodeAt(k+5)+x.charCodeAt(k+6),_={width:256*x.charCodeAt(k+7)+x.charCodeAt(k+8),height:v,numcomponents:x.charCodeAt(k+9)};break}y=256*x.charCodeAt(k+2)+x.charCodeAt(k+3)}return _}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}p={data:s,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:f,index:a,alias:r}}return p}}(ts.API);var Ju,s0,AN,CN,kN,kF=function(){var t,e,s;function a(o){var c,d,h,f,p,x,v,y,N,_,k,C,D,L;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(c=this.readUInt32(),N=(function(){var $,W;for(W=[],$=0;$<4;++$)W.push(String.fromCharCode(this.data[this.pos++]));return W}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,x.delay=1e3*p/f,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,c-=4),o=(x!=null?x.data:void 0)||this.imgData,C=0;0<=c?C<c:C>c;0<=c?++C:--C)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((_=h-this.transparency.indexed.length)>0)for(D=0;0<=_?D<_:D>_;0<=_?++D:--D)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":v=(k=this.read(c)).indexOf(0),y=String.fromCharCode.apply(String,k.slice(0,v)),this.text[y]=String.fromCharCode.apply(String,k.slice(v+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(o){var c,d;for(d=[],c=0;0<=o?c<o:c>o;0<=o?++c:--c)d.push(this.data[this.pos++]);return d},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(o){var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),h=0,f=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function p(x,v,y,N){var _,k,C,D,L,$,W,le,ee,U,oe,re,O,R,ie,X,se,z,J,Q,xe,B=Math.ceil((f.width-x)/y),me=Math.ceil((f.height-v)/N),M=f.width==B&&f.height==me;for(R=c*B,re=M?d:new Uint8Array(R*me),$=o.length,O=0,k=0;O<me&&h<$;){switch(o[h++]){case 0:for(D=se=0;se<R;D=se+=1)re[k++]=o[h++];break;case 1:for(D=z=0;z<R;D=z+=1)_=o[h++],L=D<c?0:re[k-c],re[k++]=(_+L)%256;break;case 2:for(D=J=0;J<R;D=J+=1)_=o[h++],C=(D-D%c)/c,ie=O&&re[(O-1)*R+C*c+D%c],re[k++]=(ie+_)%256;break;case 3:for(D=Q=0;Q<R;D=Q+=1)_=o[h++],C=(D-D%c)/c,L=D<c?0:re[k-c],ie=O&&re[(O-1)*R+C*c+D%c],re[k++]=(_+Math.floor((L+ie)/2))%256;break;case 4:for(D=xe=0;xe<R;D=xe+=1)_=o[h++],C=(D-D%c)/c,L=D<c?0:re[k-c],O===0?ie=X=0:(ie=re[(O-1)*R+C*c+D%c],X=C&&re[(O-1)*R+(C-1)*c+D%c]),W=L+ie-X,le=Math.abs(W-L),U=Math.abs(W-ie),oe=Math.abs(W-X),ee=le<=U&&le<=oe?L:U<=oe?ie:X,re[k++]=(_+ee)%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!M){var T=((v+O*N)*f.width+x)*c,q=O*R;for(D=0;D<B;D+=1){for(var Y=0;Y<c;Y+=1)d[T++]=re[q++];T+=(y-1)*c}}O++}}return o=iF(o),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),d},a.prototype.decodePalette=function(){var o,c,d,h,f,p,x,v,y;for(d=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+d.length),h=0,o=0,c=x=0,v=d.length;x<v;c=x+=3)f[h++]=d[c],f[h++]=d[c+1],f[h++]=d[c+2],f[h++]=(y=p[o++])!=null?y:255;return f},a.prototype.copyToImageData=function(o,c){var d,h,f,p,x,v,y,N,_,k,C;if(h=this.colors,_=null,d=this.hasAlphaChannel,this.palette.length&&(_=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),h=4,d=!0),N=(f=o.data||o).length,x=_||c,p=v=0,h===1)for(;p<N;)y=_?4*c[p/4]:v,k=x[y++],f[p++]=k,f[p++]=k,f[p++]=k,f[p++]=d?x[y++]:255,v=y;else for(;p<N;)y=_?4*c[p/4]:v,f[p++]=x[y++],f[p++]=x[y++],f[p++]=x[y++],f[p++]=d?x[y++]:255,v=y},a.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if(Object.prototype.toString.call(rs)==="[object Window]"){try{e=rs.document.createElement("canvas"),s=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),t=function(o){var c;if(r()===!0)return s.width=o.width,s.height=o.height,s.clearRect(0,0,o.width,o.height),s.putImageData(o,0,0),(c=new Image).src=e.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(o){var c,d,h,f,p,x,v,y;if(this.animation){for(y=[],d=p=0,x=(v=this.animation.frames).length;p<x;d=++p)c=v[d],h=o.createImageData(c.width,c.height),f=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(h,f),c.imageData=h,y.push(c.image=t(h));return y}},a.prototype.renderFrame=function(o,c){var d,h,f;return d=(h=this.animation.frames)[c],f=h[c-1],c===0&&o.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?o.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&o.putImageData(f.imageData,f.xOffset,f.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},a.prototype.animate=function(o){var c,d,h,f,p,x,v=this;return d=0,x=this.animation,f=x.numFrames,h=x.frames,p=x.numPlays,(c=function(){var y,N;if(y=d++%f,N=h[y],v.renderFrame(o,y),f>1&&d/f<p)return v.animation._timeout=setTimeout(c,N.delay)})()},a.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},a.prototype.render=function(o){var c,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,c=o.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function DF(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=t[e++]|t[e++]<<8,a=t[e++]|t[e++]<<8,r=t[e++],o=r>>7,c=1<<(7&r)+1;t[e++],t[e++];var d=null,h=null;o&&(d=e,h=c,e+=3*c);var f=!0,p=[],x=0,v=null,y=0,N=null;for(this.width=s,this.height=a;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];x=t[e++]|t[e++]<<8,v=t[e++],(1&_)==0&&(v=null),y=_>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,D=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,$=t[e++],W=$>>6&1,le=1<<(7&$)+1,ee=d,U=h,oe=!1;$>>7&&(oe=!0,ee=e,U=le,e+=3*le);var re=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}p.push({x:k,y:C,width:D,height:L,has_local_palette:oe,palette_offset:ee,palette_size:U,data_offset:re,data_length:e-re,transparent_index:v,interlaced:!!W,delay:x,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(R){if(R<0||R>=p.length)throw new Error("Frame index out of range.");return p[R]},this.decodeAndBlitFrameBGRA=function(R,ie){var X=this.frameInfo(R),se=X.width*X.height,z=new Uint8Array(se);DN(t,X.data_offset,z,se);var J=X.palette_offset,Q=X.transparent_index;Q===null&&(Q=256);var xe=X.width,B=s-xe,me=xe,M=4*(X.y*s+X.x),T=4*((X.y+X.height)*s+X.x),q=M,Y=4*B;X.interlaced===!0&&(Y+=4*s*7);for(var I=8,G=0,ce=z.length;G<ce;++G){var pe=z[G];if(me===0&&(me=xe,(q+=Y)>=T&&(Y=4*B+4*s*(I-1),q=M+(xe+B)*(I<<1),I>>=1)),pe===Q)q+=4;else{var de=t[J+3*pe],Ne=t[J+3*pe+1],be=t[J+3*pe+2];ie[q++]=be,ie[q++]=Ne,ie[q++]=de,ie[q++]=255}--me}},this.decodeAndBlitFrameRGBA=function(R,ie){var X=this.frameInfo(R),se=X.width*X.height,z=new Uint8Array(se);DN(t,X.data_offset,z,se);var J=X.palette_offset,Q=X.transparent_index;Q===null&&(Q=256);var xe=X.width,B=s-xe,me=xe,M=4*(X.y*s+X.x),T=4*((X.y+X.height)*s+X.x),q=M,Y=4*B;X.interlaced===!0&&(Y+=4*s*7);for(var I=8,G=0,ce=z.length;G<ce;++G){var pe=z[G];if(me===0&&(me=xe,(q+=Y)>=T&&(Y=4*B+4*s*(I-1),q=M+(xe+B)*(I<<1),I>>=1)),pe===Q)q+=4;else{var de=t[J+3*pe],Ne=t[J+3*pe+1],be=t[J+3*pe+2];ie[q++]=de,ie[q++]=Ne,ie[q++]=be,ie[q++]=255}--me}}}function DN(t,e,s,a){for(var r=t[e++],o=1<<r,c=o+1,d=c+1,h=r+1,f=(1<<h)-1,p=0,x=0,v=0,y=t[e++],N=new Int32Array(4096),_=null;;){for(;p<16&&y!==0;)x|=t[e++]<<p,p+=8,y===1?y=t[e++]:--y;if(p<h)break;var k=x&f;if(x>>=h,p-=h,k!==o){if(k===c)break;for(var C=k<d?k:_,D=0,L=C;L>o;)L=N[L]>>8,++D;var $=L;if(v+D+(C!==k?1:0)>a)return void un.log("Warning, gif stream longer than expected.");s[v++]=$;var W=v+=D;for(C!==k&&(s[v++]=$),L=C;D--;)L=N[L],s[--W]=255&L,L>>=8;_!==null&&d<4096&&(N[d++]=_<<8|$,d>=f+1&&h<12&&(++h,f=f<<1|1)),_=k}else d=c+1,f=(1<<(h=r+1))-1,_=null}return v!==a&&un.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pb(t){var e,s,a,r,o,c=Math.floor,d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(64),x=new Array(65535),v=new Array(65535),y=new Array(64),N=new Array(64),_=[],k=0,C=7,D=new Array(64),L=new Array(64),$=new Array(64),W=new Array(256),le=new Array(2048),ee=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(M,T){for(var q=0,Y=0,I=new Array,G=1;G<=16;G++){for(var ce=1;ce<=M[G];ce++)I[T[Y]]=[],I[T[Y]][0]=q,I[T[Y]][1]=G,Y++,q++;q*=2}return I}function J(M){for(var T=M[0],q=M[1]-1;q>=0;)T&1<<q&&(k|=1<<C),q--,--C<0&&(k==255?(Q(255),Q(0)):Q(k),C=7,k=0)}function Q(M){_.push(M)}function xe(M){Q(M>>8&255),Q(255&M)}function B(M,T,q,Y,I){for(var G,ce=I[0],pe=I[240],de=function(Ve,Ze){var ct,ve,Ye,ht,pt,St,rt,Dt,fe,nt,Xe=0;for(fe=0;fe<8;++fe){ct=Ve[Xe],ve=Ve[Xe+1],Ye=Ve[Xe+2],ht=Ve[Xe+3],pt=Ve[Xe+4],St=Ve[Xe+5],rt=Ve[Xe+6];var Pt=ct+(Dt=Ve[Xe+7]),Nt=ct-Dt,ss=ve+rt,Re=ve-rt,qe=Ye+St,He=Ye-St,Pe=ht+pt,yt=ht-pt,vt=Pt+Pe,Mt=Pt-Pe,Zt=ss+qe,Gt=ss-qe;Ve[Xe]=vt+Zt,Ve[Xe+4]=vt-Zt;var Rt=.707106781*(Gt+Mt);Ve[Xe+2]=Mt+Rt,Ve[Xe+6]=Mt-Rt;var jt=.382683433*((vt=yt+He)-(Gt=Re+Nt)),js=.5411961*vt+jt,Os=1.306562965*Gt+jt,xn=.707106781*(Zt=He+Re),jn=Nt+xn,Ot=Nt-xn;Ve[Xe+5]=Ot+js,Ve[Xe+3]=Ot-js,Ve[Xe+1]=jn+Os,Ve[Xe+7]=jn-Os,Xe+=8}for(Xe=0,fe=0;fe<8;++fe){ct=Ve[Xe],ve=Ve[Xe+8],Ye=Ve[Xe+16],ht=Ve[Xe+24],pt=Ve[Xe+32],St=Ve[Xe+40],rt=Ve[Xe+48];var vs=ct+(Dt=Ve[Xe+56]),cs=ct-Dt,Fe=ve+rt,ke=ve-rt,Ft=Ye+St,Wt=Ye-St,Et=ht+pt,hs=ht-pt,we=vs+Et,mt=vs-Et,kt=Fe+Ft,is=Fe-Ft;Ve[Xe]=we+kt,Ve[Xe+32]=we-kt;var ps=.707106781*(is+mt);Ve[Xe+16]=mt+ps,Ve[Xe+48]=mt-ps;var bs=.382683433*((we=hs+Wt)-(is=ke+cs)),Wn=.5411961*we+bs,la=1.306562965*is+bs,bn=.707106781*(kt=Wt+ke),je=cs+bn,_t=cs-bn;Ve[Xe+40]=_t+Wn,Ve[Xe+24]=_t-Wn,Ve[Xe+8]=je+la,Ve[Xe+56]=je-la,Xe++}for(fe=0;fe<64;++fe)nt=Ve[fe]*Ze[fe],y[fe]=nt>0?nt+.5|0:nt-.5|0;return y}(M,T),Ne=0;Ne<64;++Ne)N[ee[Ne]]=de[Ne];var be=N[0]-q;q=N[0],be==0?J(Y[0]):(J(Y[v[G=32767+be]]),J(x[G]));for(var Te=63;Te>0&&N[Te]==0;)Te--;if(Te==0)return J(ce),q;for(var Ge,Ee=1;Ee<=Te;){for(var ue=Ee;N[Ee]==0&&Ee<=Te;)++Ee;var gt=Ee-ue;if(gt>=16){Ge=gt>>4;for(var ut=1;ut<=Ge;++ut)J(pe);gt&=15}G=32767+N[Ee],J(I[(gt<<4)+v[G]]),J(x[G]),Ee++}return Te!=63&&J(ce),q}function me(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(T){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var I=c((q[Y]*T+50)/100);I=Math.min(Math.max(I,1),255),d[ee[Y]]=I}for(var G=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var pe=c((G[ce]*T+50)/100);pe=Math.min(Math.max(pe,1),255),h[ee[ce]]=pe}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,be=0;be<8;be++)for(var Te=0;Te<8;Te++)f[Ne]=1/(d[ee[Ne]]*de[be]*de[Te]*8),p[Ne]=1/(h[ee[Ne]]*de[be]*de[Te]*8),Ne++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,T){T&&me(T),_=new Array,k=0,C=7,xe(65496),xe(65504),xe(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),xe(1),xe(1),Q(0),Q(0),function(){xe(65499),xe(132),Q(0);for(var ve=0;ve<64;ve++)Q(d[ve]);Q(1);for(var Ye=0;Ye<64;Ye++)Q(h[Ye])}(),function(ve,Ye){xe(65472),xe(17),Q(8),xe(Ye),xe(ve),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(M.width,M.height),function(){xe(65476),xe(418),Q(0);for(var ve=0;ve<16;ve++)Q(U[ve+1]);for(var Ye=0;Ye<=11;Ye++)Q(oe[Ye]);Q(16);for(var ht=0;ht<16;ht++)Q(re[ht+1]);for(var pt=0;pt<=161;pt++)Q(O[pt]);Q(1);for(var St=0;St<16;St++)Q(R[St+1]);for(var rt=0;rt<=11;rt++)Q(ie[rt]);Q(17);for(var Dt=0;Dt<16;Dt++)Q(X[Dt+1]);for(var fe=0;fe<=161;fe++)Q(se[fe])}(),xe(65498),xe(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var q=0,Y=0,I=0;k=0,C=7,this.encode.displayName="_encode_";for(var G,ce,pe,de,Ne,be,Te,Ge,Ee,ue=M.data,gt=M.width,ut=M.height,Ve=4*gt,Ze=0;Ze<ut;){for(G=0;G<Ve;){for(Ne=Ve*Ze+G,Te=-1,Ge=0,Ee=0;Ee<64;Ee++)be=Ne+(Ge=Ee>>3)*Ve+(Te=4*(7&Ee)),Ze+Ge>=ut&&(be-=Ve*(Ze+1+Ge-ut)),G+Te>=Ve&&(be-=G+Te-Ve+4),ce=ue[be++],pe=ue[be++],de=ue[be++],D[Ee]=(le[ce]+le[pe+256>>0]+le[de+512>>0]>>16)-128,L[Ee]=(le[ce+768>>0]+le[pe+1024>>0]+le[de+1280>>0]>>16)-128,$[Ee]=(le[ce+1280>>0]+le[pe+1536>>0]+le[de+1792>>0]>>16)-128;q=B(D,f,q,e,a),Y=B(L,p,Y,s,r),I=B($,p,I,s,r),G+=32}Ze+=8}if(C>=0){var ct=[];ct[1]=C+1,ct[0]=(1<<C+1)-1,J(ct)}return xe(65497),new Uint8Array(_)},t=t||50,function(){for(var M=String.fromCharCode,T=0;T<256;T++)W[T]=M(T)}(),e=z(U,oe),s=z(R,ie),a=z(re,O),r=z(X,se),function(){for(var M=1,T=2,q=1;q<=15;q++){for(var Y=M;Y<T;Y++)v[32767+Y]=q,x[32767+Y]=[],x[32767+Y][1]=q,x[32767+Y][0]=Y;for(var I=-(T-1);I<=-M;I++)v[32767+I]=q,x[32767+I]=[],x[32767+I][1]=q,x[32767+I][0]=T-1+I;M<<=1,T<<=1}}(),function(){for(var M=0;M<256;M++)le[M]=19595*M,le[M+256>>0]=38470*M,le[M+512>>0]=7471*M+32768,le[M+768>>0]=-11059*M,le[M+1024>>0]=-21709*M,le[M+1280>>0]=32768*M+8421375,le[M+1536>>0]=-27439*M,le[M+1792>>0]=-5329*M}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EN(t){function e(U){if(!U)throw Error("assert :P")}function s(U,oe,re){for(var O=0;4>O;O++)if(U[oe+O]!=re.charCodeAt(O))return!0;return!1}function a(U,oe,re,O,R){for(var ie=0;ie<R;ie++)U[oe+ie]=re[O+ie]}function r(U,oe,re,O){for(var R=0;R<O;R++)U[oe+R]=re}function o(U){return new Int32Array(U)}function c(U,oe){for(var re=[],O=0;O<U;O++)re.push(new oe);return re}function d(U,oe){var re=[];return function O(R,ie,X){for(var se=X[ie],z=0;z<se&&(R.push(X.length>ie+1?[]:new oe),!(X.length<ie+1));z++)O(R[z],ie+1,X)}(re,0,U),re}var h=function(){var U=this;function oe(g,w){for(var A=1<<w-1>>>0;g&A;)A>>>=1;return A?(g&A-1)+A:g}function re(g,w,A,E,V){e(!(E%A));do g[w+(E-=A)]=V;while(0<E)}function O(g,w,A,E,V){if(e(2328>=V),512>=V)var K=o(512);else if((K=o(V))==null)return 0;return function(Z,te,ae,he,_e,Ie){var Be,Le,ot=te,Ke=1<<ae,Ae=o(16),De=o(16);for(e(_e!=0),e(he!=null),e(Z!=null),e(0<ae),Le=0;Le<_e;++Le){if(15<he[Le])return 0;++Ae[he[Le]]}if(Ae[0]==_e)return 0;for(De[1]=0,Be=1;15>Be;++Be){if(Ae[Be]>1<<Be)return 0;De[Be+1]=De[Be]+Ae[Be]}for(Le=0;Le<_e;++Le)Be=he[Le],0<he[Le]&&(Ie[De[Be]++]=Le);if(De[15]==1)return(he=new R).g=0,he.value=Ie[0],re(Z,ot,1,Ke,he),Ke;var tt,dt=-1,at=Ke-1,Tt=0,At=1,$t=1,Ct=1<<ae;for(Le=0,Be=1,_e=2;Be<=ae;++Be,_e<<=1){if(At+=$t<<=1,0>($t-=Ae[Be]))return 0;for(;0<Ae[Be];--Ae[Be])(he=new R).g=Be,he.value=Ie[Le++],re(Z,ot+Tt,_e,Ct,he),Tt=oe(Tt,Be)}for(Be=ae+1,_e=2;15>=Be;++Be,_e<<=1){if(At+=$t<<=1,0>($t-=Ae[Be]))return 0;for(;0<Ae[Be];--Ae[Be]){if(he=new R,(Tt&at)!=dt){for(ot+=Ct,tt=1<<(dt=Be)-ae;15>dt&&!(0>=(tt-=Ae[dt]));)++dt,tt<<=1;Ke+=Ct=1<<(tt=dt-ae),Z[te+(dt=Tt&at)].g=tt+ae,Z[te+dt].value=ot-te-dt}he.g=Be-ae,he.value=Ie[Le++],re(Z,ot+(Tt>>ae),_e,Ct,he),Tt=oe(Tt,Be)}}return At!=2*De[15]-1?0:Ke}(g,w,A,E,V,K)}function R(){this.value=this.g=0}function ie(){this.value=this.g=0}function X(){this.G=c(5,R),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Gn,ie)}function se(g,w,A,E){e(g!=null),e(w!=null),e(2147483648>E),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=A,g.Jd=w,g.Yc=A+E,g.Zc=4<=E?A+E-4+1:A,G(g)}function z(g,w){for(var A=0;0<w--;)A|=pe(g,128)<<w;return A}function J(g,w){var A=z(g,w);return ce(g)?-A:A}function Q(g,w,A,E){var V,K=0;for(e(g!=null),e(w!=null),e(4294967288>E),g.Sb=E,g.Ra=0,g.u=0,g.h=0,4<E&&(E=4),V=0;V<E;++V)K+=w[A+V]<<8*V;g.Ra=K,g.bb=E,g.oa=w,g.pa=A}function xe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<vl-8>>>0,++g.bb,g.u-=8;q(g)&&(g.h=1,g.u=0)}function B(g,w){if(e(0<=w),!g.h&&w<=yl){var A=T(g)&Do[w];return g.u+=w,xe(g),A}return g.h=1,g.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function T(g){return g.Ra>>>(g.u&vl-1)>>>0}function q(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>vl}function Y(g,w){g.u=w,g.h=q(g)}function I(g){g.u>=dc&&(e(g.u>=dc),xe(g))}function G(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ce(g){return z(g,1)}function pe(g,w){var A=g.Ca;0>g.b&&G(g);var E=g.b,V=A*w>>>8,K=(g.I>>>E>V)+0;for(K?(A-=V,g.I-=V+1<<E>>>0):A=V+1,E=A,V=0;256<=E;)V+=8,E>>=8;return E=7^V+Ya[E],g.b-=E,g.Ca=(A<<E)-1,K}function de(g,w,A){g[w+0]=A>>24&255,g[w+1]=A>>16&255,g[w+2]=A>>8&255,g[w+3]=A>>0&255}function Ne(g,w){return g[w+0]<<0|g[w+1]<<8}function be(g,w){return Ne(g,w)|g[w+2]<<16}function Te(g,w){return Ne(g,w)|Ne(g,w+2)<<16}function Ge(g,w){var A=1<<w;return e(g!=null),e(0<w),g.X=o(A),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function Ee(g,w){e(g!=null),e(w!=null),e(g.Xa==w.Xa),a(w.X,0,g.X,0,1<<w.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function gt(g,w,A,E){e(A!=null),e(E!=null);var V=A[0],K=E[0];return V==0&&(V=(g*K+w/2)/w),K==0&&(K=(w*V+g/2)/g),0>=V||0>=K?0:(A[0]=V,E[0]=K,1)}function ut(g,w){return g+(1<<w)-1>>>w}function Ve(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function Ze(g,w){U[w]=function(A,E,V,K,Z,te,ae){var he;for(he=0;he<Z;++he){var _e=U[g](te[ae+he-1],V,K+he);te[ae+he]=Ve(A[E+he],_e)}}}function ct(){this.ud=this.hd=this.jd=0}function ve(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function Ye(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ht(g,w){return Ye(g+(g-w+.5>>1))}function pt(g,w,A){return Math.abs(w-A)-Math.abs(g-A)}function St(g,w,A,E,V,K,Z){for(E=K[Z-1],A=0;A<V;++A)K[Z+A]=E=Ve(g[w+A],E)}function rt(g,w,A,E,V){var K;for(K=0;K<A;++K){var Z=g[w+K],te=Z>>8&255,ae=16711935&(ae=(ae=16711935&Z)+((te<<16)+te));E[V+K]=(4278255360&Z)+ae>>>0}}function Dt(g,w){w.jd=g>>0&255,w.hd=g>>8&255,w.ud=g>>16&255}function fe(g,w,A,E,V,K){var Z;for(Z=0;Z<E;++Z){var te=w[A+Z],ae=te>>>8,he=te,_e=255&(_e=(_e=te>>>16)+((g.jd<<24>>24)*(ae<<24>>24)>>>5));he=255&(he=(he=he+((g.hd<<24>>24)*(ae<<24>>24)>>>5))+((g.ud<<24>>24)*(_e<<24>>24)>>>5)),V[K+Z]=(4278255360&te)+(_e<<16)+he}}function nt(g,w,A,E,V){U[w]=function(K,Z,te,ae,he,_e,Ie,Be,Le){for(ae=Ie;ae<Be;++ae)for(Ie=0;Ie<Le;++Ie)he[_e++]=V(te[E(K[Z++])])},U[g]=function(K,Z,te,ae,he,_e,Ie){var Be=8>>K.b,Le=K.Ea,ot=K.K[0],Ke=K.w;if(8>Be)for(K=(1<<K.b)-1,Ke=(1<<Be)-1;Z<te;++Z){var Ae,De=0;for(Ae=0;Ae<Le;++Ae)Ae&K||(De=E(ae[he++])),_e[Ie++]=V(ot[De&Ke]),De>>=Be}else U["VP8LMapColor"+A](ae,he,ot,Ke,_e,Ie,Z,te,Le)}}function Xe(g,w,A,E,V){for(A=w+A;w<A;){var K=g[w++];E[V++]=K>>16&255,E[V++]=K>>8&255,E[V++]=K>>0&255}}function Pt(g,w,A,E,V){for(A=w+A;w<A;){var K=g[w++];E[V++]=K>>16&255,E[V++]=K>>8&255,E[V++]=K>>0&255,E[V++]=K>>24&255}}function Nt(g,w,A,E,V){for(A=w+A;w<A;){var K=(Z=g[w++])>>16&240|Z>>12&15,Z=Z>>0&240|Z>>28&15;E[V++]=K,E[V++]=Z}}function ss(g,w,A,E,V){for(A=w+A;w<A;){var K=(Z=g[w++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;E[V++]=K,E[V++]=Z}}function Re(g,w,A,E,V){for(A=w+A;w<A;){var K=g[w++];E[V++]=K>>0&255,E[V++]=K>>8&255,E[V++]=K>>16&255}}function qe(g,w,A,E,V,K){if(K==0)for(A=w+A;w<A;)de(E,((K=g[w++])[0]>>24|K[1]>>8&65280|K[2]<<8&16711680|K[3]<<24)>>>0),V+=32;else a(E,V,g,w,A)}function He(g,w){U[w][0]=U[g+"0"],U[w][1]=U[g+"1"],U[w][2]=U[g+"2"],U[w][3]=U[g+"3"],U[w][4]=U[g+"4"],U[w][5]=U[g+"5"],U[w][6]=U[g+"6"],U[w][7]=U[g+"7"],U[w][8]=U[g+"8"],U[w][9]=U[g+"9"],U[w][10]=U[g+"10"],U[w][11]=U[g+"11"],U[w][12]=U[g+"12"],U[w][13]=U[g+"13"],U[w][14]=U[g+"0"],U[w][15]=U[g+"0"]}function Pe(g){return g==xd||g==zo||g==Zi||g==mc}function yt(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yt,this.f.kb=new vt,this.sd=null}function Zt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Rt(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function jt(g,w){var A=g.T,E=w.ba.f.RGBA,V=E.eb,K=E.fb+g.ka*E.A,Z=fa[w.ba.S],te=g.y,ae=g.O,he=g.f,_e=g.N,Ie=g.ea,Be=g.W,Le=w.cc,ot=w.dc,Ke=w.Mc,Ae=w.Nc,De=g.ka,tt=g.ka+g.T,dt=g.U,at=dt+1>>1;for(De==0?Z(te,ae,null,null,he,_e,Ie,Be,he,_e,Ie,Be,V,K,null,null,dt):(Z(w.ec,w.fc,te,ae,Le,ot,Ke,Ae,he,_e,Ie,Be,V,K-E.A,V,K,dt),++A);De+2<tt;De+=2)Le=he,ot=_e,Ke=Ie,Ae=Be,_e+=g.Rc,Be+=g.Rc,K+=2*E.A,Z(te,(ae+=2*g.fa)-g.fa,te,ae,Le,ot,Ke,Ae,he,_e,Ie,Be,V,K-E.A,V,K,dt);return ae+=g.fa,g.j+tt<g.o?(a(w.ec,w.fc,te,ae,dt),a(w.cc,w.dc,he,_e,at),a(w.Mc,w.Nc,Ie,Be,at),A--):1&tt||Z(te,ae,null,null,he,_e,Ie,Be,he,_e,Ie,Be,V,K+E.A,null,null,dt),A}function js(g,w,A){var E=g.F,V=[g.J];if(E!=null){var K=g.U,Z=w.ba.S,te=Z==_l||Z==Zi;w=w.ba.f.RGBA;var ae=[0],he=g.ka;ae[0]=g.T,g.Kb&&(he==0?--ae[0]:(--he,V[0]-=g.width),g.j+g.ka+g.T==g.o&&(ae[0]=g.o-g.j-he));var _e=w.eb;he=w.fb+he*w.A,g=ks(E,V[0],g.width,K,ae,_e,he+(te?0:3),w.A),e(A==ae),g&&Pe(Z)&&xr(_e,he,te,K,ae,w.A)}return 0}function Os(g){var w=g.ma,A=w.ba.S,E=11>A,V=A==fc||A==gd||A==_l||A==Ki||A==12||Pe(A);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!ko(w.Oa,g,V?11:12))return 0;if(V&&Pe(A)&&xt(),g.da)alert("todo:use_scaling");else{if(E){if(w.Ib=Rt,g.Kb){if(A=g.U+1>>1,w.memory=o(g.U+2*A),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+A,w.Ib=jt,xt()}}else alert("todo:EmitYUV");V&&(w.Jb=js,E&&Oe())}if(E&&!Im){for(g=0;256>g;++g)Lg[g]=89858*(g-128)+Kn>>Ci,vd[g]=-22014*(g-128)+Kn,Uh[g]=-45773*(g-128),Zn[g]=113618*(g-128)+Kn>>Ci;for(g=Uo;g<Au;++g)w=76283*(g-16)+Kn>>Ci,wd[g-Uo]=gr(w,255),Vh[g-Uo]=gr(w+8>>4,15);Im=1}return 1}function xn(g){var w=g.ma,A=g.U,E=g.T;return e(!(1&g.ka)),0>=A||0>=E?0:(A=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,A),w.Dc+=A,1)}function jn(g){g.ma.memory=null}function Ot(g,w,A,E){return B(g,8)!=47?0:(w[0]=B(g,14)+1,A[0]=B(g,14)+1,E[0]=B(g,1),B(g,3)!=0?0:!g.h)}function vs(g,w){if(4>g)return g+1;var A=g-2>>1;return(2+(1&g)<<A)+B(w,A)+1}function cs(g,w){return 120<w?w-120:1<=(A=((A=Qi[w-1])>>4)*g+(8-(15&A)))?A:1;var A}function Fe(g,w,A){var E=T(A),V=g[w+=255&E].g-8;return 0<V&&(Y(A,A.u+8),E=T(A),w+=g[w].value,w+=E&(1<<V)-1),Y(A,A.u+g[w].g),g[w].value}function ke(g,w,A){return A.g+=g.g,A.value+=g.value<<w>>>0,e(8>=A.g),g.g}function Ft(g,w,A){var E=g.xc;return e((w=E==0?0:g.vc[g.md*(A>>E)+(w>>E)])<g.Wb),g.Ya[w]}function Wt(g,w,A,E){var V=g.ab,K=g.c*w,Z=g.C;w=Z+w;var te=A,ae=E;for(E=g.Ta,A=g.Ua;0<V--;){var he=g.gc[V],_e=Z,Ie=w,Be=te,Le=ae,ot=(ae=E,te=A,he.Ea);switch(e(_e<Ie),e(Ie<=he.nc),he.hc){case 2:yu(Be,Le,(Ie-_e)*ot,ae,te);break;case 0:var Ke=_e,Ae=Ie,De=ae,tt=te,dt=(Ct=he).Ea;Ke==0&&(Ih(Be,Le,null,null,1,De,tt),St(Be,Le+1,0,0,dt-1,De,tt+1),Le+=dt,tt+=dt,++Ke);for(var at=1<<Ct.b,Tt=at-1,At=ut(dt,Ct.b),$t=Ct.K,Ct=Ct.w+(Ke>>Ct.b)*At;Ke<Ae;){var Rs=$t,Us=Ct,_s=1;for(md(Be,Le,De,tt-dt,1,De,tt);_s<dt;){var ws=(_s&~Tt)+at;ws>dt&&(ws=dt),(0,Wi[Rs[Us++]>>8&15])(Be,Le+ +_s,De,tt+_s-dt,ws-_s,De,tt+_s),_s=ws}Le+=dt,tt+=dt,++Ke&Tt||(Ct+=At)}Ie!=he.nc&&a(ae,te-ot,ae,te+(Ie-_e-1)*ot,ot);break;case 1:for(ot=Be,Ae=Le,dt=(Be=he.Ea)-(tt=Be&~(De=(Le=1<<he.b)-1)),Ke=ut(Be,he.b),at=he.K,he=he.w+(_e>>he.b)*Ke;_e<Ie;){for(Tt=at,At=he,$t=new ct,Ct=Ae+tt,Rs=Ae+Be;Ae<Ct;)Dt(Tt[At++],$t),Lo($t,ot,Ae,Le,ae,te),Ae+=Le,te+=Le;Ae<Rs&&(Dt(Tt[At++],$t),Lo($t,ot,Ae,dt,ae,te),Ae+=dt,te+=dt),++_e&De||(he+=Ke)}break;case 3:if(Be==ae&&Le==te&&0<he.b){for(Ae=ae,Be=ot=te+(Ie-_e)*ot-(tt=(Ie-_e)*ut(he.Ea,he.b)),Le=ae,De=te,Ke=[],tt=(dt=tt)-1;0<=tt;--tt)Ke[tt]=Le[De+tt];for(tt=dt-1;0<=tt;--tt)Ae[Be+tt]=Ke[tt];Lr(he,_e,Ie,ae,ot,ae,te)}else Lr(he,_e,Ie,Be,Le,ae,te)}te=E,ae=A}ae!=A&&a(E,A,te,ae,K)}function Et(g,w){var A=g.V,E=g.Ba+g.c*g.C,V=w-g.C;if(e(w<=g.l.o),e(16>=V),0<V){var K=g.l,Z=g.Ta,te=g.Ua,ae=K.width;if(Wt(g,V,A,E),V=te=[te],e((A=g.C)<(E=w)),e(K.v<K.va),E>K.o&&(E=K.o),A<K.j){var he=K.j-A;A=K.j,V[0]+=he*ae}if(A>=E?A=0:(V[0]+=4*K.v,K.ka=A-K.j,K.U=K.va-K.v,K.T=E-A,A=1),A){if(te=te[0],11>(A=g.ca).S){var _e=A.f.RGBA,Ie=(E=A.S,V=K.U,K=K.T,he=_e.eb,_e.A),Be=K;for(_e=_e.fb+g.Ma*_e.A;0<Be--;){var Le=Z,ot=te,Ke=V,Ae=he,De=_e;switch(E){case Aa:Ra(Le,ot,Ke,Ae,De);break;case fc:ya(Le,ot,Ke,Ae,De);break;case xd:ya(Le,ot,Ke,Ae,De),xr(Ae,De,0,Ke,1,0);break;case ji:ei(Le,ot,Ke,Ae,De);break;case gd:qe(Le,ot,Ke,Ae,De,1);break;case zo:qe(Le,ot,Ke,Ae,De,1),xr(Ae,De,0,Ke,1,0);break;case _l:qe(Le,ot,Ke,Ae,De,0);break;case Zi:qe(Le,ot,Ke,Ae,De,0),xr(Ae,De,1,Ke,1,0);break;case Ki:To(Le,ot,Ke,Ae,De);break;case mc:To(Le,ot,Ke,Ae,De),Cs(Ae,De,Ke,1,0);break;case wu:Wa(Le,ot,Ke,Ae,De);break;default:e(0)}te+=ae,_e+=Ie}g.Ma+=K}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=A.height)}}g.C=w,e(g.C<=g.i)}function hs(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var A=g.Ya[w].G,E=g.Ya[w].H;if(0<A[1][E[1]+0].g||0<A[2][E[2]+0].g||0<A[3][E[3]+0].g)return 0}return 1}function we(g,w,A,E,V,K){if(g.Z!=0){var Z=g.qd,te=g.rd;for(e(_i[g.Z]!=null);w<A;++w)_i[g.Z](Z,te,E,V,E,V,K),Z=E,te=V,V+=K;g.qd=Z,g.rd=te}}function mt(g,w){var A=g.l.ma,E=A.Z==0||A.Z==1?g.l.j:g.C;if(E=g.C<E?E:g.C,e(w<=g.l.o),w>E){var V=g.l.width,K=A.ca,Z=A.tb+V*E,te=g.V,ae=g.Ba+g.c*E,he=g.gc;e(g.ab==1),e(he[0].hc==3),Eo(he[0],E,w,te,ae,K,Z),we(A,E,w,K,Z,V)}g.C=g.Ma=w}function kt(g,w,A,E,V,K,Z){var te=g.$/E,ae=g.$%E,he=g.m,_e=g.s,Ie=A+g.$,Be=Ie;V=A+E*V;var Le=A+E*K,ot=280+_e.ua,Ke=g.Pb?te:16777216,Ae=0<_e.ua?_e.Wa:null,De=_e.wc,tt=Ie<Le?Ft(_e,ae,te):null;e(g.C<K),e(Le<=V);var dt=!1;e:for(;;){for(;dt||Ie<Le;){var at=0;if(te>=Ke){var Tt=Ie-A;e((Ke=g).Pb),Ke.wd=Ke.m,Ke.xd=Tt,0<Ke.s.ua&&Ee(Ke.s.Wa,Ke.s.vb),Ke=te+Fm}if(ae&De||(tt=Ft(_e,ae,te)),e(tt!=null),tt.Qb&&(w[Ie]=tt.qb,dt=!0),!dt)if(I(he),tt.jc){at=he,Tt=w;var At=Ie,$t=tt.pd[T(at)&Gn-1];e(tt.jc),256>$t.g?(Y(at,at.u+$t.g),Tt[At]=$t.value,at=0):(Y(at,at.u+$t.g-256),e(256<=$t.value),at=$t.value),at==0&&(dt=!0)}else at=Fe(tt.G[0],tt.H[0],he);if(he.h)break;if(dt||256>at){if(!dt)if(tt.nd)w[Ie]=(tt.qb|at<<8)>>>0;else{if(I(he),dt=Fe(tt.G[1],tt.H[1],he),I(he),Tt=Fe(tt.G[2],tt.H[2],he),At=Fe(tt.G[3],tt.H[3],he),he.h)break;w[Ie]=(At<<24|dt<<16|at<<8|Tt)>>>0}if(dt=!1,++Ie,++ae>=E&&(ae=0,++te,Z!=null&&te<=K&&!(te%16)&&Z(g,te),Ae!=null))for(;Be<Ie;)at=w[Be++],Ae.X[(506832829*at&4294967295)>>>Ae.Mb]=at}else if(280>at){if(at=vs(at-256,he),Tt=Fe(tt.G[4],tt.H[4],he),I(he),Tt=cs(E,Tt=vs(Tt,he)),he.h)break;if(Ie-A<Tt||V-Ie<at)break e;for(At=0;At<at;++At)w[Ie+At]=w[Ie+At-Tt];for(Ie+=at,ae+=at;ae>=E;)ae-=E,++te,Z!=null&&te<=K&&!(te%16)&&Z(g,te);if(e(Ie<=V),ae&De&&(tt=Ft(_e,ae,te)),Ae!=null)for(;Be<Ie;)at=w[Be++],Ae.X[(506832829*at&4294967295)>>>Ae.Mb]=at}else{if(!(at<ot))break e;for(dt=at-280,e(Ae!=null);Be<Ie;)at=w[Be++],Ae.X[(506832829*at&4294967295)>>>Ae.Mb]=at;at=Ie,e(!(dt>>>(Tt=Ae).Xa)),w[at]=Tt.X[dt],dt=!0}dt||e(he.h==q(he))}if(g.Pb&&he.h&&Ie<V)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ee(g.s.vb,g.s.Wa);else{if(he.h)break e;Z!=null&&Z(g,te>K?K:te),g.a=0,g.$=Ie-A}return 1}return g.a=3,0}function is(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,e(g!=null)}function ps(){var g=new zh;return g==null?null:(g.a=0,g.xb=pc,He("Predictor","VP8LPredictors"),He("Predictor","VP8LPredictors_C"),He("PredictorAdd","VP8LPredictorsAdd"),He("PredictorAdd","VP8LPredictorsAdd_C"),yu=rt,Lo=fe,Ra=Xe,ya=Pt,To=Nt,Wa=ss,ei=Re,U.VP8LMapColor32b=ua,U.VP8LMapColor8b=pd,g)}function bs(g,w,A,E,V){var K=1,Z=[g],te=[w],ae=E.m,he=E.s,_e=null,Ie=0;e:for(;;){if(A)for(;K&&B(ae,1);){var Be=Z,Le=te,ot=E,Ke=1,Ae=ot.m,De=ot.gc[ot.ab],tt=B(Ae,2);if(ot.Oc&1<<tt)K=0;else{switch(ot.Oc|=1<<tt,De.hc=tt,De.Ea=Be[0],De.nc=Le[0],De.K=[null],++ot.ab,e(4>=ot.ab),tt){case 0:case 1:De.b=B(Ae,3)+2,Ke=bs(ut(De.Ea,De.b),ut(De.nc,De.b),0,ot,De.K),De.K=De.K[0];break;case 3:var dt,at=B(Ae,8)+1,Tt=16<at?0:4<at?1:2<at?2:3;if(Be[0]=ut(De.Ea,Tt),De.b=Tt,dt=Ke=bs(at,1,0,ot,De.K)){var At,$t=at,Ct=De,Rs=1<<(8>>Ct.b),Us=o(Rs);if(Us==null)dt=0;else{var _s=Ct.K[0],ws=Ct.w;for(Us[0]=Ct.K[0][0],At=1;At<1*$t;++At)Us[At]=Ve(_s[ws+At],Us[At-1]);for(;At<4*Rs;++At)Us[At]=0;Ct.K[0]=null,Ct.K[0]=Us,dt=1}}Ke=dt;break;case 2:break;default:e(0)}K=Ke}}if(Z=Z[0],te=te[0],K&&B(ae,1)&&!(K=1<=(Ie=B(ae,4))&&11>=Ie)){E.a=3;break e}var Xs;if(Xs=K)t:{var Vs,fs,Js,Xt=E,as=Z,Ps=te,Fs=Ie,ma=A,Jn=Xt.m,Pn=Xt.s,On=[null],qn=1,Or=0,Hs=Cl[Fs];s:for(;;){if(ma&&B(Jn,1)){var Un=B(Jn,3)+2,ni=ut(as,Un),Vo=ut(Ps,Un),El=ni*Vo;if(!bs(ni,Vo,0,Xt,On))break s;for(On=On[0],Pn.xc=Un,Vs=0;Vs<El;++Vs){var Ho=On[Vs]>>8&65535;On[Vs]=Ho,Ho>=qn&&(qn=Ho+1)}}if(Jn.h)break s;for(fs=0;5>fs;++fs){var mn=br[fs];!fs&&0<Fs&&(mn+=1<<Fs),Or<mn&&(Or=mn)}var Nd=c(qn*Hs,R),Cu=qn,Ba=c(Cu,X);if(Ba==null)var vn=null;else e(65536>=Cu),vn=Ba;var Ll=o(Or);if(vn==null||Ll==null||Nd==null){Xt.a=1;break s}var $o=Nd;for(Vs=Js=0;Vs<qn;++Vs){var Xa=vn[Vs],Yo=Xa.G,Ka=Xa.H,jd=0,xc=1,ku=0;for(fs=0;5>fs;++fs){mn=br[fs],Yo[fs]=$o,Ka[fs]=Js,!fs&&0<Fs&&(mn+=1<<Fs);a:{var Sd,Du=mn,_d=Xt,bc=Ll,Vm=$o,Hm=Js,Ad=0,no=_d.m,Mg=B(no,1);if(r(bc,0,0,Du),Mg){var $m=B(no,1)+1,Ym=B(no,1),Hh=B(no,Ym==0?1:8);bc[Hh]=1,$m==2&&(bc[Hh=B(no,8)]=1);var yc=1}else{var $h=o(19),Yh=B(no,4)+4;if(19<Yh){_d.a=3;var Cd=0;break a}for(Sd=0;Sd<Yh;++Sd)$h[Ji[Sd]]=B(no,3);var Eu=void 0,vc=void 0,Wm=_d,Gm=$h,ao=Du,kd=bc,Lu=0,ai=Wm.m,wc=8,Wh=c(128,R);n:for(;O(Wh,0,7,Gm,19);){if(B(ai,1)){var Xm=2+2*B(ai,3);if((Eu=2+B(ai,Xm))>ao)break n}else Eu=ao;for(vc=0;vc<ao&&Eu--;){I(ai);var Gh=Wh[0+(127&T(ai))];Y(ai,ai.u+Gh.g);var Tl=Gh.value;if(16>Tl)kd[vc++]=Tl,Tl!=0&&(wc=Tl);else{var Km=Tl==16,Xh=Tl-16,Kh=Pr[Xh],Zh=B(ai,Nu[Xh])+Kh;if(vc+Zh>ao)break n;for(var Zm=Km?wc:0;0<Zh--;)kd[vc++]=Zm}}Lu=1;break n}Lu||(Wm.a=3),yc=Lu}(yc=yc&&!no.h)&&(Ad=O(Vm,Hm,8,bc,Du)),yc&&Ad!=0?Cd=Ad:(_d.a=3,Cd=0)}if(Cd==0)break s;if(xc&&Al[fs]==1&&(xc=$o[Js].g==0),jd+=$o[Js].g,Js+=Cd,3>=fs){var Ml,Tu=Ll[0];for(Ml=1;Ml<mn;++Ml)Ll[Ml]>Tu&&(Tu=Ll[Ml]);ku+=Tu}}if(Xa.nd=xc,Xa.Qb=0,xc&&(Xa.qb=(Yo[3][Ka[3]+0].value<<24|Yo[1][Ka[1]+0].value<<16|Yo[2][Ka[2]+0].value)>>>0,jd==0&&256>Yo[0][Ka[0]+0].value&&(Xa.Qb=1,Xa.qb+=Yo[0][Ka[0]+0].value<<8)),Xa.jc=!Xa.Qb&&6>ku,Xa.jc){var Dd,ro=Xa;for(Dd=0;Dd<Gn;++Dd){var ki=Dd,io=ro.pd[ki],Ed=ro.G[0][ro.H[0]+ki];256<=Ed.value?(io.g=Ed.g+256,io.value=Ed.value):(io.g=0,io.value=0,ki>>=ke(Ed,8,io),ki>>=ke(ro.G[1][ro.H[1]+ki],16,io),ki>>=ke(ro.G[2][ro.H[2]+ki],0,io),ke(ro.G[3][ro.H[3]+ki],24,io))}}}Pn.vc=On,Pn.Wb=qn,Pn.Ya=vn,Pn.yc=Nd,Xs=1;break t}Xs=0}if(!(K=Xs)){E.a=3;break e}if(0<Ie){if(he.ua=1<<Ie,!Ge(he.Wa,Ie)){E.a=1,K=0;break e}}else he.ua=0;var Ld=E,Jh=Z,Jm=te,Qh=Ld.s,ef=Qh.xc;if(Ld.c=Jh,Ld.i=Jm,Qh.md=ut(Jh,ef),Qh.wc=ef==0?-1:(1<<ef)-1,A){E.xb=zm;break e}if((_e=o(Z*te))==null){E.a=1,K=0;break e}K=(K=kt(E,_e,0,Z,te,te,null))&&!ae.h;break e}return K?(V!=null?V[0]=_e:(e(_e==null),e(A)),E.$=0,A||is(he)):is(he),K}function Wn(g,w){var A=g.c*g.i,E=A+w+16*w;return e(g.c<=w),g.V=o(E),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+A+w,1)}function la(g,w){var A=g.C,E=w-A,V=g.V,K=g.Ba+g.c*A;for(e(w<=g.l.o);0<E;){var Z=16<E?16:E,te=g.l.ma,ae=g.l.width,he=ae*Z,_e=te.ca,Ie=te.tb+ae*A,Be=g.Ta,Le=g.Ua;Wt(g,Z,V,K),on(Be,Le,_e,Ie,he),we(te,A,A+Z,_e,Ie,ae),E-=Z,V+=Z*g.c,A+=Z}e(A==w),g.C=g.Ma=w}function bn(){this.ub=this.yd=this.td=this.Rb=0}function je(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ut(){this.Yb=function(){var g=[];return function w(A,E,V){for(var K=V[E],Z=0;Z<K&&(A.push(V.length>E+1?[]:0),!(V.length<E+1));Z++)w(A[Z],E+1,V)}(g,0,[3,11]),g}()}function ns(){this.jb=o(3),this.Wc=d([4,8],Ut),this.Xc=d([4,17],Ut)}function ds(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function Ss(){this.Na=this.la=0}function rn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ca(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ma(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new ca),this.aa=0,this.l=new xa}function Bn(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Sa(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new bn,this.Kc=new je,this.ed=new ds,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new Ma,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,me),this.ia=0,this.pb=c(4,rn),this.Pa=new ns,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bn),this.Hd=0,this.rb=Array(new Ss),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ca),this.L=this.aa=0,this.gd=d([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qi(){var g=new Sa;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Xn||(Xn=gi)),g}function Gs(g,w,A){return g.a==0&&(g.a=w,g.sc=A,g.cb=0),0}function Dn(g,w,A){return 3<=A&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function Yr(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return Gs(g,2,"null VP8Io passed to VP8GetHeaders()");var A=w.data,E=w.w,V=w.ha;if(4>V)return Gs(g,7,"Truncated header.");var K=A[E+0]|A[E+1]<<8|A[E+2]<<16,Z=g.Od;if(Z.Rb=!(1&K),Z.td=K>>1&7,Z.yd=K>>4&1,Z.ub=K>>5,3<Z.td)return Gs(g,3,"Incorrect keyframe parameters.");if(!Z.yd)return Gs(g,4,"Frame not displayable.");E+=3,V-=3;var te=g.Kc;if(Z.Rb){if(7>V)return Gs(g,7,"cannot parse picture header");if(!Dn(A,E,V))return Gs(g,3,"Bad code word");te.c=16383&(A[E+4]<<8|A[E+3]),te.Td=A[E+4]>>6,te.i=16383&(A[E+6]<<8|A[E+5]),te.Ud=A[E+6]>>6,E+=7,V-=7,g.za=te.c+15>>4,g.Ub=te.i+15>>4,w.width=te.c,w.height=te.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,r((K=g.Pa).jb,0,255,K.jb.length),e((K=g.Qa)!=null),K.Cb=0,K.Bb=0,K.Fb=1,r(K.Zb,0,0,K.Zb.length),r(K.Lb,0,0,K.Lb)}if(Z.ub>V)return Gs(g,7,"bad partition length");se(K=g.m,A,E,Z.ub),E+=Z.ub,V-=Z.ub,Z.Rb&&(te.Ld=ce(K),te.Kd=ce(K)),te=g.Qa;var ae,he=g.Pa;if(e(K!=null),e(te!=null),te.Cb=ce(K),te.Cb){if(te.Bb=ce(K),ce(K)){for(te.Fb=ce(K),ae=0;4>ae;++ae)te.Zb[ae]=ce(K)?J(K,7):0;for(ae=0;4>ae;++ae)te.Lb[ae]=ce(K)?J(K,6):0}if(te.Bb)for(ae=0;3>ae;++ae)he.jb[ae]=ce(K)?z(K,8):255}else te.Bb=0;if(K.Ka)return Gs(g,3,"cannot parse segment header");if((te=g.ed).zd=ce(K),te.Tb=z(K,6),te.wb=z(K,3),te.Pc=ce(K),te.Pc&&ce(K)){for(he=0;4>he;++he)ce(K)&&(te.vd[he]=J(K,6));for(he=0;4>he;++he)ce(K)&&(te.od[he]=J(K,6))}if(g.L=te.Tb==0?0:te.zd?1:2,K.Ka)return Gs(g,3,"cannot parse filter header");var _e=V;if(V=ae=E,E=ae+_e,te=_e,g.Xb=(1<<z(g.m,2))-1,_e<3*(he=g.Xb))A=7;else{for(ae+=3*he,te-=3*he,_e=0;_e<he;++_e){var Ie=A[V+0]|A[V+1]<<8|A[V+2]<<16;Ie>te&&(Ie=te),se(g.Jc[+_e],A,ae,Ie),ae+=Ie,te-=Ie,V+=3}se(g.Jc[+he],A,ae,te),A=ae<E?0:5}if(A!=0)return Gs(g,A,"cannot parse partitions");for(A=z(ae=g.m,7),V=ce(ae)?J(ae,4):0,E=ce(ae)?J(ae,4):0,te=ce(ae)?J(ae,4):0,he=ce(ae)?J(ae,4):0,ae=ce(ae)?J(ae,4):0,_e=g.Qa,Ie=0;4>Ie;++Ie){if(_e.Cb){var Be=_e.Zb[Ie];_e.Fb||(Be+=A)}else{if(0<Ie){g.pb[Ie]=g.pb[0];continue}Be=A}var Le=g.pb[Ie];Le.Sc[0]=bd[gr(Be+V,127)],Le.Sc[1]=yd[gr(Be+0,127)],Le.Eb[0]=2*bd[gr(Be+E,127)],Le.Eb[1]=101581*yd[gr(Be+te,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=bd[gr(Be+he,117)],Le.Qc[1]=yd[gr(Be+ae,127)],Le.lc=Be+ae}if(!Z.Rb)return Gs(g,4,"Not a key frame.");for(ce(K),Z=g.Pa,A=0;4>A;++A){for(V=0;8>V;++V)for(E=0;3>E;++E)for(te=0;11>te;++te)he=pe(K,kl[A][V][E][te])?z(K,8):Si[A][V][E][te],Z.Wc[A][V].Yb[E][te]=he;for(V=0;17>V;++V)Z.Xc[A][V]=Z.Wc[A][Bm[V]]}return g.kc=ce(K),g.kc&&(g.Bd=z(K,8)),g.cb=1}function gi(g,w,A,E,V,K,Z){var te=w[V].Yb[A];for(A=0;16>V;++V){if(!pe(g,te[A+0]))return V;for(;!pe(g,te[A+1]);)if(te=w[++V].Yb[0],A=0,V==16)return 16;var ae=w[V+1].Yb;if(pe(g,te[A+2])){var he=g,_e=0;if(pe(he,(Be=te)[(Ie=A)+3]))if(pe(he,Be[Ie+6])){for(te=0,Ie=2*(_e=pe(he,Be[Ie+8]))+(Be=pe(he,Be[Ie+9+_e])),_e=0,Be=An[Ie];Be[te];++te)_e+=_e+pe(he,Be[te]);_e+=3+(8<<Ie)}else pe(he,Be[Ie+7])?(_e=7+2*pe(he,165),_e+=pe(he,145)):_e=5+pe(he,159);else _e=pe(he,Be[Ie+4])?3+pe(he,Be[Ie+5]):2;te=ae[2]}else _e=1,te=ae[1];ae=Z+Is[V],0>(he=g).b&&G(he);var Ie,Be=he.b,Le=(Ie=he.Ca>>1)-(he.I>>Be)>>31;--he.b,he.Ca+=Le,he.Ca|=1,he.I-=(Ie+1&Le)<<Be,K[ae]=((_e^Le)-Le)*E[(0<V)+0]}return 16}function $a(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function xi(g,w){if(g==null)return 0;if(w==null)return Gs(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!Yr(g,w))return 0;if(e(g.cb),w.ac==null||w.ac(w)){w.ob&&(g.L=0);var A=so[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=w.v-A>>4,g.zb=w.j-A>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=w.o+15+A>>4,g.Hb=w.va+15+A>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var E=g.ed;for(A=0;4>A;++A){var V;if(g.Qa.Cb){var K=g.Qa.Lb[A];g.Qa.Fb||(K+=E.Tb)}else K=E.Tb;for(V=0;1>=V;++V){var Z=g.gd[A][V],te=K;if(E.Pc&&(te+=E.vd[0],V&&(te+=E.od[0])),0<(te=0>te?0:63<te?63:te)){var ae=te;0<E.wb&&(ae=4<E.wb?ae>>2:ae>>1)>9-E.wb&&(ae=9-E.wb),1>ae&&(ae=1),Z.dd=ae,Z.tc=2*te+ae,Z.ld=40<=te?2:15<=te?1:0}else Z.tc=0;Z.La=V}}}A=0}else Gs(g,6,"Frame setup failed"),A=g.a;if(A=A==0){if(A){g.$c=0,0<g.Aa||(g.Ic=qm);e:{A=g.Ic,E=4*(ae=g.za);var he=32*ae,_e=ae+1,Ie=0<g.L?ae*(0<g.Aa?2:1):0,Be=(g.Aa==2?2:1)*ae;if((Z=E+832+(V=3*(16*A+so[g.L])/2*he)+(K=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Z)A=0;else{if(Z>g.Vb){if(g.Vb=0,g.Ec=o(Z),g.Fc=0,g.Ec==null){A=Gs(g,1,"no memory during frame initialization.");break e}g.Vb=Z}Z=g.Ec,te=g.Fc,g.Ac=Z,g.Bc=te,te+=E,g.Gd=c(he,Bn),g.Hd=0,g.rb=c(_e+1,Ss),g.sb=1,g.wa=Ie?c(Ie,gs):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ae),e(!0),g.oc=Z,g.pc=te,te+=832,g.ya=c(Be,ca),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ae),g.R=16*ae,g.B=8*ae,ae=(he=so[g.L])*g.R,he=he/2*g.B,g.sa=Z,g.ta=te+ae,g.qa=g.sa,g.ra=g.ta+16*A*g.R+he,g.Ha=g.qa,g.Ia=g.ra+8*A*g.B+he,g.$c=0,te+=V,g.mb=K?Z:null,g.nb=K?te:null,e(te+K<=g.Fc+g.Vb),$a(g),r(g.Ac,g.Bc,0,E),A=1}}if(A){if(w.ka=0,w.y=g.sa,w.O=g.ta,w.f=g.qa,w.N=g.ra,w.ea=g.Ha,w.Vd=g.Ia,w.fa=g.R,w.Rc=g.B,w.F=null,w.J=0,!Xi){for(A=-255;255>=A;++A)Mn[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)Tr[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Fo[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)Bo[255+A]=0>A?0:255<A?255:A;Xi=1}wi=Xr,ti=Gr,si=Pa,In=fr,Ga=yo,Sn=Wr,wl=pl,Ni=gl,uc=Bh,Mo=cd,Po=Fh,Oo=sc,Nl=nc,hc=bu,Ro=_o,Gi=pr,jl=vi,_n=Rh,Fa[0]=ba,Fa[1]=hl,Fa[2]=No,Fa[3]=ml,Fa[4]=Oa,Fa[5]=Er,Fa[6]=wt,Fa[7]=Zs,Fa[8]=Ql,Fa[9]=ld,eo[0]=Vi,eo[1]=wo,eo[2]=Cr,eo[3]=Ui,eo[4]=En,eo[5]=Kr,eo[6]=Dr,yr[0]=Hi,yr[1]=fl,yr[2]=gu,yr[3]=jo,yr[4]=mr,yr[5]=_a,yr[6]=So,A=1}else A=0}A&&(A=function(Le,ot){for(Le.M=0;Le.M<Le.Va;++Le.M){var Ke,Ae=Le.Jc[Le.M&Le.Xb],De=Le.m,tt=Le;for(Ke=0;Ke<tt.za;++Ke){var dt=De,at=tt,Tt=at.Ac,At=at.Bc+4*Ke,$t=at.zc,Ct=at.ya[at.aa+Ke];if(at.Qa.Bb?Ct.$b=pe(dt,at.Pa.jb[0])?2+pe(dt,at.Pa.jb[2]):pe(dt,at.Pa.jb[1]):Ct.$b=0,at.kc&&(Ct.Ad=pe(dt,at.Bd)),Ct.Za=!pe(dt,145)+0,Ct.Za){var Rs=Ct.Ob,Us=0;for(at=0;4>at;++at){var _s,ws=$t[0+at];for(_s=0;4>_s;++_s){ws=qh[Tt[At+_s]][ws];for(var Xs=Io[pe(dt,ws[0])];0<Xs;)Xs=Io[2*Xs+pe(dt,ws[Xs])];ws=-Xs,Tt[At+_s]=ws}a(Rs,Us,Tt,At,4),Us+=4,$t[0+at]=ws}}else ws=pe(dt,156)?pe(dt,128)?1:3:pe(dt,163)?2:0,Ct.Ob[0]=ws,r(Tt,At,ws,4),r($t,0,ws,4);Ct.Dd=pe(dt,142)?pe(dt,114)?pe(dt,183)?1:3:2:0}if(tt.m.Ka)return Gs(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(tt=Ae,dt=(De=Le).rb[De.sb-1],Tt=De.rb[De.sb+De.ja],Ke=De.ya[De.aa+De.ja],At=De.kc?Ke.Ad:0)dt.la=Tt.la=0,Ke.Za||(dt.Na=Tt.Na=0),Ke.Hc=0,Ke.Gc=0,Ke.ia=0;else{var Vs,fs;if(dt=Tt,Tt=tt,At=De.Pa.Xc,$t=De.ya[De.aa+De.ja],Ct=De.pb[$t.$b],at=$t.ad,Rs=0,Us=De.rb[De.sb-1],ws=_s=0,r(at,Rs,0,384),$t.Za)var Js=0,Xt=At[3];else{Xs=o(16);var as=dt.Na+Us.Na;if(as=Xn(Tt,At[1],as,Ct.Eb,0,Xs,0),dt.Na=Us.Na=(0<as)+0,1<as)wi(Xs,0,at,Rs);else{var Ps=Xs[0]+3>>3;for(Xs=0;256>Xs;Xs+=16)at[Rs+Xs]=Ps}Js=1,Xt=At[0]}var Fs=15&dt.la,ma=15&Us.la;for(Xs=0;4>Xs;++Xs){var Jn=1&ma;for(Ps=fs=0;4>Ps;++Ps)Fs=Fs>>1|(Jn=(as=Xn(Tt,Xt,as=Jn+(1&Fs),Ct.Sc,Js,at,Rs))>Js)<<7,fs=fs<<2|(3<as?3:1<as?2:at[Rs+0]!=0),Rs+=16;Fs>>=4,ma=ma>>1|Jn<<7,_s=(_s<<8|fs)>>>0}for(Xt=Fs,Js=ma>>4,Vs=0;4>Vs;Vs+=2){for(fs=0,Fs=dt.la>>4+Vs,ma=Us.la>>4+Vs,Xs=0;2>Xs;++Xs){for(Jn=1&ma,Ps=0;2>Ps;++Ps)as=Jn+(1&Fs),Fs=Fs>>1|(Jn=0<(as=Xn(Tt,At[2],as,Ct.Qc,0,at,Rs)))<<3,fs=fs<<2|(3<as?3:1<as?2:at[Rs+0]!=0),Rs+=16;Fs>>=2,ma=ma>>1|Jn<<5}ws|=fs<<4*Vs,Xt|=Fs<<4<<Vs,Js|=(240&ma)<<Vs}dt.la=Xt,Us.la=Js,$t.Hc=_s,$t.Gc=ws,$t.ia=43690&ws?0:Ct.ia,At=!(_s|ws)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Ke.$b][Ke.Za],De.wa[De.Y+De.ja].La|=!At),tt.Ka)return Gs(Le,7,"Premature end-of-file encountered.")}if($a(Le),De=ot,tt=1,Ke=(Ae=Le).D,dt=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(Ke.M=Ae.M,Ke.uc=dt,Yi(Ae,Ke),tt=1,Ke=(fs=Ae.D).Nb,dt=(ws=so[Ae.L])*Ae.R,Tt=ws/2*Ae.B,Xs=16*Ke*Ae.R,Ps=8*Ke*Ae.B,At=Ae.sa,$t=Ae.ta-dt+Xs,Ct=Ae.qa,at=Ae.ra-Tt+Ps,Rs=Ae.Ha,Us=Ae.Ia-Tt+Ps,ma=(Fs=fs.M)==0,_s=Fs>=Ae.Va-1,Ae.Aa==2&&Yi(Ae,fs),fs.uc)for(Jn=(as=Ae).D.M,e(as.D.uc),fs=as.yb;fs<as.Hb;++fs){Js=fs,Xt=Jn;var Pn=(On=(mn=as).D).Nb;Vs=mn.R;var On=On.wa[On.Y+Js],qn=mn.sa,Or=mn.ta+16*Pn*Vs+16*Js,Hs=On.dd,Un=On.tc;if(Un!=0)if(e(3<=Un),mn.L==1)0<Js&&Gi(qn,Or,Vs,Un+4),On.La&&_n(qn,Or,Vs,Un),0<Xt&&Ro(qn,Or,Vs,Un+4),On.La&&jl(qn,Or,Vs,Un);else{var ni=mn.B,Vo=mn.qa,El=mn.ra+8*Pn*ni+8*Js,Ho=mn.Ha,mn=mn.Ia+8*Pn*ni+8*Js;Pn=On.ld,0<Js&&(Ni(qn,Or,Vs,Un+4,Hs,Pn),Mo(Vo,El,Ho,mn,ni,Un+4,Hs,Pn)),On.La&&(Oo(qn,Or,Vs,Un,Hs,Pn),hc(Vo,El,Ho,mn,ni,Un,Hs,Pn)),0<Xt&&(wl(qn,Or,Vs,Un+4,Hs,Pn),uc(Vo,El,Ho,mn,ni,Un+4,Hs,Pn)),On.La&&(Po(qn,Or,Vs,Un,Hs,Pn),Nl(Vo,El,Ho,mn,ni,Un,Hs,Pn))}}if(Ae.ia&&alert("todo:DitherRow"),De.put!=null){if(fs=16*Fs,Fs=16*(Fs+1),ma?(De.y=Ae.sa,De.O=Ae.ta+Xs,De.f=Ae.qa,De.N=Ae.ra+Ps,De.ea=Ae.Ha,De.W=Ae.Ia+Ps):(fs-=ws,De.y=At,De.O=$t,De.f=Ct,De.N=at,De.ea=Rs,De.W=Us),_s||(Fs-=ws),Fs>De.o&&(Fs=De.o),De.F=null,De.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&fs<Fs&&(De.J=hd(Ae,De,fs,Fs-fs),De.F=Ae.mb,De.F==null&&De.F.length==0)){tt=Gs(Ae,3,"Could not decode alpha data.");break e}fs<De.j&&(ws=De.j-fs,fs=De.j,e(!(1&ws)),De.O+=Ae.R*ws,De.N+=Ae.B*(ws>>1),De.W+=Ae.B*(ws>>1),De.F!=null&&(De.J+=De.width*ws)),fs<Fs&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=fs-De.j,De.U=De.va-De.v,De.T=Fs-fs,tt=De.put(De))}Ke+1!=Ae.Ic||_s||(a(Ae.sa,Ae.ta-dt,At,$t+16*Ae.R,dt),a(Ae.qa,Ae.ra-Tt,Ct,at+8*Ae.B,Tt),a(Ae.Ha,Ae.Ia-Tt,Rs,Us+8*Ae.B,Tt))}if(!tt)return Gs(Le,6,"Output aborted.")}return 1}(g,w)),w.bc!=null&&w.bc(w),A&=1}return A?(g.cb=0,A):0}function zn(g,w,A,E,V){V=g[w+A+32*E]+(V>>3),g[w+A+32*E]=-256&V?0>V?0:255:V}function Ar(g,w,A,E,V,K){zn(g,w,0,A,E+V),zn(g,w,1,A,E+K),zn(g,w,2,A,E-K),zn(g,w,3,A,E-V)}function zs(g){return(20091*g>>16)+g}function hr(g,w,A,E){var V,K=0,Z=o(16);for(V=0;4>V;++V){var te=g[w+0]+g[w+8],ae=g[w+0]-g[w+8],he=(35468*g[w+4]>>16)-zs(g[w+12]),_e=zs(g[w+4])+(35468*g[w+12]>>16);Z[K+0]=te+_e,Z[K+1]=ae+he,Z[K+2]=ae-he,Z[K+3]=te-_e,K+=4,w++}for(V=K=0;4>V;++V)te=(g=Z[K+0]+4)+Z[K+8],ae=g-Z[K+8],he=(35468*Z[K+4]>>16)-zs(Z[K+12]),zn(A,E,0,0,te+(_e=zs(Z[K+4])+(35468*Z[K+12]>>16))),zn(A,E,1,0,ae+he),zn(A,E,2,0,ae-he),zn(A,E,3,0,te-_e),K++,E+=32}function Wr(g,w,A,E){var V=g[w+0]+4,K=35468*g[w+4]>>16,Z=zs(g[w+4]),te=35468*g[w+1]>>16;Ar(A,E,0,V+Z,g=zs(g[w+1]),te),Ar(A,E,1,V+K,g,te),Ar(A,E,2,V-K,g,te),Ar(A,E,3,V-Z,g,te)}function Gr(g,w,A,E,V){hr(g,w,A,E),V&&hr(g,w+16,A,E+4)}function Pa(g,w,A,E){ti(g,w+0,A,E,1),ti(g,w+32,A,E+128,1)}function fr(g,w,A,E){var V;for(g=g[w+0]+4,V=0;4>V;++V)for(w=0;4>w;++w)zn(A,E,w,V,g)}function yo(g,w,A,E){g[w+0]&&In(g,w+0,A,E),g[w+16]&&In(g,w+16,A,E+4),g[w+32]&&In(g,w+32,A,E+128),g[w+48]&&In(g,w+48,A,E+128+4)}function Xr(g,w,A,E){var V,K=o(16);for(V=0;4>V;++V){var Z=g[w+0+V]+g[w+12+V],te=g[w+4+V]+g[w+8+V],ae=g[w+4+V]-g[w+8+V],he=g[w+0+V]-g[w+12+V];K[0+V]=Z+te,K[8+V]=Z-te,K[4+V]=he+ae,K[12+V]=he-ae}for(V=0;4>V;++V)Z=(g=K[0+4*V]+3)+K[3+4*V],te=K[1+4*V]+K[2+4*V],ae=K[1+4*V]-K[2+4*V],he=g-K[3+4*V],A[E+0]=Z+te>>3,A[E+16]=he+ae>>3,A[E+32]=Z-te>>3,A[E+48]=he-ae>>3,E+=64}function vo(g,w,A){var E,V=w-32,K=ha,Z=255-g[V-1];for(E=0;E<A;++E){var te,ae=K,he=Z+g[w-1];for(te=0;te<A;++te)g[w+te]=ae[he+g[V+te]];w+=32}}function hl(g,w){vo(g,w,4)}function fl(g,w){vo(g,w,8)}function wo(g,w){vo(g,w,16)}function Cr(g,w){var A;for(A=0;16>A;++A)a(g,w+32*A,g,w-32,16)}function Ui(g,w){var A;for(A=16;0<A;--A)r(g,w,g[w-1],16),w+=32}function kr(g,w,A){var E;for(E=0;16>E;++E)r(w,A+32*E,g,16)}function Vi(g,w){var A,E=16;for(A=0;16>A;++A)E+=g[w-1+32*A]+g[w+A-32];kr(E>>5,g,w)}function En(g,w){var A,E=8;for(A=0;16>A;++A)E+=g[w-1+32*A];kr(E>>4,g,w)}function Kr(g,w){var A,E=8;for(A=0;16>A;++A)E+=g[w+A-32];kr(E>>4,g,w)}function Dr(g,w){kr(128,g,w)}function Jt(g,w,A){return g+2*w+A+2>>2}function No(g,w){var A,E=w-32;for(E=new Uint8Array([Jt(g[E-1],g[E+0],g[E+1]),Jt(g[E+0],g[E+1],g[E+2]),Jt(g[E+1],g[E+2],g[E+3]),Jt(g[E+2],g[E+3],g[E+4])]),A=0;4>A;++A)a(g,w+32*A,E,0,E.length)}function ml(g,w){var A=g[w-1],E=g[w-1+32],V=g[w-1+64],K=g[w-1+96];de(g,w+0,16843009*Jt(g[w-1-32],A,E)),de(g,w+32,16843009*Jt(A,E,V)),de(g,w+64,16843009*Jt(E,V,K)),de(g,w+96,16843009*Jt(V,K,K))}function ba(g,w){var A,E=4;for(A=0;4>A;++A)E+=g[w+A-32]+g[w-1+32*A];for(E>>=3,A=0;4>A;++A)r(g,w+32*A,E,4)}function Oa(g,w){var A=g[w-1+0],E=g[w-1+32],V=g[w-1+64],K=g[w-1-32],Z=g[w+0-32],te=g[w+1-32],ae=g[w+2-32],he=g[w+3-32];g[w+0+96]=Jt(E,V,g[w-1+96]),g[w+1+96]=g[w+0+64]=Jt(A,E,V),g[w+2+96]=g[w+1+64]=g[w+0+32]=Jt(K,A,E),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Jt(Z,K,A),g[w+3+64]=g[w+2+32]=g[w+1+0]=Jt(te,Z,K),g[w+3+32]=g[w+2+0]=Jt(ae,te,Z),g[w+3+0]=Jt(he,ae,te)}function wt(g,w){var A=g[w+1-32],E=g[w+2-32],V=g[w+3-32],K=g[w+4-32],Z=g[w+5-32],te=g[w+6-32],ae=g[w+7-32];g[w+0+0]=Jt(g[w+0-32],A,E),g[w+1+0]=g[w+0+32]=Jt(A,E,V),g[w+2+0]=g[w+1+32]=g[w+0+64]=Jt(E,V,K),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Jt(V,K,Z),g[w+3+32]=g[w+2+64]=g[w+1+96]=Jt(K,Z,te),g[w+3+64]=g[w+2+96]=Jt(Z,te,ae),g[w+3+96]=Jt(te,ae,ae)}function Er(g,w){var A=g[w-1+0],E=g[w-1+32],V=g[w-1+64],K=g[w-1-32],Z=g[w+0-32],te=g[w+1-32],ae=g[w+2-32],he=g[w+3-32];g[w+0+0]=g[w+1+64]=K+Z+1>>1,g[w+1+0]=g[w+2+64]=Z+te+1>>1,g[w+2+0]=g[w+3+64]=te+ae+1>>1,g[w+3+0]=ae+he+1>>1,g[w+0+96]=Jt(V,E,A),g[w+0+64]=Jt(E,A,K),g[w+0+32]=g[w+1+96]=Jt(A,K,Z),g[w+1+32]=g[w+2+96]=Jt(K,Z,te),g[w+2+32]=g[w+3+96]=Jt(Z,te,ae),g[w+3+32]=Jt(te,ae,he)}function Zs(g,w){var A=g[w+0-32],E=g[w+1-32],V=g[w+2-32],K=g[w+3-32],Z=g[w+4-32],te=g[w+5-32],ae=g[w+6-32],he=g[w+7-32];g[w+0+0]=A+E+1>>1,g[w+1+0]=g[w+0+64]=E+V+1>>1,g[w+2+0]=g[w+1+64]=V+K+1>>1,g[w+3+0]=g[w+2+64]=K+Z+1>>1,g[w+0+32]=Jt(A,E,V),g[w+1+32]=g[w+0+96]=Jt(E,V,K),g[w+2+32]=g[w+1+96]=Jt(V,K,Z),g[w+3+32]=g[w+2+96]=Jt(K,Z,te),g[w+3+64]=Jt(Z,te,ae),g[w+3+96]=Jt(te,ae,he)}function ld(g,w){var A=g[w-1+0],E=g[w-1+32],V=g[w-1+64],K=g[w-1+96];g[w+0+0]=A+E+1>>1,g[w+2+0]=g[w+0+32]=E+V+1>>1,g[w+2+32]=g[w+0+64]=V+K+1>>1,g[w+1+0]=Jt(A,E,V),g[w+3+0]=g[w+1+32]=Jt(E,V,K),g[w+3+32]=g[w+1+64]=Jt(V,K,K),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=K}function Ql(g,w){var A=g[w-1+0],E=g[w-1+32],V=g[w-1+64],K=g[w-1+96],Z=g[w-1-32],te=g[w+0-32],ae=g[w+1-32],he=g[w+2-32];g[w+0+0]=g[w+2+32]=A+Z+1>>1,g[w+0+32]=g[w+2+64]=E+A+1>>1,g[w+0+64]=g[w+2+96]=V+E+1>>1,g[w+0+96]=K+V+1>>1,g[w+3+0]=Jt(te,ae,he),g[w+2+0]=Jt(Z,te,ae),g[w+1+0]=g[w+3+32]=Jt(A,Z,te),g[w+1+32]=g[w+3+64]=Jt(E,A,Z),g[w+1+64]=g[w+3+96]=Jt(V,E,A),g[w+1+96]=Jt(K,V,E)}function gu(g,w){var A;for(A=0;8>A;++A)a(g,w+32*A,g,w-32,8)}function jo(g,w){var A;for(A=0;8>A;++A)r(g,w,g[w-1],8),w+=32}function bi(g,w,A){var E;for(E=0;8>E;++E)r(w,A+32*E,g,8)}function Hi(g,w){var A,E=8;for(A=0;8>A;++A)E+=g[w+A-32]+g[w-1+32*A];bi(E>>4,g,w)}function _a(g,w){var A,E=4;for(A=0;8>A;++A)E+=g[w+A-32];bi(E>>3,g,w)}function mr(g,w){var A,E=4;for(A=0;8>A;++A)E+=g[w-1+32*A];bi(E>>3,g,w)}function So(g,w){bi(128,g,w)}function yi(g,w,A){var E=g[w-A],V=g[w+0],K=3*(V-E)+vu[1020+g[w-2*A]-g[w+A]],Z=Sl[112+(K+4>>3)];g[w-A]=ha[255+E+Sl[112+(K+3>>3)]],g[w+0]=ha[255+V-Z]}function xu(g,w,A,E){var V=g[w+0],K=g[w+A];return Mr[255+g[w-2*A]-g[w-A]]>E||Mr[255+K-V]>E}function ec(g,w,A,E){return 4*Mr[255+g[w-A]-g[w+0]]+Mr[255+g[w-2*A]-g[w+A]]<=E}function tc(g,w,A,E,V){var K=g[w-3*A],Z=g[w-2*A],te=g[w-A],ae=g[w+0],he=g[w+A],_e=g[w+2*A],Ie=g[w+3*A];return 4*Mr[255+te-ae]+Mr[255+Z-he]>E?0:Mr[255+g[w-4*A]-K]<=V&&Mr[255+K-Z]<=V&&Mr[255+Z-te]<=V&&Mr[255+Ie-_e]<=V&&Mr[255+_e-he]<=V&&Mr[255+he-ae]<=V}function _o(g,w,A,E){var V=2*E+1;for(E=0;16>E;++E)ec(g,w+E,A,V)&&yi(g,w+E,A)}function pr(g,w,A,E){var V=2*E+1;for(E=0;16>E;++E)ec(g,w+E*A,1,V)&&yi(g,w+E*A,1)}function vi(g,w,A,E){var V;for(V=3;0<V;--V)_o(g,w+=4*A,A,E)}function Rh(g,w,A,E){var V;for(V=3;0<V;--V)pr(g,w+=4,A,E)}function Ao(g,w,A,E,V,K,Z,te){for(K=2*K+1;0<V--;){if(tc(g,w,A,K,Z))if(xu(g,w,A,te))yi(g,w,A);else{var ae=g,he=w,_e=A,Ie=ae[he-2*_e],Be=ae[he-_e],Le=ae[he+0],ot=ae[he+_e],Ke=ae[he+2*_e],Ae=27*(tt=vu[1020+3*(Le-Be)+vu[1020+Ie-ot]])+63>>7,De=18*tt+63>>7,tt=9*tt+63>>7;ae[he-3*_e]=ha[255+ae[he-3*_e]+tt],ae[he-2*_e]=ha[255+Ie+De],ae[he-_e]=ha[255+Be+Ae],ae[he+0]=ha[255+Le-Ae],ae[he+_e]=ha[255+ot-De],ae[he+2*_e]=ha[255+Ke-tt]}w+=E}}function Zr(g,w,A,E,V,K,Z,te){for(K=2*K+1;0<V--;){if(tc(g,w,A,K,Z))if(xu(g,w,A,te))yi(g,w,A);else{var ae=g,he=w,_e=A,Ie=ae[he-_e],Be=ae[he+0],Le=ae[he+_e],ot=Sl[112+((Ke=3*(Be-Ie))+4>>3)],Ke=Sl[112+(Ke+3>>3)],Ae=ot+1>>1;ae[he-2*_e]=ha[255+ae[he-2*_e]+Ae],ae[he-_e]=ha[255+Ie+Ke],ae[he+0]=ha[255+Be-ot],ae[he+_e]=ha[255+Le-Ae]}w+=E}}function pl(g,w,A,E,V,K){Ao(g,w,A,1,16,E,V,K)}function gl(g,w,A,E,V,K){Ao(g,w,1,A,16,E,V,K)}function Fh(g,w,A,E,V,K){var Z;for(Z=3;0<Z;--Z)Zr(g,w+=4*A,A,1,16,E,V,K)}function sc(g,w,A,E,V,K){var Z;for(Z=3;0<Z;--Z)Zr(g,w+=4,1,A,16,E,V,K)}function Bh(g,w,A,E,V,K,Z,te){Ao(g,w,V,1,8,K,Z,te),Ao(A,E,V,1,8,K,Z,te)}function cd(g,w,A,E,V,K,Z,te){Ao(g,w,1,V,8,K,Z,te),Ao(A,E,1,V,8,K,Z,te)}function nc(g,w,A,E,V,K,Z,te){Zr(g,w+4*V,V,1,8,K,Z,te),Zr(A,E+4*V,V,1,8,K,Z,te)}function bu(g,w,A,E,V,K,Z,te){Zr(g,w+4,1,V,8,K,Z,te),Zr(A,E+4,1,V,8,K,Z,te)}function ac(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ud(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rc(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new R}function zh(){this.xb=this.a=0,this.l=new xa,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rc,this.ab=0,this.gc=c(4,ud),this.Oc=0}function ic(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xl(g,w,A,E,V,K,Z){for(g=g==null?0:g[w+0],w=0;w<Z;++w)V[K+w]=g+A[E+w]&255,g=V[K+w]}function oc(g,w,A,E,V,K,Z){var te;if(g==null)xl(null,null,A,E,V,K,Z);else for(te=0;te<Z;++te)V[K+te]=g[w+te]+A[E+te]&255}function Co(g,w,A,E,V,K,Z){if(g==null)xl(null,null,A,E,V,K,Z);else{var te,ae=g[w+0],he=ae,_e=ae;for(te=0;te<Z;++te)he=_e+(ae=g[w+te])-he,_e=A[E+te]+(-256&he?0>he?0:255:he)&255,he=ae,V[K+te]=_e}}function hd(g,w,A,E){var V=w.width,K=w.o;if(e(g!=null&&w!=null),0>A||0>=E||A+E>K)return null;if(!g.Cc){if(g.ga==null){var Z;if(g.ga=new ic,(Z=g.ga==null)||(Z=w.width*w.o,e(g.Gb.length==0),g.Gb=o(Z),g.Uc=0,g.Gb==null?Z=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Z=1),Z=!Z),!Z){Z=g.ga;var te=g.Fa,ae=g.P,he=g.qc,_e=g.mb,Ie=g.nb,Be=ae+1,Le=he-1,ot=Z.l;if(e(te!=null&&_e!=null&&w!=null),_i[0]=null,_i[1]=xl,_i[2]=oc,_i[3]=Co,Z.ca=_e,Z.tb=Ie,Z.c=w.width,Z.i=w.height,e(0<Z.c&&0<Z.i),1>=he)w=0;else if(Z.$a=te[ae+0]>>0&3,Z.Z=te[ae+0]>>2&3,Z.Lc=te[ae+0]>>4&3,ae=te[ae+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ae)w=0;else if(ot.put=xn,ot.ac=Os,ot.bc=jn,ot.ma=Z,ot.width=w.width,ot.height=w.height,ot.Da=w.Da,ot.v=w.v,ot.va=w.va,ot.j=w.j,ot.o=w.o,Z.$a)e:{e(Z.$a==1),w=ps();t:for(;;){if(w==null){w=0;break e}if(e(Z!=null),Z.mc=w,w.c=Z.c,w.i=Z.i,w.l=Z.l,w.l.ma=Z,w.l.width=Z.c,w.l.height=Z.i,w.a=0,Q(w.m,te,Be,Le),!bs(Z.c,Z.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&hs(w.s)?(Z.ic=1,te=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(te),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(Z.ic=0,w=Wn(w,Z.c)),!w))break t;w=1;break e}Z.mc=null,w=0}else w=Le>=Z.c*Z.i;Z=!w}if(Z)return null;g.ga.Lc!=1?g.Ga=0:E=K-A}e(g.ga!=null),e(A+E<=K);e:{if(w=(te=g.ga).c,K=te.l.o,te.$a==0){if(Be=g.rc,Le=g.Vc,ot=g.Fa,ae=g.P+1+A*w,he=g.mb,_e=g.nb+A*w,e(ae<=g.P+g.qc),te.Z!=0)for(e(_i[te.Z]!=null),Z=0;Z<E;++Z)_i[te.Z](Be,Le,ot,ae,he,_e,w),Be=he,Le=_e,_e+=w,ae+=w;else for(Z=0;Z<E;++Z)a(he,_e,ot,ae,w),Be=he,Le=_e,_e+=w,ae+=w;g.rc=Be,g.Vc=Le}else{if(e(te.mc!=null),w=A+E,e((Z=te.mc)!=null),e(w<=Z.i),Z.C>=w)w=1;else if(te.ic||Oe(),te.ic){te=Z.V,Be=Z.Ba,Le=Z.c;var Ke=Z.i,Ae=(ot=1,ae=Z.$/Le,he=Z.$%Le,_e=Z.m,Ie=Z.s,Z.$),De=Le*Ke,tt=Le*w,dt=Ie.wc,at=Ae<tt?Ft(Ie,he,ae):null;e(Ae<=De),e(w<=Ke),e(hs(Ie));t:for(;;){for(;!_e.h&&Ae<tt;){if(he&dt||(at=Ft(Ie,he,ae)),e(at!=null),I(_e),256>(Ke=Fe(at.G[0],at.H[0],_e)))te[Be+Ae]=Ke,++Ae,++he>=Le&&(he=0,++ae<=w&&!(ae%16)&&mt(Z,ae));else{if(!(280>Ke)){ot=0;break t}Ke=vs(Ke-256,_e);var Tt,At=Fe(at.G[4],at.H[4],_e);if(I(_e),!(Ae>=(At=cs(Le,At=vs(At,_e)))&&De-Ae>=Ke)){ot=0;break t}for(Tt=0;Tt<Ke;++Tt)te[Be+Ae+Tt]=te[Be+Ae+Tt-At];for(Ae+=Ke,he+=Ke;he>=Le;)he-=Le,++ae<=w&&!(ae%16)&&mt(Z,ae);Ae<tt&&he&dt&&(at=Ft(Ie,he,ae))}e(_e.h==q(_e))}mt(Z,ae>w?w:ae);break t}!ot||_e.h&&Ae<De?(ot=0,Z.a=_e.h?5:3):Z.$=Ae,w=ot}else w=kt(Z,Z.V,Z.Ba,Z.c,Z.i,w,la);if(!w){E=0;break e}}A+E>=K&&(g.Cc=1),E=1}if(!E)return null;if(g.Cc&&((E=g.ga)!=null&&(E.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+A*V}function S(g,w,A,E,V,K){for(;0<V--;){var Z,te=g,ae=w+(A?1:0),he=g,_e=w+(A?0:3);for(Z=0;Z<E;++Z){var Ie=he[_e+4*Z];Ie!=255&&(Ie*=32897,te[ae+4*Z+0]=te[ae+4*Z+0]*Ie>>23,te[ae+4*Z+1]=te[ae+4*Z+1]*Ie>>23,te[ae+4*Z+2]=te[ae+4*Z+2]*Ie>>23)}w+=K}}function H(g,w,A,E,V){for(;0<E--;){var K;for(K=0;K<A;++K){var Z=g[w+2*K+0],te=15&(he=g[w+2*K+1]),ae=4369*te,he=(240&he|he>>4)*ae>>16;g[w+2*K+0]=(240&Z|Z>>4)*ae>>16&240|(15&Z|Z<<4)*ae>>16>>4&15,g[w+2*K+1]=240&he|te}w+=V}}function ge(g,w,A,E,V,K,Z,te){var ae,he,_e=255;for(he=0;he<V;++he){for(ae=0;ae<E;++ae){var Ie=g[w+ae];K[Z+4*ae]=Ie,_e&=Ie}w+=A,Z+=te}return _e!=255}function Se(g,w,A,E,V){var K;for(K=0;K<V;++K)A[E+K]=g[w+K]>>8}function Oe(){xr=S,Cs=H,ks=ge,on=Se}function et(g,w,A){U[g]=function(E,V,K,Z,te,ae,he,_e,Ie,Be,Le,ot,Ke,Ae,De,tt,dt){var at,Tt=dt-1>>1,At=te[ae+0]|he[_e+0]<<16,$t=Ie[Be+0]|Le[ot+0]<<16;e(E!=null);var Ct=3*At+$t+131074>>2;for(w(E[V+0],255&Ct,Ct>>16,Ke,Ae),K!=null&&(Ct=3*$t+At+131074>>2,w(K[Z+0],255&Ct,Ct>>16,De,tt)),at=1;at<=Tt;++at){var Rs=te[ae+at]|he[_e+at]<<16,Us=Ie[Be+at]|Le[ot+at]<<16,_s=At+Rs+$t+Us+524296,ws=_s+2*(Rs+$t)>>3;Ct=ws+At>>1,At=(_s=_s+2*(At+Us)>>3)+Rs>>1,w(E[V+2*at-1],255&Ct,Ct>>16,Ke,Ae+(2*at-1)*A),w(E[V+2*at-0],255&At,At>>16,Ke,Ae+(2*at-0)*A),K!=null&&(Ct=_s+$t>>1,At=ws+Us>>1,w(K[Z+2*at-1],255&Ct,Ct>>16,De,tt+(2*at-1)*A),w(K[Z+2*at+0],255&At,At>>16,De,tt+(2*at+0)*A)),At=Rs,$t=Us}1&dt||(Ct=3*At+$t+131074>>2,w(E[V+dt-1],255&Ct,Ct>>16,Ke,Ae+(dt-1)*A),K!=null&&(Ct=3*$t+At+131074>>2,w(K[Z+dt-1],255&Ct,Ct>>16,De,tt+(dt-1)*A)))}}function xt(){fa[Aa]=to,fa[fc]=Ai,fa[ji]=qo,fa[gd]=ju,fa[_l]=Su,fa[Ki]=gc,fa[wu]=_u,fa[xd]=Ai,fa[zo]=ju,fa[Zi]=Su,fa[mc]=gc}function Lt(g){return g&-16384?0>g?0:255:g>>Eg}function Vt(g,w){return Lt((19077*g>>8)+(26149*w>>8)-14234)}function ms(g,w,A){return Lt((19077*g>>8)-(6419*w>>8)-(13320*A>>8)+8708)}function us(g,w){return Lt((19077*g>>8)+(33050*w>>8)-17685)}function Ls(g,w,A,E,V){E[V+0]=Vt(g,A),E[V+1]=ms(g,w,A),E[V+2]=us(g,w)}function fn(g,w,A,E,V){E[V+0]=us(g,w),E[V+1]=ms(g,w,A),E[V+2]=Vt(g,A)}function yn(g,w,A,E,V){var K=ms(g,w,A);w=K<<3&224|us(g,w)>>3,E[V+0]=248&Vt(g,A)|K>>5,E[V+1]=w}function Ln(g,w,A,E,V){var K=240&us(g,w)|15;E[V+0]=240&Vt(g,A)|ms(g,w,A)>>4,E[V+1]=K}function Tn(g,w,A,E,V){E[V+0]=255,Ls(g,w,A,E,V+1)}function da(g,w,A,E,V){fn(g,w,A,E,V),E[V+3]=255}function Jr(g,w,A,E,V){Ls(g,w,A,E,V),E[V+3]=255}function gr(g,w){return 0>g?0:g>w?w:g}function Qr(g,w,A){U[g]=function(E,V,K,Z,te,ae,he,_e,Ie){for(var Be=_e+(-2&Ie)*A;_e!=Be;)w(E[V+0],K[Z+0],te[ae+0],he,_e),w(E[V+1],K[Z+0],te[ae+0],he,_e+A),V+=2,++Z,++ae,_e+=2*A;1&Ie&&w(E[V+0],K[Z+0],te[ae+0],he,_e)}}function fd(g,w,A){return A==0?g==0?w==0?6:5:w==0?4:0:A}function $i(g,w,A,E,V){switch(g>>>30){case 3:ti(w,A,E,V,0);break;case 2:Sn(w,A,E,V);break;case 1:In(w,A,E,V)}}function Yi(g,w){var A,E,V=w.M,K=w.Nb,Z=g.oc,te=g.pc+40,ae=g.oc,he=g.pc+584,_e=g.oc,Ie=g.pc+600;for(A=0;16>A;++A)Z[te+32*A-1]=129;for(A=0;8>A;++A)ae[he+32*A-1]=129,_e[Ie+32*A-1]=129;for(0<V?Z[te-1-32]=ae[he-1-32]=_e[Ie-1-32]=129:(r(Z,te-32-1,127,21),r(ae,he-32-1,127,9),r(_e,Ie-32-1,127,9)),E=0;E<g.za;++E){var Be=w.ya[w.aa+E];if(0<E){for(A=-1;16>A;++A)a(Z,te+32*A-4,Z,te+32*A+12,4);for(A=-1;8>A;++A)a(ae,he+32*A-4,ae,he+32*A+4,4),a(_e,Ie+32*A-4,_e,Ie+32*A+4,4)}var Le=g.Gd,ot=g.Hd+E,Ke=Be.ad,Ae=Be.Hc;if(0<V&&(a(Z,te-32,Le[ot].y,0,16),a(ae,he-32,Le[ot].f,0,8),a(_e,Ie-32,Le[ot].ea,0,8)),Be.Za){var De=Z,tt=te-32+16;for(0<V&&(E>=g.za-1?r(De,tt,Le[ot].y[15],4):a(De,tt,Le[ot+1].y,0,4)),A=0;4>A;A++)De[tt+128+A]=De[tt+256+A]=De[tt+384+A]=De[tt+0+A];for(A=0;16>A;++A,Ae<<=2)De=Z,tt=te+Dl[A],Fa[Be.Ob[A]](De,tt),$i(Ae,Ke,16*+A,De,tt)}else if(De=fd(E,V,Be.Ob[0]),eo[De](Z,te),Ae!=0)for(A=0;16>A;++A,Ae<<=2)$i(Ae,Ke,16*+A,Z,te+Dl[A]);for(A=Be.Gc,De=fd(E,V,Be.Dd),yr[De](ae,he),yr[De](_e,Ie),Ae=Ke,De=ae,tt=he,255&(Be=A>>0)&&(170&Be?si(Ae,256,De,tt):Ga(Ae,256,De,tt)),Be=_e,Ae=Ie,255&(A>>=8)&&(170&A?si(Ke,320,Be,Ae):Ga(Ke,320,Be,Ae)),V<g.Ub-1&&(a(Le[ot].y,0,Z,te+480,16),a(Le[ot].f,0,ae,he+224,8),a(Le[ot].ea,0,_e,Ie+224,8)),A=8*K*g.B,Le=g.sa,ot=g.ta+16*E+16*K*g.R,Ke=g.qa,Be=g.ra+8*E+A,Ae=g.Ha,De=g.Ia+8*E+A,A=0;16>A;++A)a(Le,ot+A*g.R,Z,te+32*A,16);for(A=0;8>A;++A)a(Ke,Be+A*g.B,ae,he+32*A,8),a(Ae,De+A*g.B,_e,Ie+32*A,8)}}function lc(g,w,A,E,V,K,Z,te,ae){var he=[0],_e=[0],Ie=0,Be=ae!=null?ae.kd:0,Le=ae??new dd;if(g==null||12>A)return 7;Le.data=g,Le.w=w,Le.ha=A,w=[w],A=[A],Le.gb=[Le.gb];e:{var ot=w,Ke=A,Ae=Le.gb;if(e(g!=null),e(Ke!=null),e(Ae!=null),Ae[0]=0,12<=Ke[0]&&!s(g,ot[0],"RIFF")){if(s(g,ot[0]+8,"WEBP")){Ae=3;break e}var De=Te(g,ot[0]+4);if(12>De||4294967286<De){Ae=3;break e}if(Be&&De>Ke[0]-8){Ae=7;break e}Ae[0]=De,ot[0]+=12,Ke[0]-=12}Ae=0}if(Ae!=0)return Ae;for(De=0<Le.gb[0],A=A[0];;){e:{var tt=g;Ke=w,Ae=A;var dt=he,at=_e,Tt=ot=[0];if((Ct=Ie=[Ie])[0]=0,8>Ae[0])Ae=7;else{if(!s(tt,Ke[0],"VP8X")){if(Te(tt,Ke[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var At=Te(tt,Ke[0]+8),$t=1+be(tt,Ke[0]+12);if(2147483648<=$t*(tt=1+be(tt,Ke[0]+15))){Ae=3;break e}Tt!=null&&(Tt[0]=At),dt!=null&&(dt[0]=$t),at!=null&&(at[0]=tt),Ke[0]+=18,Ae[0]-=18,Ct[0]=1}Ae=0}}if(Ie=Ie[0],ot=ot[0],Ae!=0)return Ae;if(Ke=!!(2&ot),!De&&Ie)return 3;if(K!=null&&(K[0]=!!(16&ot)),Z!=null&&(Z[0]=Ke),te!=null&&(te[0]=0),Z=he[0],ot=_e[0],Ie&&Ke&&ae==null){Ae=0;break}if(4>A){Ae=7;break}if(De&&Ie||!De&&!Ie&&!s(g,w[0],"ALPH")){A=[A],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{At=g,Ae=w,De=A;var Ct=Le.gb;dt=Le.na,at=Le.P,Tt=Le.Sa,$t=22,e(At!=null),e(De!=null),tt=Ae[0];var Rs=De[0];for(e(dt!=null),e(Tt!=null),dt[0]=null,at[0]=null,Tt[0]=0;;){if(Ae[0]=tt,De[0]=Rs,8>Rs){Ae=7;break e}var Us=Te(At,tt+4);if(4294967286<Us){Ae=3;break e}var _s=8+Us+1&-2;if($t+=_s,0<Ct&&$t>Ct){Ae=3;break e}if(!s(At,tt,"VP8 ")||!s(At,tt,"VP8L")){Ae=0;break e}if(Rs[0]<_s){Ae=7;break e}s(At,tt,"ALPH")||(dt[0]=At,at[0]=tt+8,Tt[0]=Us),tt+=_s,Rs-=_s}}if(A=A[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ae!=0)break}A=[A],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ct=g,Ae=w,De=A,dt=Le.gb[0],at=Le.Ja,Tt=Le.xa,At=Ae[0],tt=!s(Ct,At,"VP8 "),$t=!s(Ct,At,"VP8L"),e(Ct!=null),e(De!=null),e(at!=null),e(Tt!=null),8>De[0])Ae=7;else{if(tt||$t){if(Ct=Te(Ct,At+4),12<=dt&&Ct>dt-12){Ae=3;break e}if(Be&&Ct>De[0]-8){Ae=7;break e}at[0]=Ct,Ae[0]+=8,De[0]-=8,Tt[0]=$t}else Tt[0]=5<=De[0]&&Ct[At+0]==47&&!(Ct[At+4]>>5),at[0]=De[0];Ae=0}if(A=A[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],w=w[0],Ae!=0)break;if(4294967286<Le.Ja)return 3;if(te==null||Ke||(te[0]=Le.xa?2:1),Z=[Z],ot=[ot],Le.xa){if(5>A){Ae=7;break}te=Z,Be=ot,Ke=K,g==null||5>A?g=0:5<=A&&g[w+0]==47&&!(g[w+4]>>5)?(De=[0],Ct=[0],dt=[0],Q(at=new M,g,w,A),Ot(at,De,Ct,dt)?(te!=null&&(te[0]=De[0]),Be!=null&&(Be[0]=Ct[0]),Ke!=null&&(Ke[0]=dt[0]),g=1):g=0):g=0}else{if(10>A){Ae=7;break}te=ot,g==null||10>A||!Dn(g,w+3,A-3)?g=0:(Be=g[w+0]|g[w+1]<<8|g[w+2]<<16,Ke=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&Be||3<(Be>>1&7)||!(Be>>4&1)||Be>>5>=Le.Ja||!Ke||!g?g=0:(Z&&(Z[0]=Ke),te&&(te[0]=g),g=1))}if(!g||(Z=Z[0],ot=ot[0],Ie&&(he[0]!=Z||_e[0]!=ot)))return 3;ae!=null&&(ae[0]=Le,ae.offset=w-ae.w,e(4294967286>w-ae.w),e(ae.offset==ae.ha-A));break}return Ae==0||Ae==7&&Ie&&ae==null?(K!=null&&(K[0]|=Le.na!=null&&0<Le.na.length),E!=null&&(E[0]=Z),V!=null&&(V[0]=ot),0):Ae}function ko(g,w,A){var E=w.width,V=w.height,K=0,Z=0,te=E,ae=V;if(w.Da=g!=null&&0<g.Da,w.Da&&(te=g.cd,ae=g.bd,K=g.v,Z=g.j,11>A||(K&=-2,Z&=-2),0>K||0>Z||0>=te||0>=ae||K+te>E||Z+ae>V))return 0;if(w.v=K,w.j=Z,w.va=K+te,w.o=Z+ae,w.U=te,w.T=ae,w.da=g!=null&&0<g.da,w.da){if(!gt(te,ae,A=[g.ib],K=[g.hb]))return 0;w.ib=A[0],w.hb=K[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*E/4&&w.hb<3*V/4,w.Kb=0),1}function cc(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function bl(g,w,A,E){if(E==null||0>=g||0>=w)return 2;if(A!=null){if(A.Da){var V=A.cd,K=A.bd,Z=-2&A.v,te=-2&A.j;if(0>Z||0>te||0>=V||0>=K||Z+V>g||te+K>w)return 2;g=V,w=K}if(A.da){if(!gt(g,w,V=[A.ib],K=[A.hb]))return 2;g=V[0],w=K[0]}}E.width=g,E.height=w;e:{var ae=E.width,he=E.height;if(g=E.S,0>=ae||0>=he||!(g>=Aa&&13>g))g=2;else{if(0>=E.Rd&&E.sd==null){Z=K=V=w=0;var _e=(te=ae*Um[g])*he;if(11>g||(K=(he+1)/2*(w=(ae+1)/2),g==12&&(Z=(V=ae)*he)),(he=o(_e+2*K+Z))==null){g=1;break e}E.sd=he,11>g?((ae=E.f.RGBA).eb=he,ae.fb=0,ae.A=te,ae.size=_e):((ae=E.f.kb).y=he,ae.O=0,ae.fa=te,ae.Fd=_e,ae.f=he,ae.N=0+_e,ae.Ab=w,ae.Cd=K,ae.ea=he,ae.W=0+_e+K,ae.Db=w,ae.Ed=K,g==12&&(ae.F=he,ae.J=0+_e+2*K),ae.Tc=Z,ae.lb=V)}if(w=1,V=E.S,K=E.width,Z=E.height,V>=Aa&&13>V)if(11>V)g=E.f.RGBA,w&=(te=Math.abs(g.A))*(Z-1)+K<=g.size,w&=te>=K*Um[V],w&=g.eb!=null;else{g=E.f.kb,te=(K+1)/2,_e=(Z+1)/2,ae=Math.abs(g.fa),he=Math.abs(g.Ab);var Ie=Math.abs(g.Db),Be=Math.abs(g.lb),Le=Be*(Z-1)+K;w&=ae*(Z-1)+K<=g.Fd,w&=he*(_e-1)+te<=g.Cd,w=(w&=Ie*(_e-1)+te<=g.Ed)&ae>=K&he>=te&Ie>=te,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,V==12&&(w&=Be>=K,w&=Le<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||A!=null&&A.fd&&(g=cc(E)),g}var Gn=64,Do=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yl=24,vl=32,dc=8,Ya=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(g){return g},U.Predictor2=function(g,w,A){return w[A+0]},U.Predictor3=function(g,w,A){return w[A+1]},U.Predictor4=function(g,w,A){return w[A-1]},U.Predictor5=function(g,w,A){return ve(ve(g,w[A+1]),w[A+0])},U.Predictor6=function(g,w,A){return ve(g,w[A-1])},U.Predictor7=function(g,w,A){return ve(g,w[A+0])},U.Predictor8=function(g,w,A){return ve(w[A-1],w[A+0])},U.Predictor9=function(g,w,A){return ve(w[A+0],w[A+1])},U.Predictor10=function(g,w,A){return ve(ve(g,w[A-1]),ve(w[A+0],w[A+1]))},U.Predictor11=function(g,w,A){var E=w[A+0];return 0>=pt(E>>24&255,g>>24&255,(w=w[A-1])>>24&255)+pt(E>>16&255,g>>16&255,w>>16&255)+pt(E>>8&255,g>>8&255,w>>8&255)+pt(255&E,255&g,255&w)?E:g},U.Predictor12=function(g,w,A){var E=w[A+0];return(Ye((g>>24&255)+(E>>24&255)-((w=w[A-1])>>24&255))<<24|Ye((g>>16&255)+(E>>16&255)-(w>>16&255))<<16|Ye((g>>8&255)+(E>>8&255)-(w>>8&255))<<8|Ye((255&g)+(255&E)-(255&w)))>>>0},U.Predictor13=function(g,w,A){var E=w[A-1];return(ht((g=ve(g,w[A+0]))>>24&255,E>>24&255)<<24|ht(g>>16&255,E>>16&255)<<16|ht(g>>8&255,E>>8&255)<<8|ht(g>>0&255,E>>0&255))>>>0};var Ih=U.PredictorAdd0;U.PredictorAdd1=St,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var md=U.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var yu,Lr=U.ColorIndexInverseTransform,ua=U.MapARGB,Eo=U.VP8LColorIndexInverseTransformAlpha,pd=U.MapAlpha,Wi=U.VP8LPredictorsAdd=[];Wi.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var Lo,Ra,ya,To,Wa,ei,wi,ti,Sn,si,In,Ga,wl,Ni,uc,Mo,Po,Oo,Nl,hc,Ro,Gi,jl,_n,xr,Cs,ks,on,Mn=o(511),Tr=o(2041),Fo=o(225),Bo=o(767),Xi=0,vu=Tr,Sl=Fo,ha=Bo,Mr=Mn,Aa=0,fc=1,ji=2,gd=3,_l=4,Ki=5,wu=6,xd=7,zo=8,Zi=9,mc=10,Nu=[2,3,7],Pr=[3,3,11],br=[280,256,256,256,40],Al=[0,1,1,1,0],Ji=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fm=8,bd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xn=null,An=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Is=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Io=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eo=[],Fa=[],yr=[],zm=1,pc=2,_i=[],fa=[];et("UpsampleRgbLinePair",Ls,3),et("UpsampleBgrLinePair",fn,3),et("UpsampleRgbaLinePair",Jr,4),et("UpsampleBgraLinePair",da,4),et("UpsampleArgbLinePair",Tn,4),et("UpsampleRgba4444LinePair",Ln,2),et("UpsampleRgb565LinePair",yn,2);var to=U.UpsampleRgbLinePair,qo=U.UpsampleBgrLinePair,Ai=U.UpsampleRgbaLinePair,ju=U.UpsampleBgraLinePair,Su=U.UpsampleArgbLinePair,gc=U.UpsampleRgba4444LinePair,_u=U.UpsampleRgb565LinePair,Ci=16,Kn=1<<Ci-1,Uo=-227,Au=482,Eg=6,Im=0,Lg=o(256),Zn=o(256),Uh=o(256),vd=o(256),wd=o(Au-Uo),Vh=o(Au-Uo);Qr("YuvToRgbRow",Ls,3),Qr("YuvToBgrRow",fn,3),Qr("YuvToRgbaRow",Jr,4),Qr("YuvToBgraRow",da,4),Qr("YuvToArgbRow",Tn,4),Qr("YuvToRgba4444Row",Ln,2),Qr("YuvToRgb565Row",yn,2);var Dl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],so=[0,2,8],Tg=[8,7,6,4,4,2,2,2,1,1,1,1],qm=1;this.WebPDecodeRGBA=function(g,w,A,E,V){var K=fc,Z=new ac,te=new Mt;Z.ba=te,te.S=K,te.width=[te.width],te.height=[te.height];var ae=te.width,he=te.height,_e=new Zt;if(_e==null||g==null)var Ie=2;else e(_e!=null),Ie=lc(g,w,A,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ie!=0?ae=0:(ae!=null&&(ae[0]=_e.width[0]),he!=null&&(he[0]=_e.height[0]),ae=1),ae){te.width=te.width[0],te.height=te.height[0],E!=null&&(E[0]=te.width),V!=null&&(V[0]=te.height);e:{if(E=new xa,(V=new dd).data=g,V.w=w,V.ha=A,V.kd=1,w=[0],e(V!=null),((g=lc(V.data,V.w,V.ha,null,null,null,w,null,V))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(e(Z!=null),E.data=V.data,E.w=V.w+V.offset,E.ha=V.ha-V.offset,E.put=xn,E.ac=Os,E.bc=jn,E.ma=Z,V.xa){if((g=ps())==null){Z=1;break e}if(function(Be,Le){var ot=[0],Ke=[0],Ae=[0];t:for(;;){if(Be==null)return 0;if(Le==null)return Be.a=2,0;if(Be.l=Le,Be.a=0,Q(Be.m,Le.data,Le.w,Le.ha),!Ot(Be.m,ot,Ke,Ae)){Be.a=3;break t}if(Be.xb=pc,Le.width=ot[0],Le.height=Ke[0],!bs(ot[0],Ke[0],1,Be,null))break t;return 1}return e(Be.a!=0),0}(g,E)){if(E=(w=bl(E.width,E.height,Z.Oa,Z.ba))==0){t:{E=g;s:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((A=E.l)!=null),e((V=A.ma)!=null),E.xb!=0){if(E.ca=V.ba,E.tb=V.tb,e(E.ca!=null),!ko(V.Oa,A,gd)){E.a=2;break s}if(!Wn(E,A.width)||A.da)break s;if((A.da||Pe(E.ca.S))&&Oe(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&Oe()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!Ge(E.s.vb,E.s.Wa.Xa)){E.a=1;break s}E.xb=0}if(!kt(E,E.V,E.Ba,E.c,E.i,A.o,Et))break s;V.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(w=g.a)}else w=g.a}else{if((g=new qi)==null){Z=1;break e}if(g.Fa=V.na,g.P=V.P,g.qc=V.Sa,Yr(g,E)){if((w=bl(E.width,E.height,Z.Oa,Z.ba))==0){if(g.Aa=0,A=Z.Oa,e((V=g)!=null),A!=null){if(0<(ae=0>(ae=A.Md)?0:100<ae?255:255*ae/100)){for(he=_e=0;4>he;++he)12>(Ie=V.pb[he]).lc&&(Ie.ia=ae*Tg[0>Ie.lc?0:Ie.lc]>>3),_e|=Ie.ia;_e&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=A.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}xi(g,E)||(w=g.a)}}else w=g.a}w==0&&Z.Oa!=null&&Z.Oa.fd&&(w=cc(Z.ba))}Z=w}K=Z!=0?null:11>K?te.f.RGBA.eb:te.f.kb.y}else K=null;return K};var Um=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(U,oe){for(var re="",O=0;O<4;O++)re+=String.fromCharCode(U[oe++]);return re}function p(U,oe){return(U[oe+0]<<0|U[oe+1]<<8|U[oe+2]<<16)>>>0}function x(U,oe){return(U[oe+0]<<0|U[oe+1]<<8|U[oe+2]<<16|U[oe+3]<<24)>>>0}new h;var v=[0],y=[0],N=[],_=new h,k=t,C=function(U,oe){var re={},O=0,R=!1,ie=0,X=0;if(re.frames=[],!function(T,q,Y,I){for(var G=0;G<I;G++)if(T[q+G]!=Y.charCodeAt(G))return!0;return!1}(U,oe,"RIFF",4)){for(x(U,oe+=4),oe+=8;oe<U.length;){var se=f(U,oe),z=x(U,oe+=4);oe+=4;var J=z+(1&z);switch(se){case"VP8 ":case"VP8L":re.frames[O]===void 0&&(re.frames[O]={}),(B=re.frames[O]).src_off=R?X:oe-8,B.src_size=ie+z+8,O++,R&&(R=!1,ie=0,X=0);break;case"VP8X":(B=re.header={}).feature_flags=U[oe];var Q=oe+4;B.canvas_width=1+p(U,Q),Q+=3,B.canvas_height=1+p(U,Q),Q+=3;break;case"ALPH":R=!0,ie=J+8,X=oe-8;break;case"ANIM":(B=re.header).bgcolor=x(U,oe),Q=oe+4,B.loop_count=(me=U)[(M=Q)+0]<<0|me[M+1]<<8,Q+=2;break;case"ANMF":var xe,B;(B=re.frames[O]={}).offset_x=2*p(U,oe),oe+=3,B.offset_y=2*p(U,oe),oe+=3,B.width=1+p(U,oe),oe+=3,B.height=1+p(U,oe),oe+=3,B.duration=p(U,oe),oe+=3,xe=U[oe++],B.dispose=1&xe,B.blend=xe>>1&1}se!="ANMF"&&(oe+=J)}var me,M;return re}}(k,0);C.response=k,C.rgbaoutput=!0,C.dataurl=!1;var D=C.header?C.header:null,L=C.frames?C.frames:null;if(D){D.loop_counter=D.loop_count,v=[D.canvas_height],y=[D.canvas_width];for(var $=0;$<L.length&&L[$].blend!=0;$++);}var W=L[0],le=_.WebPDecodeRGBA(k,W.src_off,W.src_size,y,v);W.rgba=le,W.imgwidth=y[0],W.imgheight=v[0];for(var ee=0;ee<y[0]*v[0]*4;ee++)N[ee]=le[ee];return this.width=y,this.height=v,this.data=N,this}(function(t){var e=function(){return typeof ny=="function"},s=function(v,y,N,_){var k=4,C=c;switch(_){case t.image_compression.FAST:k=1,C=o;break;case t.image_compression.MEDIUM:k=6,C=d;break;case t.image_compression.SLOW:k=9,C=h}v=a(v,y,N,C);var D=ny(v,{level:k});return t.__addimage__.arrayBufferToBinaryString(D)},a=function(v,y,N,_){for(var k,C,D,L=v.length/y,$=new Uint8Array(v.length+L),W=p(),le=0;le<L;le+=1){if(D=le*y,k=v.subarray(D,D+y),_)$.set(_(k,N,C),D+le);else{for(var ee,U=W.length,oe=[];ee<U;ee+=1)oe[ee]=W[ee](k,N,C);var re=x(oe.concat());$.set(oe[re],D+le)}C=k}return $},r=function(v){var y=Array.apply([],v);return y.unshift(0),y},o=function(v,y){var N,_=[],k=v.length;_[0]=1;for(var C=0;C<k;C+=1)N=v[C-y]||0,_[C+1]=v[C]-N+256&255;return _},c=function(v,y,N){var _,k=[],C=v.length;k[0]=2;for(var D=0;D<C;D+=1)_=N&&N[D]||0,k[D+1]=v[D]-_+256&255;return k},d=function(v,y,N){var _,k,C=[],D=v.length;C[0]=3;for(var L=0;L<D;L+=1)_=v[L-y]||0,k=N&&N[L]||0,C[L+1]=v[L]+256-(_+k>>>1)&255;return C},h=function(v,y,N){var _,k,C,D,L=[],$=v.length;L[0]=4;for(var W=0;W<$;W+=1)_=v[W-y]||0,k=N&&N[W]||0,C=N&&N[W-y]||0,D=f(_,k,C),L[W+1]=v[W]-D+256&255;return L},f=function(v,y,N){if(v===y&&y===N)return v;var _=Math.abs(y-N),k=Math.abs(v-N),C=Math.abs(v+y-N-N);return _<=k&&_<=C?v:k<=C?y:N},p=function(){return[r,o,c,d,h]},x=function(v){var y=v.map(function(N){return N.reduce(function(_,k){return _+Math.abs(k)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(v,y,N,_){var k,C,D,L,$,W,le,ee,U,oe,re,O,R,ie,X,se=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(D=new kF(v)).imgData,C=D.bits,k=D.colorSpace,$=D.colors,[4,6].indexOf(D.colorType)!==-1){if(D.bits===8){U=(ee=D.pixelBitlength==32?new Uint32Array(D.decodePixels().buffer):D.pixelBitlength==16?new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer)).length,re=new Uint8Array(U*D.colors),oe=new Uint8Array(U);var J,Q=D.pixelBitlength-D.bits;for(ie=0,X=0;ie<U;ie++){for(R=ee[ie],J=0;J<Q;)re[X++]=R>>>J&255,J+=D.bits;oe[ie]=R>>>J&255}}if(D.bits===16){U=(ee=new Uint32Array(D.decodePixels().buffer)).length,re=new Uint8Array(U*(32/D.pixelBitlength)*D.colors),oe=new Uint8Array(U*(32/D.pixelBitlength)),O=D.colors>1,ie=0,X=0;for(var xe=0;ie<U;)R=ee[ie++],re[X++]=R>>>0&255,O&&(re[X++]=R>>>16&255,R=ee[ie++],re[X++]=R>>>0&255),oe[xe++]=R>>>16&255;C=8}_!==t.image_compression.NONE&&e()?(v=s(re,D.width*D.colors,D.colors,_),le=s(oe,D.width,1,_)):(v=re,le=oe,se=void 0)}if(D.colorType===3&&(k=this.color_spaces.INDEXED,W=D.palette,D.transparency.indexed)){var B=D.transparency.indexed,me=0;for(ie=0,U=B.length;ie<U;++ie)me+=B[ie];if((me/=255)===U-1&&B.indexOf(0)!==-1)L=[B.indexOf(0)];else if(me!==U){for(ee=D.decodePixels(),oe=new Uint8Array(ee.length),ie=0,U=ee.length;ie<U;ie++)oe[ie]=B[ee[ie]];le=s(oe,D.width,1)}}var M=function(T){var q;switch(T){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(_);return se===this.decode.FLATE_DECODE&&(z="/Predictor "+M+" "),z+="/Colors "+$+" /BitsPerComponent "+C+" /Columns "+D.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(le&&this.__addimage__.isArrayBuffer(le)||this.__addimage__.isArrayBufferView(le))&&(le=this.__addimage__.arrayBufferToBinaryString(le)),{alias:N,data:v,index:y,filter:se,decodeParameters:z,transparency:L,palette:W,sMask:le,predictor:M,width:D.width,height:D.height,bitsPerComponent:C,colorSpace:k}}}})(ts.API),function(t){t.processGIF89A=function(e,s,a,r){var o=new DF(e),c=o.width,d=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:d},p=new pb(100).encode(f,100);return t.processJPEG.call(this,p,s,a,r)},t.processGIF87A=t.processGIF89A}(ts.API),uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:a,blue:s,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(s){un.log("bit decode error:"+s)}},uo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),s=e%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*r*4,d=0;d<8&&8*r+d<this.width;d++){var h=this.palette[o>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}s!==0&&(this.pos+=4-s)}},uo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,r=0;r<t;r++){var o=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*r*4,d=o>>4,h=15&o,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*r+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},uo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+4*a;if(r<this.palette.length){var c=this.palette[r];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},uo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,p=a*this.width*4+4*r;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=f}this.pos+=t}},uo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),s=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,h=(c>>5&s)/s*255|0,f=(c>>11)/e*255|0,p=r*this.width*4+4*o;this.data[p]=f,this.data[p+1]=h,this.data[p+2]=d,this.data[p+3]=255}this.pos+=t}},uo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*s;this.data[c]=o,this.data[c+1]=r,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},uo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*s;this.data[d]=o,this.data[d+1]=r,this.data[d+2]=a,this.data[d+3]=c}},uo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,s,a,r){var o=new uo(e,!1),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new pb(100).encode(h,100);return t.processJPEG.call(this,f,s,a,r)}}(ts.API),EN.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,s,a,r){var o=new EN(e),c=o.width,d=o.height,h={data:o.getData(),width:c,height:d},f=new pb(100).encode(h,100);return t.processJPEG.call(this,f,s,a,r)}}(ts.API),ts.API.processRGBA=function(t,e,s){for(var a=t.data,r=a.length,o=new Uint8Array(r/4*3),c=new Uint8Array(r/4),d=0,h=0,f=0;f<r;f+=4){var p=a[f],x=a[f+1],v=a[f+2],y=a[f+3];o[d++]=p,o[d++]=x,o[d++]=v,c[h++]=y}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:N,index:e,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ts.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ju=ts.API,s0=Ju.getCharWidthsArray=function(t,e){var s,a,r=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:r.metadata.Unicode.widths,h=d.fof?d.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,x=e.doKerning!==!1,v=0,y=t.length,N=0,_=d[0]||h,k=[];for(s=0;s<y;s++)a=t.charCodeAt(s),typeof r.metadata.widthOfString=="function"?k.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(a))+c*(1e3/o)||0)/1e3):(v=x&&an(f[a])==="object"&&!isNaN(parseInt(f[a][N],10))?f[a][N]/p:0,k.push((d[a]||_)/h+v)),N=a;return k},AN=Ju.getStringUnitWidth=function(t,e){var s=(e=e||{}).fontSize||this.internal.getFontSize(),a=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return Ju.processArabic&&(t=Ju.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,s,r)/s:s0.apply(this,arguments).reduce(function(o,c){return o+c},0)},CN=function(t,e,s,a){for(var r=[],o=0,c=t.length,d=0;o!==c&&d+e[o]<s;)d+=e[o],o++;r.push(t.slice(0,o));var h=o;for(d=0;o!==c;)d+e[o]>a&&(r.push(t.slice(h,o)),d=0,h=o),d+=e[o],o++;return h!==o&&r.push(t.slice(h,o)),r},kN=function(t,e,s){s||(s={});var a,r,o,c,d,h,f,p=[],x=[p],v=s.textIndent||0,y=0,N=0,_=t.split(" "),k=s0.apply(this,[" ",s])[0];if(h=s.lineIndent===-1?_[0].length+2:s.lineIndent||0){var C=Array(h).join(" "),D=[];_.map(function($){($=$.split(/\s*\n/)).length>1?D=D.concat($.map(function(W,le){return(le&&W.length?`
`:"")+W})):D.push($[0])}),_=D,h=AN.apply(this,[C,s])}for(o=0,c=_.length;o<c;o++){var L=0;if(a=_[o],h&&a[0]==`
`&&(a=a.substr(1),L=1),v+y+(N=(r=s0.apply(this,[a,s])).reduce(function($,W){return $+W},0))>e||L){if(N>e){for(d=CN.apply(this,[a,r,e-(v+y),e]),p.push(d.shift()),p=[d.pop()];d.length;)x.push([d.shift()]);N=r.slice(a.length-(p[0]?p[0].length:0)).reduce(function($,W){return $+W},0)}else p=[a];x.push(p),v=N+h,y=k}else p.push(a),v+=y+N,y=k}return f=h?function($,W){return(W?C:"")+$.join(" ")}:function($){return $.join(" ")},x.map(f)},Ju.splitTextToSize=function(t,e,s){var a,r=(s=s||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/r;o.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=s.lineIndent;var d,h,f=[];for(d=0,h=a.length;d<h;d++)f=f.concat(kN.apply(this,[a[d],c,o]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",s={},a={},r=0;r<e.length;r++)s[e[r]]="0123456789abcdef"[r],a["0123456789abcdef"[r]]=e[r];var o=function(x){return"0x"+parseInt(x,10).toString(16)},c=t.__fontmetrics__.compress=function(x){var v,y,N,_,k=["{"];for(var C in x){if(v=x[C],isNaN(parseInt(C,10))?y="'"+C+"'":(C=parseInt(C,10),y=(y=o(C).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof v=="number")v<0?(N=o(v).slice(3),_="-"):(N=o(v).slice(2),_=""),N=_+N.slice(0,-1)+a[N.slice(-1)];else{if(an(v)!=="object")throw new Error("Don't know what to do with value type "+an(v)+".");N=c(v)}k.push(y+N)}return k.push("}"),k.join("")},d=t.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,y,N,_,k={},C=1,D=k,L=[],$="",W="",le=x.length-1,ee=1;ee<le;ee+=1)(_=x[ee])=="'"?v?(N=v.join(""),v=void 0):v=[]:v?v.push(_):_=="{"?(L.push([D,N]),D={},N=void 0):_=="}"?((y=L.pop())[0][y[1]]=D,N=void 0,D=y[0]):_=="-"?C=-1:N===void 0?s.hasOwnProperty(_)?($+=s[_],N=parseInt($,16)*C,C=1,$=""):$+=_:s.hasOwnProperty(_)?(W+=s[_],D[N]=parseInt(W,16)*C,C=1,N=void 0,W=""):W+=_;return k},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var v=x.font,y=p.Unicode[v.postScriptName];y&&(v.metadata.Unicode={},v.metadata.Unicode.widths=y.widths,v.metadata.Unicode.kerning=y.kerning);var N=f.Unicode[v.postScriptName];N&&(v.metadata.Unicode.encoding=N,v.encoding=N.codePages[0])}])}(ts.API),function(t){var e=function(s){for(var a=s.length,r=new Uint8Array(a),o=0;o<a;o++)r[o]=s.charCodeAt(o);return r};t.API.events.push(["addFont",function(s){var a=void 0,r=s.font,o=s.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(a=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(em(d)),c.metadata=t.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(r,a)}}])}(ts),function(t){function e(){return(rs.canvg?Promise.resolve(rs.canvg):Jb(()=>import("./index.es-f6J3E1Tj.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load canvg: "+s))}).then(function(s){return s.default?s.default:s})}ts.API.addSvgAsImage=function(s,a,r,o,c,d,h,f){if(isNaN(a)||isNaN(r))throw un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=o,p.height=c;var x=p.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(N){return N.fromString(x,s,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(v)}).then(function(){y.addImage(p.toDataURL("image/jpeg",1),a,r,o,c,h,f)})}}(),ts.API.putTotalPages=function(t){var e,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),s=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var r=0;r<this.internal.pages[a].length;r++)this.internal.pages[a][r]=this.internal.pages[a][r].replace(e,s);return this},ts.API.viewerPreferences=function(t,e){var s;t=t||{},e=e||!1;var a,r,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],f=0,p=0,x=0;function v(N,_){var k,C=!1;for(k=0;k<N.length;k+=1)N[k]===_&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=d.length;for(x=0;x<y;x+=1)s[d[x]].value=s[d[x]].defaultValue,s[d[x]].explicitSet=!1}if(an(t)==="object"){for(r in t)if(o=t[r],v(d,r)&&o!==void 0){if(s[r].type==="boolean"&&typeof o=="boolean")s[r].value=o;else if(s[r].type==="name"&&v(s[r].valueSet,o))s[r].value=o;else if(s[r].type==="integer"&&Number.isInteger(o))s[r].value=o;else if(s[r].type==="array"){for(f=0;f<o.length;f+=1)if(a=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(p=0;p<o[f].length;p+=1)typeof o[f][p]!="number"&&(a=!1);a===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}s[r].value="["+h.join(" ")+"]"}else s[r].value=s[r].defaultValue;s[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,_=[];for(N in s)s[N].explicitSet===!0&&(s[N].type==="name"?_.push("/"+N+" /"+s[N].value):_.push("/"+N+" "+s[N].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(t){var e=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+d.length+r.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+o+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",e)),this}}(ts.API),function(t){var e=t.API,s=e.pdfEscape16=function(o,c){for(var d,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],x=0,v=o.length;x<v;++x){if(d=c.metadata.characterToGlyph(o.charCodeAt(x)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(x),h.indexOf(d)==-1&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return p.join("");d=d.toString(16),p.push(f[4-d.length],d)}return p.join("")},a=function(o){var c,d,h,f,p,x,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],x=0,v=(d=Object.keys(o).sort(function(y,N){return y-N})).length;x<v;x++)c=d[x],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="Identity-H"){for(var x=d.metadata.Unicode.widths,v=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),y="",N=0;N<v.length;N++)y+=String.fromCharCode(v[N]);var _=f();p({data:y,addLength1:!0,objectId:_}),h("endobj");var k=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var C=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+eh(d.fontName)),h("/FontFile2 "+_+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var D=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+eh(d.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+t.API.PDFObject.convert(x)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+k+" 0 R"),h("/BaseFont /"+eh(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+D+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,h=c.out,f=c.newObject,p=c.putStream;if(d.metadata instanceof t.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var x=d.metadata.rawData,v="",y=0;y<x.length;y++)v+=String.fromCharCode(x[y]);var N=f();p({data:v,addLength1:!0,objectId:N}),h("endobj");var _=f();p({data:a(d.metadata.toUnicode),addLength1:!0,objectId:_}),h("endobj");var k=f();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+N+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+eh(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=f();for(var C=0;C<d.metadata.hmtx.widths.length;C++)d.metadata.hmtx.widths[C]=parseInt(d.metadata.hmtx.widths[C]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+eh(d.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}})(o)}]);var r=function(o){var c,d=o.text||"",h=o.x,f=o.y,p=o.options||{},x=o.mutex||{},v=x.pdfEscape,y=x.activeFontKey,N=x.fonts,_=y,k="",C=0,D="",L=N[_].encoding;if(N[_].encoding!=="Identity-H")return{text:d,x:h,y:f,options:p,mutex:x};for(D=d,_=y,Array.isArray(d)&&(D=d[0]),C=0;C<D.length;C+=1)N[_].metadata.hasOwnProperty("cmap")&&(c=N[_].metadata.cmap.unicode.codeMap[D[C].charCodeAt(0)]),c||D[C].charCodeAt(0)<256&&N[_].metadata.hasOwnProperty("Unicode")?k+=D[C]:k+="";var $="";return parseInt(_.slice(1))<14||L==="WinAnsiEncoding"?$=v(k,_).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&($=s(k,N[_])),x.isHex=!0,{text:$,x:h,y:f,options:p,mutex:x}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([r(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(r(Object.assign({},h,{text:c[f]})).text);o.text=d}else o.text=r(Object.assign({},h,{text:c})).text}])}(ts),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0},t.addFileToVFS=function(s,a){return e.call(this),this.internal.vFS[s]=a,this},t.getFileFromVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(ts.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var r,o,c,d,h,f,p,x=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,L=0;this.__bidiEngine__={};var $=function(O){var R=O.charCodeAt(),ie=R>>8,X=_[ie];return X!==void 0?x[256*X+(255&R)]:ie===252||ie===253?"AL":C.test(ie)?"L":ie===8?"R":"N"},W=function(O){for(var R,ie=0;ie<O.length;ie++){if((R=$(O.charAt(ie)))==="L")return!1;if(R==="R")return!0}return!1},le=function(O,R,ie,X){var se,z,J,Q,xe=R[X];switch(xe){case"L":case"R":D=!1;break;case"N":case"AN":break;case"EN":D&&(xe="AN");break;case"AL":D=!0,xe="R";break;case"WS":xe="N";break;case"CS":X<1||X+1>=R.length||(se=ie[X-1])!=="EN"&&se!=="AN"||(z=R[X+1])!=="EN"&&z!=="AN"?xe="N":D&&(z="AN"),xe=z===se?z:"N";break;case"ES":xe=(se=X>0?ie[X-1]:"B")==="EN"&&X+1<R.length&&R[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&ie[X-1]==="EN"){xe="EN";break}if(D){xe="N";break}for(J=X+1,Q=R.length;J<Q&&R[J]==="ET";)J++;xe=J<Q&&R[J]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(Q=R.length,J=X+1;J<Q&&R[J]==="NSM";)J++;if(J<Q){var B=O[X],me=B>=1425&&B<=2303||B===64286;if(se=R[J],me&&(se==="R"||se==="AL")){xe="R";break}}}xe=X<1||(se=R[X-1])==="B"?"N":ie[X-1];break;case"B":D=!1,r=!0,xe=L;break;case"S":o=!0,xe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"BN":xe="N"}return xe},ee=function(O,R,ie){var X=O.split("");return ie&&U(X,ie,{hiLevel:L}),X.reverse(),R&&R.reverse(),X.join("")},U=function(O,R,ie){var X,se,z,J,Q,xe=-1,B=O.length,me=0,M=[],T=L?y:v,q=[];for(D=!1,r=!1,o=!1,se=0;se<B;se++)q[se]=$(O[se]);for(z=0;z<B;z++){if(Q=me,M[z]=le(O,q,M,z),X=240&(me=T[Q][N[M[z]]]),me&=15,R[z]=J=T[me][5],X>0)if(X===16){for(se=xe;se<z;se++)R[se]=1;xe=-1}else xe=-1;if(T[me][6])xe===-1&&(xe=z);else if(xe>-1){for(se=xe;se<z;se++)R[se]=J;xe=-1}q[z]==="B"&&(R[z]=0),ie.hiLevel|=J}o&&function(Y,I,G){for(var ce=0;ce<G;ce++)if(Y[ce]==="S"){I[ce]=L;for(var pe=ce-1;pe>=0&&Y[pe]==="WS";pe--)I[pe]=L}}(q,R,B)},oe=function(O,R,ie,X,se){if(!(se.hiLevel<O)){if(O===1&&L===1&&!r)return R.reverse(),void(ie&&ie.reverse());for(var z,J,Q,xe,B=R.length,me=0;me<B;){if(X[me]>=O){for(Q=me+1;Q<B&&X[Q]>=O;)Q++;for(xe=me,J=Q-1;xe<J;xe++,J--)z=R[xe],R[xe]=R[J],R[J]=z,ie&&(z=ie[xe],ie[xe]=ie[J],ie[J]=z);me=Q}me++}}},re=function(O,R,ie){var X=O.split(""),se={hiLevel:L};return ie||(ie=[]),U(X,ie,se),function(z,J,Q){if(Q.hiLevel!==0&&p)for(var xe,B=0;B<z.length;B++)J[B]===1&&(xe=k.indexOf(z[B]))>=0&&(z[B]=k[xe+1])}(X,ie,se),oe(2,X,R,ie,se),oe(1,X,R,ie,se),X.join("")};return this.__bidiEngine__.doBidiReorder=function(O,R,ie){if(function(se,z){if(z)for(var J=0;J<se.length;J++)z[J]=J;d===void 0&&(d=W(se)),f===void 0&&(f=W(se))}(O,R),c||!h||f)if(c&&h&&d^f)L=d?1:0,O=ee(O,R,ie);else if(!c&&h&&f)L=d?1:0,O=re(O,R,ie),O=ee(O,R);else if(!c||d||h||f){if(c&&!h&&d^f)O=ee(O,R),d?(L=0,O=re(O,R,ie)):(L=1,O=re(O,R,ie),O=ee(O,R));else if(c&&d&&!h&&f)L=1,O=re(O,R,ie),O=ee(O,R);else if(!c&&!h&&d^f){var X=p;d?(L=1,O=re(O,R,ie),L=0,p=!1,O=re(O,R,ie),p=X):(L=0,O=re(O,R,ie),O=ee(O,R),L=1,p=!1,O=re(O,R,ie),p=X,O=ee(O,R))}}else L=0,O=re(O,R,ie);else L=d?1:0,O=re(O,R,ie);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,h=O.isOutputVisual,d=O.isInputRtl,f=O.isOutputRtl,p=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var r=a.text;a.x,a.y;var o=a.options||{};a.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,s.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var d=0;for(c=[],d=0;d<r.length;d+=1)Object.prototype.toString.call(r[d])==="[object Array]"?c.push([s.doBidiReorder(r[d][0]),r[d][1],r[d][2]]):c.push([s.doBidiReorder(r[d])]);a.text=c}else a.text=s.doBidiReorder(r);s.setOptions({isInputVisual:!0})}])}(ts),ts.API.TTFFont=function(){function t(e){var s;if(this.rawData=e,s=this.contents=new nd(e),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new HF(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new EF(this.contents),this.head=new TF(this),this.name=new FF(this),this.cmap=new F6(this),this.toUnicode={},this.hhea=new MF(this),this.maxp=new BF(this),this.hmtx=new zF(this),this.post=new OF(this),this.os2=new PF(this),this.loca=new VF(this),this.glyf=new IF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,s,a,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,h,f;for(f=[],c=0,d=(h=this.bbox).length;c<d;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(a=255&(r=this.post.italic_angle),(32768&(s=r>>16))!=0&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var s;return((s=this.cmap.unicode)!=null?s.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*s},t.prototype.widthOfString=function(e,s,a){var r,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)r=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(r))+a*(1e3/s)||0;return c*(s/1e3)},t.prototype.lineHeight=function(e,s){var a;return s==null&&(s=!1),a=s?this.lineGap:0,(this.ascender+a-this.decender)/1e3*e},t}();var bo,nd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var s,a;for(a=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)a[s]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(e){var s,a,r;for(r=[],s=0,a=e.length;0<=a?s<a:s>a;s=0<=a?++s:--s)r.push(this.writeByte(e.charCodeAt(s)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,s,a,r,o,c,d,h;return e=this.readByte(),s=this.readByte(),a=this.readByte(),r=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^s)+1099511627776*(255^a)+4294967296*(255^r)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*e+281474976710656*s+1099511627776*a+4294967296*r+16777216*o+65536*c+256*d+h},t.prototype.writeLongLong=function(e){var s,a;return s=Math.floor(e/4294967296),a=4294967295&e,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var s,a;for(s=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)s.push(this.readByte());return s},t.prototype.write=function(e){var s,a,r,o;for(o=[],a=0,r=e.length;a<r;a++)s=e[a],o.push(this.writeByte(s));return o},t}(),EF=function(){var t;function e(s){var a,r,o;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)a={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[a.tag]=a}return e.prototype.encode=function(s){var a,r,o,c,d,h,f,p,x,v,y,N,_;for(_ in y=Object.keys(s).length,h=Math.log(2),x=16*Math.floor(Math.log(y)/h),c=Math.floor(x/h),p=16*y-x,(r=new nd).writeInt(this.scalarType),r.writeShort(y),r.writeShort(x),r.writeShort(c),r.writeShort(p),o=16*y,f=r.pos+o,d=null,N=[],s)for(v=s[_],r.writeString(_),r.writeInt(t(v)),r.writeInt(f),r.writeInt(v.length),N=N.concat(v),_==="head"&&(d=f),f+=v.length;f%4;)N.push(0),f++;return r.write(N),a=2981146554-t(r.data),r.pos=d+8,r.writeUInt32(a),r.data},t=function(s){var a,r,o,c;for(s=B6.call(s);s.length%4;)s.push(0);for(o=new nd(s),r=0,a=0,c=s.length;a<c;a=a+=4)r+=o.readUInt32();return 4294967295&r},e}(),LF={}.hasOwnProperty,ul=function(t,e){for(var s in e)LF.call(e,s)&&(t[s]=e[s]);function a(){this.constructor=t}return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};bo=function(){function t(e){var s;this.file=e,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var TF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="head",e.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},e.prototype.encode=function(s){var a;return(a=new nd).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(s),a.writeShort(this.glyphDataFormat),a.data},e}(),LN=function(){function t(e,s){var a,r,o,c,d,h,f,p,x,v,y,N,_,k,C,D,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=s+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(y=e.readUInt16(),v=y/2,e.pos+=6,o=function(){var $,W;for(W=[],h=$=0;0<=v?$<v:$>v;h=0<=v?++$:--$)W.push(e.readUInt16());return W}(),e.pos+=2,_=function(){var $,W;for(W=[],h=$=0;0<=v?$<v:$>v;h=0<=v?++$:--$)W.push(e.readUInt16());return W}(),f=function(){var $,W;for(W=[],h=$=0;0<=v?$<v:$>v;h=0<=v?++$:--$)W.push(e.readUInt16());return W}(),p=function(){var $,W;for(W=[],h=$=0;0<=v?$<v:$>v;h=0<=v?++$:--$)W.push(e.readUInt16());return W}(),r=(this.length-e.pos+this.offset)/2,d=function(){var $,W;for(W=[],h=$=0;0<=r?$<r:$>r;h=0<=r?++$:--$)W.push(e.readUInt16());return W}(),h=C=0,L=o.length;C<L;h=++C)for(k=o[h],a=D=N=_[h];N<=k?D<=k:D>=k;a=N<=k?++D:--D)p[h]===0?c=a+f[h]:(c=d[p[h]/2+(a-N)-(v-h)]||0)!==0&&(c+=f[h]),this.codeMap[a]=65535&c}e.pos=x}return t.encode=function(e,s){var a,r,o,c,d,h,f,p,x,v,y,N,_,k,C,D,L,$,W,le,ee,U,oe,re,O,R,ie,X,se,z,J,Q,xe,B,me,M,T,q,Y,I,G,ce,pe,de,Ne,be;switch(X=new nd,c=Object.keys(e).sort(function(Te,Ge){return Te-Ge}),s){case"macroman":for(_=0,k=function(){var Te=[];for(N=0;N<256;++N)Te.push(0);return Te}(),D={0:0},o={},se=0,xe=c.length;se<xe;se++)D[pe=e[r=c[se]]]==null&&(D[pe]=++_),o[r]={old:e[r],new:D[e[r]]},k[r]=D[e[r]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(k),{charMap:o,subtable:X.data,maxGlyphID:_+1};case"unicode":for(R=[],x=[],L=0,D={},a={},C=f=null,z=0,B=c.length;z<B;z++)D[W=e[r=c[z]]]==null&&(D[W]=++L),a[r]={old:W,new:D[W]},d=D[W]-r,C!=null&&d===f||(C&&x.push(C),R.push(r),f=d),C=r;for(C&&x.push(C),x.push(65535),R.push(65535),re=2*(oe=R.length),U=2*Math.pow(Math.log(oe)/Math.LN2,2),v=Math.log(U/2)/Math.LN2,ee=2*oe-U,h=[],le=[],y=[],N=J=0,me=R.length;J<me;N=++J){if(O=R[N],p=x[N],O===65535){h.push(0),le.push(0);break}if(O-(ie=a[O].new)>=32768)for(h.push(0),le.push(2*(y.length+oe-N)),r=Q=O;O<=p?Q<=p:Q>=p;r=O<=p?++Q:--Q)y.push(a[r].new);else h.push(ie-O),le.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*oe+2*y.length),X.writeUInt16(0),X.writeUInt16(re),X.writeUInt16(U),X.writeUInt16(v),X.writeUInt16(ee),G=0,M=x.length;G<M;G++)r=x[G],X.writeUInt16(r);for(X.writeUInt16(0),ce=0,T=R.length;ce<T;ce++)r=R[ce],X.writeUInt16(r);for(de=0,q=h.length;de<q;de++)d=h[de],X.writeUInt16(d);for(Ne=0,Y=le.length;Ne<Y;Ne++)$=le[Ne],X.writeUInt16($);for(be=0,I=y.length;be<I;be++)_=y[be],X.writeUInt16(_);return{charMap:a,subtable:X.data,maxGlyphID:L+1}}},t}(),F6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="cmap",e.prototype.parse=function(s){var a,r,o;for(s.pos=this.offset,this.version=s.readUInt16(),o=s.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)a=new LN(s,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},e.encode=function(s,a){var r,o;return a==null&&(a="macroman"),r=LN.encode(s,a),(o=new nd).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},e}(),MF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="hhea",e.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},e}(),PF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="OS/2",e.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=function(){var a,r;for(r=[],a=0;a<10;++a)r.push(s.readByte());return r}(),this.charRange=function(){var a,r;for(r=[],a=0;a<4;++a)r.push(s.readInt());return r}(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=function(){var a,r;for(r=[],a=0;a<2;a=++a)r.push(s.readInt());return r}(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},e}(),OF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="post",e.prototype.parse=function(s){var a,r,o;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:break;case 131072:var c;for(r=s.readUInt16(),this.glyphNameIndex=[],c=0;0<=r?c<r:c>r;c=0<=r?++c:--c)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],o=[];s.pos<this.offset+this.length;)a=s.readByte(),o.push(this.names.push(s.readString(a)));return o;case 151552:return r=s.readUInt16(),this.offsets=s.read(r);case 196608:break;case 262144:return this.map=(function(){var d,h,f;for(f=[],c=d=0,h=this.file.maxp.numGlyphs;0<=h?d<h:d>h;c=0<=h?++d:--d)f.push(s.readUInt32());return f}).call(this)}},e}(),RF=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},FF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="name",e.prototype.parse=function(s){var a,r,o,c,d,h,f,p,x,v,y;for(s.pos=this.offset,s.readShort(),a=s.readShort(),h=s.readShort(),r=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)r.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+h+s.readShort()});for(f={},c=x=0,v=r.length;x<v;c=++x)o=r[c],s.pos=o.offset,p=s.readString(o.length),d=new RF(p,o),f[y=o.nameID]==null&&(f[y]=[]),f[o.nameID].push(d);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),BF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="maxp",e.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},e}(),zF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="hmtx",e.prototype.parse=function(s){var a,r,o,c,d,h,f;for(s.pos=this.offset,this.metrics=[],a=0,h=this.file.hhea.numberOfMetrics;0<=h?a<h:a>h;a=0<=h?++a:--a)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,x;for(x=[],a=p=0;0<=o?p<o:p>o;a=0<=o?++p:--p)x.push(s.readInt16());return x}(),this.widths=(function(){var p,x,v,y;for(y=[],p=0,x=(v=this.metrics).length;p<x;p++)c=v[p],y.push(c.advance);return y}).call(this),r=this.widths[this.widths.length-1],f=[],a=d=0;0<=o?d<o:d>o;a=0<=o?++d:--d)f.push(this.widths.push(r));return f},e.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},e}(),B6=[].slice,IF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(s){var a,r,o,c,d,h,f,p,x,v;return s in this.cache?this.cache[s]:(c=this.file.loca,a=this.file.contents,r=c.indexOf(s),(o=c.lengthOf(s))===0?this.cache[s]=null:(a.pos=this.offset+r,d=(h=new nd(a.read(o))).readShort(),p=h.readShort(),v=h.readShort(),f=h.readShort(),x=h.readShort(),this.cache[s]=d===-1?new UF(h,p,v,f,x):new qF(h,d,p,v,f,x),this.cache[s]))},e.prototype.encode=function(s,a,r){var o,c,d,h,f;for(d=[],c=[],h=0,f=a.length;h<f;h++)o=s[a[h]],c.push(d.length),o&&(d=d.concat(o.encode(r)));return c.push(d.length),{table:d,offsets:c}},e}(),qF=function(){function t(e,s,a,r,o,c){this.raw=e,this.numberOfContours=s,this.xMin=a,this.yMin=r,this.xMax=o,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),UF=function(){function t(e,s,a,r,o){var c,d;for(this.raw=e,this.xMin=s,this.yMin=a,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return t.prototype.encode=function(){var e,s,a;for(s=new nd(B6.call(this.raw.data)),e=0,a=this.glyphIDs.length;e<a;++e)s.pos=this.glyphOffsets[e];return s.data},t}(),VF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ul(e,bo),e.prototype.tag="loca",e.prototype.parse=function(s){var a,r;return s.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var o,c;for(c=[],r=0,o=this.length;r<o;r+=2)c.push(2*s.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],r=0,o=this.length;r<o;r+=4)c.push(s.readUInt32());return c}).call(this)},e.prototype.indexOf=function(s){return this.offsets[s]},e.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},e.prototype.encode=function(s,a){for(var r=new Uint32Array(this.offsets.length),o=0,c=0,d=0;d<r.length;++d)if(r[d]=o,c<a.length&&a[c]==d){++c,r[d]=o;var h=this.offsets[d],f=this.offsets[d+1]-h;f>0&&(o+=f)}for(var p=new Array(4*r.length),x=0;x<r.length;++x)p[4*x+3]=255&r[x],p[4*x+2]=(65280&r[x])>>8,p[4*x+1]=(16711680&r[x])>>16,p[4*x]=(4278190080&r[x])>>24;return p},e}(),HF=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,s,a,r,o;for(s in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)a=o[s],e[s]=r[a];return e},t.prototype.glyphsFor=function(e){var s,a,r,o,c,d,h;for(r={},c=0,d=e.length;c<d;c++)r[o=e[c]]=this.font.glyf.glyphFor(o);for(o in s=[],r)(a=r[o])!=null&&a.compound&&s.push.apply(s,a.glyphIDs);if(s.length>0)for(o in h=this.glyphsFor(s))a=h[o],r[o]=a;return r},t.prototype.encode=function(e,s){var a,r,o,c,d,h,f,p,x,v,y,N,_,k,C;for(r in a=F6.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),y={0:0},C=a.charMap)y[(h=C[r]).old]=h.new;for(N in v=a.maxGlyphID,c)N in y||(y[N]=v++);return p=function(D){var L,$;for(L in $={},D)$[D[L]]=L;return $}(y),x=Object.keys(p).sort(function(D,L){return D-L}),_=function(){var D,L,$;for($=[],D=0,L=x.length;D<L;D++)d=x[D],$.push(p[d]);return $}(),o=this.font.glyf.encode(c,_,y),f=this.font.loca.encode(o.offsets,_),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ts.API.PDFObject=function(){var t;function e(){}return t=function(s,a){return(Array(a+1).join("0")+s).slice(-a)},e.convert=function(s){var a,r,o,c;if(Array.isArray(s))return"["+function(){var d,h,f;for(f=[],d=0,h=s.length;d<h;d++)a=s[d],f.push(e.convert(a));return f}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+t(s.getUTCFullYear(),4)+t(s.getUTCMonth(),2)+t(s.getUTCDate(),2)+t(s.getUTCHours(),2)+t(s.getUTCMinutes(),2)+t(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(r in o=["<<"],s)c=s[r],o.push("/"+r+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+s},e}();const $F=async(t,e,s,a)=>{try{return(await bt.get(`/salaryCal/employees?month=${t}&year=${e}&company_id=${s}&department_id=${a}`)).data}catch(r){throw console.error("Error fetching salary data:",r),r}},YF=async t=>{try{return(await bt.post("/salary/process/allowances",t)).data}catch(e){throw console.error("Error fetching salary data:",e),e}},WF=async t=>{try{return(await bt.post("/salary/process/save",{data:t})).data}catch(e){throw e}},TN=async t=>{try{return(await bt.get(`/salary/update/status?status=${t}`)).data}catch(e){throw console.error("Error updating salary status:",e),e}},GF=async()=>{try{return(await bt.get("/salary/processed")).data}catch(t){throw console.error("Error fetching processed salaries:",t),t}},XF=async t=>{try{return(await bt.post("/salary/process/fetchExcelData",t)).data}catch(e){throw console.error("Error marking payslips as issued:",e),e}},KF=async t=>{const e=t.name.toLowerCase().includes("allowance")?"allowances":t.name.toLowerCase().includes("deduction")?"deductions":"allowances",s=new FormData;return s.append("file",t),s.append("type",e),(await bt.post("/salary/process/importExcelData",s,{headers:{"Content-Type":"multipart/form-data"}})).data},ZF=({isOpen:t,onClose:e,onSuccess:s,onImport:a})=>{const[r,o]=P.useState(null),[c,d]=P.useState(!1),[h,f]=P.useState(""),p=v=>{o(v.target.files[0])},x=async v=>{if(v.preventDefault(),!r){f("Please select a file");return}d(!0),f("");try{await a(r),s("Employee allowances imported successfully"),e()}catch(y){f(y.message||"Failed to upload file")}finally{d(!1)}};return t?n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Import Employee Allowances/Deductions"}),n.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),n.jsxs("form",{onSubmit:x,children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File (ID, Allowance or Deduction ID, Amount (LKR))"}),n.jsx("input",{type:"file",accept:".csv",onChange:p,className:`block w-full text-sm text-gray-500\r
                file:mr-4 file:py-2 file:px-4\r
                file:rounded-md file:border-0\r
                file:text-sm file:font-semibold\r
                file:bg-blue-50 file:text-blue-700\r
                hover:file:bg-blue-100`}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"CSV must include: Employee ID, Allowance or Deduction ID, and Amount columns"})]}),h&&n.jsx("p",{className:"text-red-500 text-sm mb-4",children:h}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg disabled:opacity-50",children:c?"Importing...":"Import"})]})]})]})}):null},JF="processedSalaryData",QF=()=>{const[t,e]=P.useState("All Locations"),[s,a]=P.useState(""),[r,o]=P.useState(new Date().getFullYear().toString()),[c,d]=P.useState("Unprocessed"),[h,f]=P.useState([]),[p,x]=P.useState("All"),[v,y]=P.useState(""),[N,_]=P.useState(""),[k,C]=P.useState(""),[D,L]=P.useState(!1),[$,W]=P.useState([]),[le,ee]=P.useState(!1),[U,oe]=P.useState(!1),[re,O]=P.useState([]),[R,ie]=P.useState([]),[X,se]=P.useState(""),[z,J]=P.useState(""),[Q,xe]=P.useState(!1),[B,me]=P.useState(!1),[M,T]=P.useState([]),[q,Y]=P.useState([]),[I,G]=P.useState(!1),[ce,pe]=P.useState([]),[de,Ne]=P.useState(!1),[be,Te]=P.useState(!1),[Ge,Ee]=P.useState("allowance"),[ue,gt]=P.useState(""),[ut,Ve]=P.useState(""),[Ze,ct]=P.useState(""),[ve,Ye]=P.useState(!1),[ht,pt]=P.useState(""),St=async Fe=>{var ke,Ft;try{const Wt=await KF(Fe);return pt(Wt.message||"Employee allowances imported successfully"),!0}catch(Wt){throw console.error("Error importing Excel:",Wt),((Ft=(ke=Wt.response)==null?void 0:ke.data)==null?void 0:Ft.message)||"Failed to import file"}},rt=Fe=>{pt(Fe),vt()},Dt={processUser:"Admin",lastProcessDate:"2025-05-30"},[fe,nt]=P.useState([]),[Xe,Pt]=P.useState([]),Nt=(Xe||[]).reduce((Fe,ke)=>Fe+(parseFloat(ke==null?void 0:ke.basic_salary)||0),0),ss=Xe.length,Re=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],qe=async()=>{d("Processed"),Dt.lastProcessDate=new Date().toISOString().split("T")[0];try{await TN("processed"),alert("Salary status updated!")}catch(Fe){alert(Fe)}localStorage.setItem(JF,JSON.stringify(fe))},He=async()=>{try{oe(!0);const Fe=await GF();if(!Fe||Fe.length===0){alert("No processed salary data found for the selected period.");return}const ke=new ts,Ft=Re.find(Et=>Et.value===s),Wt=Ft?Ft.label:` ${s}`;Fe.forEach((Et,hs)=>{var ps,bs,Wn,la,bn,je,_t,Ut,ns,ds,gs,Ss,rn,ca,Ma,Bn,Sa,xa,qi,Gs,Dn,Yr,gi,$a,xi,zn,Ar,zs,hr,Wr,Gr,Pa;hs>0&&ke.addPage(),ke.setFontSize(12),ke.setFont("helvetica","bold"),ke.text(`Company: ${Et.company_name}`,105,15,{align:"center"}),ke.text(`Department: ${Et.department_name}`,105,22,{align:"center"}),ke.text("Payslip",105,29,{align:"center"}),ke.text(`${Wt} ${r}`,105,36,{align:"center"}),ke.rect(10,8,190,32);let we=50;ke.setFontSize(10),ke.setFont("helvetica","normal"),ke.text("EPF No :",15,we),ke.text(`${Et.employee_no||"N/A"}`,60,we),we+=6,ke.text("Code :",15,we),ke.text(`${Et.employee_no||"N/A"}`,60,we),we+=6,ke.text("Name :",15,we),ke.text(`${Et.full_name||"N/A"}`,60,we),we+=6,ke.text("Bank :",15,we),ke.text(`${((ps=Et.compensation)==null?void 0:ps.bank_name)||"N/A"}`,60,we),we+=6,ke.text("Branch :",15,we),ke.text(`${((bs=Et.compensation)==null?void 0:bs.branch_name)||"N/A"}`,60,we),we+=6,ke.text("Account No. :",15,we),ke.text(`${((Wn=Et.compensation)==null?void 0:Wn.bank_account_no)||"N/A"}`,60,we),we+=10,ke.setFont("helvetica","bold"),ke.text("Basic Salary",15,we),ke.text(`${((bn=(la=Et.salary_breakdown)==null?void 0:la.basic_salary)==null?void 0:bn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=10,ke.setFont("helvetica","normal"),ke.text("Transactions for EPF",15,we),we+=8,ke.text("Allowances",15,we),we+=6,Et.allowances&&Et.allowances.length>0?Et.allowances.forEach(fr=>{ke.text(`${fr.name}`,15,we),ke.text(`${parseFloat(fr.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,we,{align:"right"}),we+=6}):(ke.text("BRA1 Act",15,we),ke.text(`${((_t=(je=Et.salary_breakdown)==null?void 0:je.br_allowance)==null?void 0:_t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=6),we+=4,ke.text("Nopay Amount",15,we),ke.text(`${((ns=(Ut=Et.salary_breakdown)==null?void 0:Ut.no_pay_deduction)==null?void 0:ns.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=8,ke.setFont("helvetica","bold"),ke.text("Gross for EPF",15,we),ke.text(`${((gs=(ds=Et.salary_breakdown)==null?void 0:ds.epf_etf_base)==null?void 0:gs.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=10,ke.setFont("helvetica","bold"),ke.text("Overtime Details",15,we),we+=8,ke.setFont("helvetica","normal"),ke.text("Morning OT Amount",15,we),ke.text(`${((rn=(Ss=Et.salary_breakdown)==null?void 0:Ss.ot_morning_fees)==null?void 0:rn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=6,ke.text("Evening OT Amount",15,we),ke.text(`${((Ma=(ca=Et.salary_breakdown)==null?void 0:ca.ot_night_fees)==null?void 0:Ma.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=8,ke.text("Nopay Amount ",15,we),ke.text(`${((Sa=(Bn=Et.salary_breakdown)==null?void 0:Bn.no_pay_deduction)==null?void 0:Sa.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=8,ke.setFont("helvetica","bold"),ke.text("Gross Salary",15,we),ke.text(`${((qi=(xa=Et.salary_breakdown)==null?void 0:xa.gross_salary)==null?void 0:qi.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=10,ke.text("Deductions",15,we),we+=8,ke.setFont("helvetica","normal"),ke.text("EPF - Employee - 8.00%",15,we),ke.text(`${((Dn=(Gs=Et.salary_breakdown)==null?void 0:Gs.epf_employee_deduction)==null?void 0:Dn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=6,Et.deductions&&Et.deductions.length>0?Et.deductions.forEach(fr=>{ke.text(`${fr.name}`,15,we),ke.text(`${parseFloat(fr.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,we,{align:"right"}),we+=6}):(ke.text("Salary Advance",15,we),ke.text("0.00",170,we,{align:"right"}),we+=6,ke.text("APIT",15,we),ke.text("0.00",170,we,{align:"right"}),we+=6,ke.text("Stamp Duty",15,we),ke.text("0.00",170,we,{align:"right"}),we+=6),(Yr=Et.salary_breakdown)!=null&&Yr.loan_installment&&(ke.text("Loan",15,we),ke.text(`${Et.salary_breakdown.loan_installment.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,we,{align:"right"}),we+=6),we+=2,ke.setFont("helvetica","bold"),ke.text("Total Deduction",15,we),ke.text(`${(($a=(gi=Et.salary_breakdown)==null?void 0:gi.total_deductions)==null?void 0:$a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=10,ke.setFontSize(12),ke.text("Net Salary Rs.",15,we),ke.text(`${((zn=(xi=Et.salary_breakdown)==null?void 0:xi.net_salary)==null?void 0:zn.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=12,ke.setFontSize(10),ke.setFont("helvetica","italic"),ke.text("Employer Contribution:",15,we),we+=8,ke.setFont("helvetica","normal"),ke.text("EPF - 12.00%",15,we),ke.text(`${((zs=(Ar=Et.salary_breakdown)==null?void 0:Ar.epf_employer_contribution)==null?void 0:zs.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=6,ke.text("ETF - 3.00%",15,we),ke.text(`${((Wr=(hr=Et.salary_breakdown)==null?void 0:hr.etf_employer_contribution)==null?void 0:Wr.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`,170,we,{align:"right"}),we+=6;const mt=(((Gr=Et.salary_breakdown)==null?void 0:Gr.epf_employee_deduction)||0)+(((Pa=Et.salary_breakdown)==null?void 0:Pa.epf_employer_contribution)||0);ke.text("Total EPF",15,we),ke.text(`${mt.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,170,we,{align:"right"}),we+=15,ke.text("LIFEHRMS",15,we);const kt=new Date,is=`${kt.getDate().toString().padStart(2,"0")}/${(kt.getMonth()+1).toString().padStart(2,"0")}/${kt.getFullYear()}`;ke.text(is,170,we,{align:"right"}),ke.rect(10,45,190,we-40)}),ke.save(`payslips_${Wt}_${r}.pdf`);try{await TN("issued"),alert("Salary Issued !")}catch(Et){alert(Et)}}catch(Fe){console.error("Error generating PDF:",Fe),alert("Error generating PDF. Please try again.")}finally{oe(!1)}},Pe=()=>{x("EPF");const Fe=fe.filter(ke=>ke.enable_epf_etf);Pt(Fe)},yt=()=>{x("NonEPF");const Fe=fe.filter(ke=>!ke.enable_epf_etf);Pt(Fe)};P.useEffect(()=>{(async()=>{xe(!0);try{const ke=await cu();O(ke)}catch(ke){console.error("Error loading companies:",ke)}finally{xe(!1)}})()},[]),P.useEffect(()=>{(async()=>{if(X){me(!0);try{const ke=await s2(X);ie(ke)}catch(ke){console.error("Error loading departments:",ke)}finally{me(!1)}}else ie([]),J("")})()},[X]);const vt=async()=>{if(!s||!r||!X)return alert("Please select company, month, and year before applying filters"),null;oe(!0);try{const Fe=await $F(s,r,X,z||"");return nt(Fe.data),Pt(Fe.data),f(Fe.data),Fe.data}catch(Fe){return console.error("Error fetching salary data:",Fe),alert("Error fetching salary data. Please try again."),null}finally{oe(!1)}},Mt=async()=>{const Fe=await vt();if(!Fe)return;let ke=Fe;if(p==="EPF"?ke=ke.filter(Ft=>Ft.enable_epf_etf):p==="NonEPF"&&(ke=ke.filter(Ft=>!Ft.enable_epf_etf)),v){const Ft=v.toLowerCase();ke=ke.filter(Wt=>Wt.emp_no.toString().includes(Ft)||Wt.full_name.toLowerCase().includes(Ft))}Pt(ke),f(ke)},Zt=()=>{x("All"),nt([]),Pt([]),f([]),se(""),J(""),a(""),y(""),_(""),C(""),L(!1),W([]),ee(!1)},Gt=async Fe=>{G(!0);try{const ke=await Vc.getAllowancesByCompanyOrDepartment(Fe,null);T(ke||[])}catch(ke){console.error("Error loading allowances by company:",ke)}finally{G(!1)}};P.useEffect(()=>{(async()=>{G(!0);try{const ke=await Vc.getAllAllowances();T(ke||[]);const Ft=await RO();Y(Ft||[])}catch(ke){console.error("Error loading allowances and deductions:",ke)}finally{G(!1)}})()},[]);const Rt=Fe=>{const ke=Fe.target.value;se(ke),J(""),ke?Gt(ke):loadAllowancesAndDeductions()},jt=Fe=>{if(ct(Fe),Ge==="allowance"){const ke=M.find(Ft=>Ft.id===Fe);if(ke&&ke.amount){const Ft=parseFloat(ke.amount).toFixed(2);gt(Ft)}}else{const ke=q.find(Ft=>Ft.id===Fe);if(ke&&ke.amount){const Ft=parseFloat(ke.amount).toFixed(2);gt(Ft)}}},js=Fe=>{const ke=`${Fe.id}`;ce.includes(ke)?pe(ce.filter(Ft=>Ft!==ke)):pe([...ce,ke])},Os=async()=>{if(!Ze||ce.length===0){alert("Please fill all fields and select at least one employee");return}const Fe={selectedEmployees:ce,bulkActionId:Ze,bulkActionType:Ge};try{const ke=await XF(Fe);console.log(JSON.stringify(ke));const[Ft,Wt,Et]=ke,hs=Ft.map(kt=>{const is={ID:kt.id,NIC:kt.nic,"Full Name":kt.full_name};return Wt&&Wt.length>0&&Wt.forEach(ps=>{is["Allowance ID"]=ps.id,is["Allowance Name"]=ps.allowance_name,is["Amount (LKR)"]=0}),Et&&Et.length>0&&Et.forEach(ps=>{is["Deduction ID"]=ps.id,is["Deduction Name"]=ps.deduction_name,is["Amount (LKR)"]=0}),is}),we=xn(hs),mt=Fe.bulkActionType==="allowance"?"employee_allowances":"employee_deductions";cs(we,`${mt}_${Date.now()}.csv`)}catch(ke){console.error("Error generating Excel data:",ke),alert("Failed to generate Excel file")}};function xn(Fe){if(Fe.length===0)return"";const ke=Object.keys(Fe[0]),Ft=Fe.map(Wt=>ke.map(Et=>{let hs=Wt[Et]!==void 0?String(Wt[Et]):"";return(hs.includes(",")||hs.includes('"')||hs.includes(`
`))&&(hs=`"${hs.replace(/"/g,'""')}"`),hs}).join(","));return[ke.join(","),...Ft].join(`
`)}const jn=()=>{if(de)pe([]);else{const Fe=Xe.map(ke=>`${ke.id}`);pe(Fe)}Ne(!de)},Ot=async()=>{var ke,Ft;if(!Ze||ce.length===0){alert("Please fill all fields and select at least one employee");return}const Fe={selectedEmployees:ce,bulkActionId:Ze,bulkActionType:Ge,bulkActionAmount:ue||null};try{const Wt=await YF(Fe);console.log(JSON.stringify(Wt)),alert(`Successfully applied ${Ge} to ${ce.length} employee(s)`),await vt(),pe([]),Ne(!1),Te(!1),gt(""),Ve("")}catch(Wt){console.log(Wt),alert(`Error - ${((Ft=(ke=Wt.response)==null?void 0:ke.data)==null?void 0:Ft.message)||Wt.message}`)}};P.useEffect(()=>{const Fe=Xe.length>0&&ce.length===Xe.length;Ne(Fe)},[ce,Xe]),P.useEffect(()=>{pe([]),Ne(!1)},[v,t,s,p,D]);function vs(Fe){if(Fe.length===0)return"";const ke=Fe.map(Et=>{const hs={...Et};if(Et.salary_breakdown&&typeof Et.salary_breakdown=="object"){for(const[we,mt]of Object.entries(Et.salary_breakdown))hs[`breakdown_${we}`]=mt;delete hs.salary_breakdown}return hs}),Ft=Object.keys(ke[0]),Wt=ke.map(Et=>Ft.map(hs=>{let we=Et[hs]!==void 0?String(Et[hs]):"";return(we.includes(",")||we.includes('"')||we.includes(`
`))&&(we=`"${we.replace(/"/g,'""')}"`),we}).join(","));return[Ft.join(","),...Wt].join(`
`)}function cs(Fe,ke){const Ft=new Blob([Fe],{type:"text/csv;charset=utf-8;"}),Wt=URL.createObjectURL(Ft),Et=document.createElement("a");Et.setAttribute("href",Wt),Et.setAttribute("download",ke),Et.style.visibility="hidden",document.body.appendChild(Et),Et.click(),document.body.removeChild(Et)}return n.jsxs("div",{className:"container mx-auto px-4 py-8 bg-gradient-to-br from-blue-50 via-white to-green-50 min-h-screen",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Salary Processing"}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsxs("span",{className:`
            px-4 py-1.5 rounded-full text-xs font-semibold shadow-sm border
            ${c==="Processed"?"bg-green-100 text-green-800 border-green-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}
          `,children:[c==="Processed"?n.jsx(po,{className:"inline mr-1 h-4 w-4"}):n.jsx(zr,{className:"inline mr-1 h-4 w-4"}),c]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-blue-50 rounded-2xl border border-blue-200 p-6 shadow-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Salary Cost"}),n.jsxs("p",{className:"text-3xl font-bold text-blue-900",children:["LKR ",Nt.toLocaleString()]})]}),n.jsx("div",{className:"p-4 rounded-xl bg-blue-200 text-blue-700 shadow",children:n.jsx(hk,{size:24,strokeWidth:2})})]})}),n.jsx("div",{className:"bg-gradient-to-br from-green-100 to-green-50 rounded-2xl border border-green-200 p-6 shadow-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Employee Count"}),n.jsx("p",{className:"text-3xl font-bold text-green-900",children:ss})]}),n.jsx("div",{className:"p-4 rounded-xl bg-green-200 text-green-700 shadow",children:n.jsx(Ha,{size:24,strokeWidth:2})})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-5 shadow flex flex-wrap gap-4",children:[n.jsx("button",{className:`
                flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                ${p==="All"?"bg-blue-600 text-white shadow":"bg-white border border-gray-300 text-gray-700 hover:bg-blue-50"}
              `,onClick:Zt,children:"All Employees"}),n.jsxs("button",{className:`
                flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                ${p==="EPF"?"bg-blue-600 text-white shadow":"bg-white border border-gray-300 text-gray-700 hover:bg-blue-50"}
              `,onClick:Pe,children:[n.jsx(Ha,{size:18,strokeWidth:2}),"EPF Employee"]}),n.jsxs("button",{className:`
                flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                ${p==="NonEPF"?"bg-blue-600 text-white shadow":"bg-white border border-gray-300 text-gray-700 hover:bg-blue-50"}
              `,onClick:yt,children:[n.jsx(Ha,{size:18,strokeWidth:2}),"Non EPF Employee"]}),n.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-white border border-gray-300 rounded-lg text-base font-semibold text-gray-700 hover:bg-blue-50 transition-colors shadow",children:[n.jsx(bh,{size:18,strokeWidth:2}),"Export"]})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-700 mb-4",children:"Filter Employees"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx("label",{htmlFor:"search",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Search by ID or Name"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",id:"search",placeholder:"Enter employee ID or name...",value:v,onChange:Fe=>y(Fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm"}),n.jsx(ga,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-5 mb-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("label",{htmlFor:"company",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Company"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),Q?n.jsxs("div",{className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}):n.jsxs("select",{id:"company",value:X,onChange:Rt,className:"appearance-none w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Companies"}),re.map(Fe=>n.jsx("option",{value:Fe.id,children:Fe.name},Fe.id))]}),n.jsx(Zd,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-400"})]})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx("label",{htmlFor:"department",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Department"}),n.jsxs("div",{className:"relative",children:[n.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),B?n.jsxs("div",{className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg flex items-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-2 text-gray-500",children:"Loading..."})]}):n.jsxs("select",{id:"department",value:z,onChange:Fe=>J(Fe.target.value),disabled:!X,className:`appearance-none w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm ${X?"":"bg-gray-100 cursor-not-allowed"}`,children:[n.jsx("option",{value:"",children:"All Departments"}),R.map(Fe=>n.jsx("option",{value:Fe.id,children:Fe.name},Fe.id))]}),n.jsx(Zd,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-400"})]})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx("label",{htmlFor:"month",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Month"}),n.jsxs("select",{id:"month",value:s,onChange:Fe=>a(Fe.target.value),className:"appearance-none w-full pl-3 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"Select Month"}),Re.map(Fe=>n.jsx("option",{value:Fe.value,children:Fe.label},Fe.value))]}),n.jsx(Zd,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-blue-400"})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx("label",{htmlFor:"year",className:"block text-xs font-semibold text-gray-500 mb-1",children:"Year"}),n.jsx("input",{type:"number",id:"year",value:r,onChange:Fe=>o(Fe.target.value),className:"w-full pl-3 pr-3 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",placeholder:"Enter year"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-lg text-base font-semibold hover:bg-blue-700 transition-colors shadow",onClick:Mt,type:"button",children:[n.jsx(_h,{size:18,strokeWidth:2}),"Apply Filters"]}),n.jsx("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-base font-semibold hover:bg-gray-300 transition-colors shadow",onClick:Zt,type:"button",children:"Clear"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-2xl border border-blue-100 p-6 shadow h-fit",children:[n.jsx("h3",{className:"text-base font-semibold text-blue-700 mb-4",children:"Process Status"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Status"}),n.jsxs("div",{className:"flex items-center",children:[c==="Processed"?n.jsx(po,{className:"h-5 w-5 text-green-500 mr-2"}):n.jsx(zr,{className:"h-5 w-5 text-yellow-500 mr-2"}),n.jsx("p",{className:`font-semibold text-lg ${c==="Processed"?"text-green-700":"text-yellow-700"}`,children:c})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Processed By"}),n.jsx("p",{className:"font-semibold text-gray-800",children:Dt.processUser})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"Last Process Date"}),n.jsx("p",{className:"font-semibold text-gray-800",children:Dt.lastProcessDate})]}),n.jsxs("div",{className:"pt-2 space-y-3",children:[n.jsxs("button",{className:`
                  w-full flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                  ${c==="Processed"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700 shadow"}
                `,onClick:async()=>{if(h.length===0){alert("No data to save. Please apply filters first.");return}try{const Fe=await WF(h),ke=vs(h);cs(ke,`salary_data_${Date.now()}.csv`),alert("Salary data saved and downloaded successfully!")}catch(Fe){console.error("Error saving salary data:",Fe),alert(Fe)}},type:"button",disabled:h.length===0,children:[n.jsx(ar,{size:18,strokeWidth:2}),"Save Data"]}),n.jsxs("button",{className:`
                  w-full flex items-center justify-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
                  ${c==="Processed"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700 shadow"}
                `,onClick:qe,disabled:c==="Processed",children:[n.jsx(ar,{size:18,strokeWidth:2}),"Process Salary"]}),n.jsxs("button",{className:`flex items-center gap-2 px-5 py-2.5 rounded-lg text-base font-semibold transition-colors
    ${c!=="Processed"?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700 shadow"}`,onClick:He,disabled:c!=="Processed",children:[n.jsx(bh,{size:18,strokeWidth:2}),"Download All Processed Payslips"]})]})]})]})]}),ce.length>0&&n.jsxs("div",{className:"bg-white rounded-2xl border border-blue-200 p-6 shadow-md mb-8 animate-fadeIn",children:[n.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[n.jsx(Ha,{className:"mr-2",size:20}),"Bulk Actions (",ce.length," employees selected)"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Action Type"}),n.jsxs("select",{value:Ge,onChange:Fe=>{Ee(Fe.target.value),Ve(""),gt("")},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"allowance",children:"Add Allowance"}),n.jsx("option",{value:"deduction",children:"Add Deduction"})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:Ge==="allowance"?"Allowance Type":"Deduction Type"}),n.jsxs("select",{value:Ze,onChange:Fe=>jt(Fe.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select Type"}),Ge==="allowance"?M.map(Fe=>n.jsx("option",{value:Fe.id,children:Fe.allowance_name},Fe.id)):q.map(Fe=>n.jsx("option",{value:Fe.id,children:Fe.deduction_name},Fe.id))]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),n.jsx("input",{type:"number",value:ue,onChange:Fe=>gt(Fe.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter amount"})]}),n.jsxs("div",{className:"flex items-end",children:[n.jsx("button",{className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition duration-200",onClick:Ot,children:"Apply to Selected"}),n.jsx("button",{className:"ms-2 py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition duration-200",onClick:Os,type:"button",children:"Download Excel"}),n.jsx("button",{className:"ms-2 py-2 px-4 bg-green-300 hover:bg-green-400 text-black font-medium rounded-lg transition duration-200",onClick:()=>Ye(!0),type:"button",children:"Import Excel"}),ve&&n.jsx(ZF,{isOpen:ve,onClose:()=>{Ye(!1),pt("")},onSuccess:rt,onImport:St}),ht&&n.jsx("div",{className:"mb-4 p-3 bg-green-100 text-green-700 rounded",children:ht})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{className:"text-gray-600 hover:text-gray-800 font-medium",onClick:()=>{pe([]),Ne(!1)},children:"Clear Selection"})})]}),U&&n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),!U&&Xe.length>0&&n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow mb-8",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-blue-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx("input",{type:"checkbox",checked:de,onChange:jn,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"EMP No"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Company/Dept"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Salary Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"EPF/ETF"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Allowances"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Deductions"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Overtime"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Salary Breakdown"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider",children:"Net Salary"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Xe.map(Fe=>{var hs,we,mt,kt,is,ps,bs,Wn,la,bn,je,_t,Ut,ns,ds,gs;const ke=`${Fe.id}`,Ft=((hs=Fe.allowances)==null?void 0:hs.reduce((Ss,rn)=>Ss+(parseFloat(rn.amount)||0),0))||0,Wt=((we=Fe.deductions)==null?void 0:we.reduce((Ss,rn)=>Ss+(parseFloat(rn.amount)||0),0))||0,Et=((mt=Fe.salary_breakdown)==null?void 0:mt.net_salary)||(parseFloat(Fe.basic_salary)||0)+Ft-Wt;return n.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.jsx("input",{type:"checkbox",checked:ce.includes(ke),onChange:()=>js(Fe),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:Fe.emp_no}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:Fe.full_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Fe.id," | BR: ",Fe.br_status]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:Fe.company_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[Fe.department_name,Fe.sub_department_name&&` (${Fe.sub_department_name})`]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsxs("div",{children:["Basic:"," ",parseFloat(Fe.basic_salary||0).toLocaleString()]}),n.jsx("div",{className:"text-xs text-gray-500",children:Fe.increment_active?n.jsxs(n.Fragment,{children:["Incr: ",Fe.increment_value," (eff."," ",Fe.increment_effected_date,")"]}):"No active increment"}),n.jsxs("div",{className:"text-xs text-gray-500",children:["OT: ",Fe.ot_morning?"Morning":""," ",Fe.ot_evening?"Evening":""]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{children:Fe.enable_epf_etf?"Yes":"No"}),Fe.enable_epf_etf&&n.jsxs("div",{className:"text-xs text-gray-500",children:["EPF:"," ",((is=(kt=Fe.salary_breakdown)==null?void 0:kt.epf_deduction)==null?void 0:is.toLocaleString())||"0"]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"EPF Cut:"}),n.jsx("span",{className:"text-red-600",children:((bs=(ps=Fe.salary_breakdown)==null?void 0:ps.epf_employee_deduction)==null?void 0:bs.toFixed(2))||"0.00"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"EPF:"}),n.jsx("span",{className:"text-yellow-600",children:Fe.salary_breakdown.epf_employer_contribution||"0"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"ETF:"}),n.jsx("span",{className:"text-yellow-600",children:Fe.salary_breakdown.etf_employer_contribution||"0"})]})]}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[(Wn=Fe.allowances)==null?void 0:Wn.map(Ss=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-xs",children:[Ss.name," (",Ss.code,")"]}),n.jsx("span",{className:"font-medium",children:parseFloat(Ss.amount||0).toLocaleString()})]},Ss.id)),n.jsxs("div",{className:"font-semibold border-t mt-1 pt-1",children:["Total: ",Ft.toLocaleString()]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[(la=Fe.deductions)==null?void 0:la.map(Ss=>n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-xs",children:[Ss.name," (",Ss.code,")"]}),n.jsx("span",{className:"font-medium",children:parseFloat(Ss.amount||0).toLocaleString()})]},Ss.id)),n.jsxs("div",{className:"font-semibold border-t mt-1 pt-1",children:["Total: ",Wt.toLocaleString()]})]})}),n.jsx("td",{children:n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"Morning :"}),n.jsx("span",{children:(bn=Fe.salary_breakdown.ot_morning_fees)==null?void 0:bn.toLocaleString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"Night :"}),n.jsx("span",{children:(je=Fe.salary_breakdown.ot_night_fees)==null?void 0:je.toLocaleString()})]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Fe.salary_breakdown&&n.jsxs("div",{className:"flex flex-col space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"Gross:"}),n.jsx("span",{children:(_t=Fe.salary_breakdown.gross_salary)==null?void 0:_t.toLocaleString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"Adj. Basic:"}),n.jsx("span",{children:(Ut=Fe.salary_breakdown.adjusted_basic)==null?void 0:Ut.toLocaleString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"Per Day:"}),n.jsx("span",{children:(ns=Fe.salary_breakdown.per_day_salary)==null?void 0:ns.toLocaleString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"Loan:"}),n.jsx("span",{children:(ds=Fe.salary_breakdown.loan_installment)==null?void 0:ds.toLocaleString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-xs",children:"No Pay Days:"}),n.jsx("span",{children:Fe.salary_breakdown.no_pay_deduction||"0"})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-700",children:[n.jsx("div",{children:Et.toLocaleString()}),Fe.salary_breakdown&&n.jsxs("div",{className:"text-xs font-normal text-gray-500",children:["Deductions:"," ",(gs=Fe.salary_breakdown.total_deductions)==null?void 0:gs.toLocaleString()]})]})]},Fe.id)})})]})})}),!U&&Xe.length===0&&n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 shadow text-center",children:n.jsxs("div",{className:"mx-auto max-w-md",children:[n.jsx(Ha,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No employees found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria"}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:Zt,children:"Reset Filters"})})]})}),Xe.length>0&&n.jsxs("div",{className:"flex items-center justify-between bg-white px-8 py-4 rounded-2xl border border-gray-200 shadow",children:[n.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[n.jsx("button",{className:"relative inline-flex items-center px-5 py-2 border border-gray-300 text-base font-semibold rounded-lg text-gray-700 bg-white hover:bg-blue-50",children:"Previous"}),n.jsx("button",{className:"ml-3 relative inline-flex items-center px-5 py-2 border border-gray-300 text-base font-semibold rounded-lg text-gray-700 bg-white hover:bg-blue-50",children:"Next"})]}),n.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[n.jsx("div",{children:n.jsxs("p",{className:"text-base text-gray-700",children:["Showing ",n.jsx("span",{className:"font-bold",children:"1"})," to"," ",n.jsx("span",{className:"font-bold",children:Math.min(10,ss)})," ","of ",n.jsx("span",{className:"font-bold",children:ss})," results"]})}),n.jsx("div",{children:n.jsxs("nav",{className:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px","aria-label":"Pagination",children:[n.jsxs("button",{className:"relative inline-flex items-center px-3 py-2 rounded-l-lg border border-gray-300 bg-white text-base font-semibold text-gray-500 hover:bg-blue-50",children:[n.jsx("span",{className:"sr-only",children:"Previous"}),""]}),n.jsx("button",{"aria-current":"page",className:"z-10 bg-blue-100 border-blue-500 text-blue-700 relative inline-flex items-center px-5 py-2 border text-base font-bold",children:"1"}),n.jsx("button",{className:"bg-white border-gray-300 text-gray-500 hover:bg-blue-50 relative inline-flex items-center px-5 py-2 border text-base font-semibold",children:"2"}),n.jsx("button",{className:"bg-white border-gray-300 text-gray-500 hover:bg-blue-50 relative inline-flex items-center px-5 py-2 border text-base font-semibold",children:"3"}),n.jsxs("button",{className:"relative inline-flex items-center px-3 py-2 rounded-r-lg border border-gray-300 bg-white text-base font-semibold text-gray-500 hover:bg-blue-50",children:[n.jsx("span",{className:"sr-only",children:"Next"}),""]})]})})]})]})]})},eB=()=>{const[t,e]=P.useState(""),[s,a]=P.useState("Pending"),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState(""),[p,x]=P.useState(""),[v,y]=P.useState(null),[N,_]=P.useState(!1),[k,C]=P.useState(""),[D,L]=P.useState(null),[$,W]=P.useState([]),[le,ee]=P.useState(!1),[U,oe]=P.useState(null);P.useEffect(()=>{re()},[]);const re=async()=>{ee(!0),oe(null);try{const ce=(await c6()).map(pe=>{var de,Ne,be,Te,Ge,Ee,ue,gt,ut;return{id:pe.id,employeeNo:((Ne=(de=pe.employee)==null?void 0:de.attendance_employee_no)==null?void 0:Ne.toString())||((be=pe.employee_id)==null?void 0:be.toString())||"N/A",employeeName:((Te=pe.employee)==null?void 0:Te.full_name)||((Ge=pe.employee)==null?void 0:Ge.name_with_initials)||"Unknown Employee",department:((gt=(ue=(Ee=pe.employee)==null?void 0:Ee.organization_assignment)==null?void 0:ue.department)==null?void 0:gt.name)||"N/A",leaveType:pe.leave_type,startDate:pe.leave_date||pe.leave_from,endDate:pe.leave_date||pe.leave_to,duration:O(pe.leave_date,pe.leave_from,pe.leave_to),reason:pe.reason||"No reason provided",status:pe.status||"Pending",submittedDate:((ut=pe.created_at)==null?void 0:ut.split("T")[0])||new Date().toISOString().split("T")[0],approvedBy:pe.approved_by||"",approvedDate:pe.approved_date||"",rejectedBy:pe.rejected_by||"",rejectedDate:pe.rejected_date||"",rejectionReason:pe.rejection_reason||""}});W(ce)}catch(G){console.error("Failed to fetch leave requests:",G),oe("Failed to load leave requests. Please try again later.")}finally{ee(!1)}},O=(G,ce,pe)=>{if(G)return 1;if(ce&&pe){const de=new Date(ce),Ne=new Date(pe),be=Math.abs(Ne-de);return Math.ceil(be/(1e3*60*60*24))+1}return 1},R=$.filter(G=>G.status==="Pending").length,ie=$.filter(G=>G.status==="Approved").length,X=$.filter(G=>G.status==="HR_Approved").length,se=$.filter(G=>G.status==="Rejected").length,z=$.filter(G=>G.status==="Manager Approved").length,J=async G=>{if(window.confirm("Are you sure you want to approve this leave request?"))try{if(!$.find(de=>de.id===G))return;const pe={status:"HR_Approved",approved_by:"Current HR Manager",approved_date:new Date().toISOString().split("T")[0]};await W0(G,pe),W(de=>de.map(Ne=>Ne.id===G?{...Ne,status:"HR_Approved",approvedBy:"Current HR Manager",approvedDate:new Date().toISOString().split("T")[0]}:Ne)),alert("Leave request has been approved successfully."),re()}catch(ce){console.error("Failed to approve leave request:",ce),alert("Failed to approve leave request. Please try again.")}},Q=G=>{L(G),C(""),_(!0)},xe=async()=>{if(k.trim()&&D)try{const G={status:"Rejected",rejected_by:"Current Manager",rejected_date:new Date().toISOString().split("T")[0],rejection_reason:k};await W0(D,G),W(ce=>ce.map(pe=>pe.id===D?{...pe,status:"Rejected",rejectedBy:"Current Manager",rejectedDate:new Date().toISOString().split("T")[0],rejectionReason:k}:pe)),_(!1),L(null),C(""),re()}catch(G){console.error("Failed to reject leave request:",G),alert("Failed to reject leave request. Please try again.")}},B=$.filter(G=>{const ce=G.employeeNo.toLowerCase().includes(t.toLowerCase())||G.employeeName.toLowerCase().includes(t.toLowerCase())||G.reason.toLowerCase().includes(t.toLowerCase()),pe=s==="All"||G.status===s,de=!r||G.department===r,Ne=!c||G.leaveType===c;let be=!0;return h&&(be=G.startDate>=h),p&&(be=be&&G.endDate<=p),ce&&pe&&de&&Ne&&be}),me=G=>{if(!G)return"N/A";const ce={weekday:"short",year:"numeric",month:"short",day:"numeric"};try{return new Date(G).toLocaleDateString(void 0,ce)}catch{return G||"N/A"}},M=G=>{switch(G){case"Approved":return"bg-green-100 text-green-800";case"HR_Approved":return"bg-blue-100 text-blue-800";case"Manager Approved":return"bg-indigo-100 text-indigo-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},T=G=>{switch(G){case"Approved":return n.jsx(po,{className:"w-4 h-4 text-green-600"});case"HR_Approved":return n.jsx(Va,{className:"w-4 h-4 text-blue-600"});case"Manager Approved":return n.jsx(Va,{className:"w-4 h-4 text-indigo-600"});case"Rejected":return n.jsx(_0,{className:"w-4 h-4 text-red-600"});default:return n.jsx(jr,{className:"w-4 h-4 text-yellow-600"})}},q=()=>{a("Pending"),o(""),d(""),f(""),x(""),e("")},Y=[...new Set($.map(G=>G.department).filter(Boolean))],I=[...new Set($.map(G=>G.leaveType).filter(Boolean))];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:n.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-slate-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Leave Approval"}),n.jsx("p",{className:"text-slate-300 text-center mt-2 text-sm sm:text-base",children:"Review and manage employee leave requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 sm:p-6 lg:p-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:R})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:n.jsx(jr,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:ie})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(Oi,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:se})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:n.jsx(As,{className:"w-6 h-6 text-red-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Manager Approved"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(Va,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"HR Approved"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:X})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(Va,{className:"w-6 h-6 text-blue-600"})})]})})]}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(_h,{className:"h-5 w-5 text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:s,onChange:G=>a(G.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"All",children:"All Statuses"}),n.jsx("option",{value:"Pending",children:"Pending"}),n.jsx("option",{value:"HR_Approved",children:"HR Approved"}),n.jsx("option",{value:"Manager Approved",children:"Manager Approved"}),n.jsx("option",{value:"Approved",children:"Approved"}),n.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsxs("select",{value:r,onChange:G=>o(G.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Departments"}),Y.map(G=>n.jsx("option",{value:G,children:G},G))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leave Type"}),n.jsxs("select",{value:c,onChange:G=>d(G.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Leave Types"}),I.map(G=>n.jsx("option",{value:G,children:G},G))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:h,onChange:G=>f(G.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:p,onChange:G=>x(G.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ga,{className:"absolute left-3 top-3.5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by employee name, number or reason...",value:t,onChange:G=>e(G.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("button",{onClick:q,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{className:"w-4 h-4"}),"Reset Filters"]})]})]})}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:n.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:le?n.jsxs("div",{className:"flex items-center justify-center py-20",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Loading leave requests..."})]}):U?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(zr,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Data"}),n.jsx("p",{className:"text-gray-600",children:U}),n.jsx("button",{onClick:re,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Type"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.length>0?B.map(G=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium",children:G.employeeName.split(" ").map(ce=>ce[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.employeeName}),n.jsx("div",{className:"text-sm text-gray-500",children:G.employeeNo})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:G.department})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:G.leaveType}),n.jsxs("div",{className:"text-xs text-gray-500",children:[me(G.startDate)," -"," ",me(G.endDate)]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[G.duration," day",G.duration!==1?"s":""]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M(G.status)}`,children:[T(G.status),n.jsx("span",{className:"ml-1.5",children:G.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>y(v===G.id?null:G.id),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:n.jsx(Qc,{size:18})}),G.status==="Pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>J(G.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve",children:n.jsx(Oi,{size:18})}),n.jsx("button",{onClick:()=>Q(G.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:n.jsx(As,{size:18})})]})]})})]},G.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(hn,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-1",children:"No leave requests found"}),n.jsx("p",{className:"text-sm",children:"Adjust your filters or try a different search term"})]})})})})]})})})}),v!==null&&n.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Leave Request Details"}),n.jsx("button",{onClick:()=>y(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),$.find(G=>G.id===v)&&n.jsx("div",{className:"p-6",children:(()=>{const G=$.find(ce=>ce.id===v);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium text-xl",children:G.employeeName.split(" ").map(ce=>ce[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:G.employeeName}),n.jsxs("p",{className:"text-gray-500",children:[G.employeeNo,"  ",G.department]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Leave Type"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:G.leaveType})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${M(G.status)}`,children:[T(G.status),n.jsx("span",{className:"ml-1.5",children:G.status})]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Duration"}),n.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[G.duration," day",G.duration!==1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date Range"}),n.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[me(G.startDate)," -"," ",me(G.endDate)]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Reason"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:G.reason})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Submitted On"}),n.jsx("p",{className:"text-gray-900",children:me(G.submittedDate)})]}),G.status==="Approved"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Approved By"}),n.jsx("p",{className:"text-gray-900",children:G.approvedBy})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Approved Date"}),n.jsx("p",{className:"text-gray-900",children:me(G.approvedDate)})]})]}),G.status==="Rejected"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected By"}),n.jsx("p",{className:"text-gray-900",children:G.rejectedBy})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected Date"}),n.jsx("p",{className:"text-gray-900",children:me(G.rejectedDate)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejection Reason"}),n.jsx("p",{className:"text-red-700 bg-red-50 p-4 rounded-lg",children:G.rejectionReason})]})]})]}),G.status==="Pending"&&n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{onClick:()=>{Q(G.id),y(null)},className:"px-5 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:"Reject Request"}),n.jsx("button",{onClick:()=>{J(G.id),y(null)},className:"px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-colors shadow",children:"Approve Request"})]})]})})()})]})}),N&&n.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Leave Request"}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:k,onChange:G=>C(G.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Please provide a reason for rejecting this leave request..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{onClick:xe,disabled:!k.trim(),className:`px-4 py-2 ${k.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"} text-white rounded-lg transition-colors`,children:"Confirm Rejection"})]})]})]})})]})})})},tB=()=>{const[t,e]=P.useState(""),[s,a]=P.useState(""),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState(""),[p,x]=P.useState(null),[v,y]=P.useState(!1),[N,_]=P.useState(""),[k,C]=P.useState(null),[D,L]=P.useState([]),[$,W]=P.useState(!1),[le,ee]=P.useState(null);P.useEffect(()=>{U()},[]);const U=async()=>{W(!0),ee(null);try{const q=(await c6()).map(Y=>{var I,G,ce,pe,de,Ne,be,Te,Ge;return{id:Y.id,employeeNo:((G=(I=Y.employee)==null?void 0:I.attendance_employee_no)==null?void 0:G.toString())||((ce=Y.employee_id)==null?void 0:ce.toString())||"N/A",employeeName:((pe=Y.employee)==null?void 0:pe.full_name)||((de=Y.employee)==null?void 0:de.name_with_initials)||"Unknown Employee",department:((Te=(be=(Ne=Y.employee)==null?void 0:Ne.organization_assignment)==null?void 0:be.department)==null?void 0:Te.name)||"N/A",leaveType:Y.leave_type,startDate:Y.leave_date||Y.leave_from,endDate:Y.leave_date||Y.leave_to,duration:oe(Y.leave_date,Y.leave_from,Y.leave_to),reason:Y.reason||"No reason provided",status:Y.status||"Pending",submittedDate:((Ge=Y.created_at)==null?void 0:Ge.split("T")[0])||new Date().toISOString().split("T")[0],approvedBy:Y.approved_by||"",approvedDate:Y.approved_date||"",rejectedBy:Y.rejected_by||"",rejectedDate:Y.rejected_date||"",rejectionReason:Y.rejection_reason||""}});L(q)}catch(T){console.error("Failed to fetch leave requests:",T),ee("Failed to load leave requests. Please try again later.")}finally{W(!1)}},oe=(T,q,Y)=>{if(T)return 1;if(q&&Y){const I=new Date(q),G=new Date(Y),ce=Math.abs(G-I);return Math.ceil(ce/(1e3*60*60*24))+1}return 1},re=D.filter(T=>T.status==="Manager Approved"||T.status==="HR_Approved").length,O=D.filter(T=>T.status==="Approved").length,R=D.filter(T=>T.status==="Rejected").length,ie=async T=>{if(window.confirm("Are you sure you want to approve this leave request?"))try{if(!D.find(I=>I.id===T))return;const Y={status:"Approved",approved_by:"HR Director",approved_date:new Date().toISOString().split("T")[0]};await W0(T,Y),L(I=>I.map(G=>G.id===T?{...G,status:"Approved",hrApprovedBy:"HR Director",hrApprovedDate:new Date().toISOString().split("T")[0]}:G)),alert("Leave request has been approved successfully."),U()}catch(q){console.error("Failed to approve leave request:",q),alert("Failed to approve leave request. Please try again.")}},X=T=>{C(T),_(""),y(!0)},se=async()=>{if(N.trim()&&k)try{const T={status:"Rejected",rejected_by:"HR Director",rejected_date:new Date().toISOString().split("T")[0],rejection_reason:N};await W0(k,T),L(q=>q.map(Y=>Y.id===k?{...Y,status:"Rejected",rejectedBy:"HR Director",rejectedDate:new Date().toISOString().split("T")[0],rejectionReason:N}:Y)),y(!1),C(null),_(""),U()}catch(T){console.error("Failed to reject leave request:",T),alert("Failed to reject leave request. Please try again.")}},z=D.filter(T=>{const q=T.status==="Manager Approved"||T.status==="HR_Approved"||T.status==="Approved"||T.status==="Rejected",Y=T.employeeNo.toLowerCase().includes(t.toLowerCase())||T.employeeName.toLowerCase().includes(t.toLowerCase())||T.reason.toLowerCase().includes(t.toLowerCase()),I=!s||T.department===s,G=!r||T.leaveType===r;let ce=!0;return c&&(ce=T.startDate>=c),h&&(ce=ce&&T.endDate<=h),q&&Y&&I&&G&&ce}),J=T=>{if(!T)return"N/A";const q={weekday:"short",year:"numeric",month:"short",day:"numeric"};try{return new Date(T).toLocaleDateString(void 0,q)}catch{return T||"N/A"}},Q=T=>{switch(T){case"Approved":return"bg-green-100 text-green-800";case"HR_Approved":return"bg-blue-100 text-blue-800";case"Manager Approved":return"bg-blue-100 text-blue-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},xe=T=>{switch(T){case"Approved":return n.jsx(po,{className:"w-4 h-4 text-green-600"});case"HR_Approved":return n.jsx(Va,{className:"w-4 h-4 text-blue-600"});case"Manager Approved":return n.jsx(Va,{className:"w-4 h-4 text-blue-600"});case"Rejected":return n.jsx(_0,{className:"w-4 h-4 text-red-600"});default:return n.jsx(jr,{className:"w-4 h-4 text-yellow-600"})}},B=()=>{a(""),o(""),d(""),f(""),e("")},me=[...new Set(D.map(T=>T.department).filter(Boolean))],M=[...new Set(D.map(T=>T.leaveType).filter(Boolean))];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:n.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-800 to-indigo-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsxs("div",{className:"flex items-center justify-center mb-2",children:[n.jsx(ig,{className:"h-10 w-10 text-white opacity-80 mr-3"}),n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"HR Leave Approval"})]}),n.jsx("p",{className:"text-purple-200 text-center mt-2 text-sm sm:text-base",children:"Final approval stage for employee leave requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-4 sm:p-6 lg:p-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending HR Approval"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:re})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(Va,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:O})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(Oi,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:R})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:n.jsx(As,{className:"w-6 h-6 text-red-600"})})]})})]}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(_h,{className:"h-5 w-5 text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),n.jsxs("select",{value:s,onChange:T=>a(T.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Departments"}),me.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leave Type"}),n.jsxs("select",{value:r,onChange:T=>o(T.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Leave Types"}),M.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:c,onChange:T=>d(T.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:h,onChange:T=>f(T.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 bg-white shadow-sm"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ga,{className:"absolute left-3 top-3.5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by employee name, number or reason...",value:t,onChange:T=>e(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("button",{onClick:B,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{className:"w-4 h-4"}),"Reset Filters"]})]})]})}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:n.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:$?n.jsxs("div",{className:"flex items-center justify-center py-20",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Loading leave requests..."})]}):le?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(zr,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Data"}),n.jsx("p",{className:"text-gray-600",children:le}),n.jsx("button",{onClick:U,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leave Type"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Manager"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.length>0?z.map(T=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium",children:T.employeeName.split(" ").map(q=>q[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.employeeName}),n.jsx("div",{className:"text-sm text-gray-500",children:T.employeeNo})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:T.department})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:T.leaveType}),n.jsxs("div",{className:"text-xs text-gray-500",children:[J(T.startDate)," -"," ",J(T.endDate)]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.approvedBy?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-sm text-gray-900",children:T.approvedBy}),n.jsx("div",{className:"ml-1.5 bg-blue-100 rounded-full p-0.5",children:n.jsx(Va,{className:"h-3 w-3 text-blue-600"})})]}):n.jsx("span",{className:"text-sm text-gray-500",children:"-"}),T.approvedDate&&n.jsx("div",{className:"text-xs text-gray-500",children:J(T.approvedDate)})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Q(T.status)}`,children:[xe(T.status),n.jsx("span",{className:"ml-1.5",children:T.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>x(p===T.id?null:T.id),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:n.jsx(Qc,{size:18})}),(T.status==="Manager Approved"||T.status==="HR_Approved")&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>ie(T.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve",children:n.jsx(Oi,{size:18})}),n.jsx("button",{onClick:()=>X(T.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:n.jsx(As,{size:18})})]})]})})]},T.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(hn,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-1",children:"No leave requests found"}),n.jsx("p",{className:"text-sm",children:"Adjust your filters or try a different search term"})]})})})})]})})})}),p!==null&&n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Leave Request Details"}),n.jsx("button",{onClick:()=>x(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),D.find(T=>T.id===p)&&n.jsx("div",{className:"p-6",children:(()=>{const T=D.find(q=>q.id===p);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium text-xl",children:T.employeeName.split(" ").map(q=>q[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:T.employeeName}),n.jsxs("p",{className:"text-gray-500",children:[T.employeeNo,"  ",T.department]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Leave Type"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:T.leaveType})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status"}),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Q(T.status)}`,children:[xe(T.status),n.jsx("span",{className:"ml-1.5",children:T.status})]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Duration"}),n.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[T.duration," day",T.duration!==1?"s":""]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Date Range"}),n.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[J(T.startDate)," -"," ",J(T.endDate)]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Reason"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:T.reason})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Manager Approval"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Va,{className:"w-4 h-4 text-blue-600"}),n.jsx("p",{className:"text-gray-900 font-medium",children:T.approvedBy||"Not yet approved"})]}),T.approvedDate&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:J(T.approvedDate)})]}),T.status==="Approved"&&n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"HR Approval"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(po,{className:"w-4 h-4 text-green-600"}),n.jsx("p",{className:"text-gray-900 font-medium",children:T.hrApprovedBy||"HR Director"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:J(T.hrApprovedDate)||J(new Date)})]}),T.status==="Rejected"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected By"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_0,{className:"w-4 h-4 text-red-600"}),n.jsx("p",{className:"text-gray-900 font-medium",children:T.rejectedBy})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:J(T.rejectedDate)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejection Reason"}),n.jsx("p",{className:"text-red-700 bg-red-50 p-4 rounded-lg",children:T.rejectionReason})]})]})]}),(T.status==="Manager Approved"||T.status==="HR_Approved")&&n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx("button",{onClick:()=>{X(T.id),x(null)},className:"px-5 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:"Reject Request"}),n.jsx("button",{onClick:()=>{ie(T.id),x(null)},className:"px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-colors shadow",children:"Approve Request"})]})]})})()})]})}),v&&n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Leave Request"}),n.jsx("button",{onClick:()=>y(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:N,onChange:T=>_(T.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none",placeholder:"Please provide a reason for rejecting this leave request..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{onClick:se,disabled:!N.trim(),className:`px-4 py-2 ${N.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"} text-white rounded-lg transition-colors`,children:"Confirm Rejection"})]})]})]})})]})})})},xh={getAllResignations:async(t={})=>{try{return(await bt.get("/resignations",{params:t})).data}catch(e){throw e.response.data}},createResignation:async t=>{try{if(t.documents&&t.documents.length>0){const a=t.documents.filter(r=>r.size>5242880);if(a.length>0)throw{response:{data:{errors:{documents:[`The following files exceed 5MB limit: ${a.map(o=>o.name).join(", ")}`]}}}}}const e=new FormData;return e.append("employee_id",t.employee_id),e.append("resigning_date",t.resigning_date),e.append("last_working_day",t.last_working_day),e.append("resignation_reason",t.resignation_reason),t.documents&&t.documents.length>0&&t.documents.forEach((a,r)=>{e.append(`documents[${r}]`,a)}),(await bt.post("/resignations",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw e.response&&e.response.data&&e.response.data.message==="This employee already has a pending resignation request"?{response:{data:{errors:{employee_id:["This employee already has a pending resignation request"]}}}}:e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.documents?{response:{data:{errors:{documents:e.response.data.errors.documents}}}}:e.response?e.response.data:e}},getResignationById:async t=>{try{return(await bt.get(`/resignations/${t}`)).data}catch(e){throw e.response.data}},updateResignationStatus:async(t,e)=>{try{return(await bt.put(`/resignations/${t}/status`,e)).data}catch(s){throw s.response.data}},uploadDocuments:async(t,e)=>{try{const s=e.filter(o=>o.size>5242880);if(s.length>0)throw{response:{data:{errors:{documents:[`The following files exceed 5MB limit: ${s.map(c=>c.name).join(", ")}`]}}}};const a=new FormData;return e.forEach((o,c)=>{a.append(`documents[${c}]`,o)}),(await bt.post(`/resignations/${t}/documents`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw s.response&&s.response.data&&s.response.data.errors&&s.response.data.errors.documents?{response:{data:{errors:{documents:s.response.data.errors.documents}}}}:s.response?s.response.data:s}},deleteDocument:async(t,e)=>{try{return await bt.delete(`/resignations/${t}/documents/${e}`),!0}catch(s){throw s.response.data}}},sB=()=>{const[t,e]=P.useState({employee_id:"",employee_name:"",employee_number:"",resigning_date:"",last_working_day:"",resignation_reason:"",documents:[]}),[s,a]=P.useState([]),[r,o]=P.useState([]),[c,d]=P.useState(!1),[h,f]=P.useState(""),[p,x]=P.useState([]),[v,y]=P.useState(!1),[N,_]=P.useState({}),[k,C]=P.useState("");P.useEffect(()=>{(async()=>{try{y(!0);const O=await Wl.fetchEmployees();a(O),o(O);const R=await xh.getAllResignations();x(R.data)}catch(O){console.error("Error fetching data:",O)}finally{y(!1)}})()},[]),P.useEffect(()=>{if(h.trim()==="")o(s);else{const re=s.filter(O=>String(O.attendance_employee_no).toLowerCase().includes(h.toLowerCase())||O.full_name.toLowerCase().includes(h.toLowerCase())||O.id.toString().includes(h));o(re)}},[h,s]);const D=re=>{const{name:O,value:R}=re.target;e({...t,[O]:R}),N[O]&&_({...N,[O]:null})},L=re=>{e({...t,employee_id:re.id,employee_name:re.full_name,employee_number:re.attendance_employee_no}),d(!1),f("")},$=re=>{const O=Array.from(re.target.files),R=5*1024*1024,ie=O.filter(X=>X.size>R);if(ie.length>0){const X=["The following files exceed 5MB limit:",...ie.map(se=>` ${se.name} (${(se.size/1048576).toFixed(2)}MB)`)].join(`
`);_({...N,documents:[X]});return}e({...t,documents:[...t.documents,...O]}),N.documents&&_({...N,documents:null})},W=re=>{const O=[...t.documents];O.splice(re,1),e({...t,documents:O})},le=()=>{var R;const re={};if(t.employee_id||(re.employee_id="Please select an employee"),t.resigning_date||(re.resigning_date="Resignation date is required"),t.last_working_day?new Date(t.last_working_day)<new Date(t.resigning_date)&&(re.last_working_day="Last working day must be on or after resignation date"):re.last_working_day="Last working day is required",t.resignation_reason?t.resignation_reason.length<10&&(re.resignation_reason="Reason must be at least 10 characters long"):re.resignation_reason="Resignation reason is required",((R=t.documents)==null?void 0:R.length)>0){const ie=t.documents.filter(X=>X.size>5242880);ie.length>0&&(re.documents=["The following files exceed 5MB limit:",...ie.map(X=>` ${X.name} (${(X.size/(1024*1024)).toFixed(2)}MB)`)])}return re},ee=async re=>{var R,ie,X,se;re.preventDefault();const O=le();if(Object.keys(O).length>0){_(O);const z=[];Object.values(O).forEach(J=>{Array.isArray(J)?z.push(...J):z.push(J)}),lt.fire({icon:"error",title:"Form Errors",html:z.map(J=>`<div>${J}</div>`).join("")});return}try{y(!0);const z={employee_id:t.employee_id,resigning_date:t.resigning_date,last_working_day:t.last_working_day,resignation_reason:t.resignation_reason,documents:t.documents};await xh.createResignation(z),e({employee_id:"",employee_name:"",employee_number:"",resigning_date:"",last_working_day:"",resignation_reason:"",documents:[]}),_({}),C("Resignation submitted successfully!");const J=await xh.getAllResignations();x(J.data),lt.fire({icon:"success",title:"Success!",text:"Resignation submitted successfully!",timer:2e3})}catch(z){console.error("Error submitting resignation:",z);let J="An error occurred while submitting the resignation";((ie=(R=z.response)==null?void 0:R.data)==null?void 0:ie.message)==="This employee already has a pending resignation request"?J="This employee already has a pending resignation request":(se=(X=z.response)==null?void 0:X.data)!=null&&se.errors&&(J=Object.values(z.response.data.errors).flat().join(`
`)),lt.fire({icon:"error",title:"Error",text:J})}finally{y(!1)}},U=re=>{if(!re)return"N/A";const O={year:"numeric",month:"short",day:"numeric"};return new Date(re).toLocaleDateString(void 0,O)},oe=re=>{switch(re){case"pending":return"bg-orange-100 text-orange-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return n.jsx("div",{className:"space-y-8",children:v&&s.length===0&&p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-24",children:[n.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),n.jsx("div",{className:"text-lg text-blue-600 font-semibold",children:"Loading data..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[n.jsx(ar,{className:"text-blue-500",size:20}),"Manage Resignation Details"]})}),n.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[n.jsx(vr,{className:"text-blue-500",size:18}),"Search Employee"]}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:h,onChange:re=>{f(re.target.value),d(!0)},onFocus:()=>d(!0),placeholder:"Search by ID, name or employee number...",className:`w-full pl-10 pr-8 py-2 border ${N.employee_id?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,disabled:v}),n.jsx(ga,{className:"absolute left-3 top-2.5 text-gray-400",size:18})]}),c&&n.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none max-h-60 overflow-auto",children:r.length===0?n.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No employees found"}):r.map(re=>n.jsx("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer flex justify-between items-center",onClick:()=>L(re),children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:re.full_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",re.id," |"," ",re.attendance_employee_no," |"," ",re.department]})]})},re.id))}),N.employee_id&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.employee_id})]}),t.employee_id&&n.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-800",children:t.employee_name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Employee No: ",t.employee_number]})]}),n.jsx("button",{type:"button",onClick:()=>{e(re=>({...re,employee_id:"",employee_name:"",employee_number:""})),f("")},className:"text-red-500 hover:text-red-700",children:n.jsx(As,{size:18})})]})})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-medium text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(hn,{className:"text-blue-500",size:18}),"Resignation Submission Date"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"resigning_date",value:t.resigning_date,onChange:D,className:`w-full md:w-1/2 pl-10 pr-3 py-2 border ${N.resigning_date?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,disabled:v}),n.jsx(hn,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),N.resigning_date&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.resigning_date})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("h3",{className:"font-medium text-gray-700 mb-2 flex items-center gap-2",children:[n.jsx(hn,{className:"text-blue-500",size:18}),"Last Working Day"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"date",name:"last_working_day",value:t.last_working_day,onChange:D,className:`w-full md:w-1/2 pl-10 pr-3 py-2 border ${N.last_working_day?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white`,disabled:v}),n.jsx(hn,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),N.last_working_day&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.last_working_day})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[n.jsx(ar,{className:"text-blue-500",size:18}),"Resignation Reason"]}),n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{name:"resignation_reason",value:t.resignation_reason,onChange:D,rows:"4",placeholder:"Please provide the reason for resignation",className:`w-full pl-10 pr-3 py-2 border ${N.resignation_reason?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white resize-none`,disabled:v}),n.jsx(ar,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),N.resignation_reason&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.resignation_reason})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("label",{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[n.jsx(ed,{className:"text-blue-500",size:18}),"Upload Documents (Max 5MB each)"]}),n.jsxs("label",{className:"flex flex-col items-center justify-center w-full p-6 border-2 border-dashed rounded-lg cursor-pointer bg-white hover:bg-gray-50 transition-colors mb-4",style:{borderColor:N.documents?"#ef4444":"#d1d5db"},children:[n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(ed,{className:"w-10 h-10 mb-3 text-gray-400"}),n.jsxs("p",{className:"mb-1 text-sm text-gray-500",children:[n.jsx("span",{className:"font-semibold text-blue-500",children:"Click to upload"})," ","or drag and drop"]}),n.jsx("p",{className:"text-xs text-gray-400",children:"PDF, DOC, DOCX, JPG, PNG (MAX. 5MB each)"})]}),n.jsx("input",{type:"file",name:"documents",onChange:$,className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",multiple:!0,disabled:v})]}),t.documents.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h4",{className:"font-medium text-gray-700",children:["Uploaded Documents (",t.documents.length,")"]}),t.documents.map((re,O)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-green-100 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-full",children:n.jsx(ar,{className:"text-green-500",size:16})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-800 text-sm",children:re.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(re.size/(1024*1024)).toFixed(2)," MB"]})]})]}),n.jsx("button",{type:"button",onClick:()=>W(O),className:"p-1 text-red-500 hover:bg-red-50 rounded-full transition-colors",title:"Remove",disabled:v,children:n.jsx(As,{size:16})})]},O))]}),N.documents&&n.jsx("div",{className:"mt-2 p-2 bg-red-50 text-red-600 rounded text-sm",children:N.documents.map((re,O)=>n.jsx("p",{children:re},O))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-md flex items-center gap-2 disabled:opacity-50",disabled:v,children:v?"Submitting...":n.jsxs(n.Fragment,{children:[k?n.jsx(Oi,{size:18}):null,k?"Submitted":"Submit Resignation"]})})})]}),k&&n.jsxs("div",{className:"mt-6 p-4 bg-green-50 text-green-700 rounded-lg flex items-center gap-2",children:[n.jsx(po,{className:"text-green-500",size:20}),k]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[n.jsx(ar,{className:"text-blue-500",size:20}),"Resignation Records"]}),v&&p.length===0?n.jsx("div",{className:"text-center py-8",children:"Loading resignations..."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee No"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resignation Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Working Day"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(re=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(()=>{const O=s.find(R=>R.id===re.employee_id);return O?O.full_name:"N/A"})()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const O=s.find(R=>R.id===re.employee_id);return O?O.attendance_employee_no:"N/A"})()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U(re.resigning_date)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U(re.last_working_day)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate",children:re.resignation_reason}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${oe(re.status)}`,children:re.status})})]},re.id))})]})})]})]})})},nB=()=>{const[t,e]=P.useState(""),[s,a]=P.useState("All"),[r,o]=P.useState(""),[c,d]=P.useState(""),[h,f]=P.useState(null),[p,x]=P.useState(!0),[v,y]=P.useState(null),[N,_]=P.useState(!1),[k,C]=P.useState(""),[D,L]=P.useState(null),[$,W]=P.useState(!1),[le,ee]=P.useState(null),[U,oe]=P.useState(""),[re,O]=P.useState(""),[R,ie]=P.useState([]);P.useEffect(()=>{X()},[]);const X=async()=>{try{x(!0),y(null);const Ne=(await xh.getAllResignations()).data.map(be=>{var Te,Ge,Ee,ue,gt,ut,Ve,Ze,ct,ve,Ye,ht,pt,St,rt;return{id:be.id,employeeNo:((Ge=(Te=be.employee)==null?void 0:Te.attendance_employee_no)==null?void 0:Ge.toString())||"N/A",employeeName:((Ee=be.employee)==null?void 0:Ee.full_name)||((ue=be.employee)==null?void 0:ue.name_with_initials)||"Unknown Employee",department:((Ve=(ut=(gt=be.employee)==null?void 0:gt.organization_assignment)==null?void 0:ut.department)==null?void 0:Ve.name)||"N/A",position:((ve=(ct=(Ze=be.employee)==null?void 0:Ze.organization_assignment)==null?void 0:ct.designation)==null?void 0:ve.name)||"N/A",submittedDate:((Ye=be.created_at)==null?void 0:Ye.split("T")[0])||new Date().toISOString().split("T")[0],requestedDate:be.resigning_date,reason:be.resignation_reason||"No reason provided",status:be.status,approvedBy:be.processed_by_name||"",approvedDate:((ht=be.processed_at)==null?void 0:ht.split("T")[0])||"",rejectedBy:be.processed_by_name||"",rejectedDate:((pt=be.processed_at)==null?void 0:pt.split("T")[0])||"",rejectionReason:be.notes||"",yearsOfService:se((rt=(St=be.employee)==null?void 0:St.organization_assignment)==null?void 0:rt.date_of_joining),terminationDate:be.last_working_day||""}});ie(Ne),x(!1)}catch(de){console.error("Failed to fetch resignation requests:",de),y("Failed to load resignation requests. Please try again later."),x(!1)}},se=de=>{if(!de)return 0;const Ne=new Date(de),Te=(new Date-Ne)/(365*24*60*60*1e3);return parseFloat(Te.toFixed(1))},z=R.filter(de=>{const Ne=de.employeeNo.toLowerCase().includes(t.toLowerCase())||de.employeeName.toLowerCase().includes(t.toLowerCase())||de.reason.toLowerCase().includes(t.toLowerCase())||de.department.toLowerCase().includes(t.toLowerCase()),be=s==="All"||de.status===s;let Te=!0;return r&&(Te=de.requestedDate>=r),c&&(Te=Te&&de.requestedDate<=c),Ne&&be&&Te}),J=R.filter(de=>de.status==="pending").length,Q=R.filter(de=>de.status==="approved").length,xe=R.filter(de=>de.status==="rejected").length,B=R.length,me=de=>{f(de)},M=de=>{ee(de);const Ne=R.find(be=>be.id===de);oe(Ne.terminationDate||Ne.requestedDate),O(""),W(!0)},T=async()=>{if(U)try{await xh.updateResignationStatus(le,{status:"approved",notes:re}),ie(de=>de.map(Ne=>Ne.id===le?{...Ne,status:"approved",approvedBy:"HR Director",approvedDate:new Date().toISOString().split("T")[0],terminationDate:U,exitNotes:re}:Ne)),lt.fire({icon:"success",title:"Resignation Approved",text:"The resignation request has been approved and the employee will be terminated on the specified date.",confirmButtonColor:"#3085d6"}),W(!1),ee(null),oe(""),O(""),X()}catch(de){console.error("Error approving resignation:",de),lt.fire({icon:"error",title:"Error",text:de.message,confirmButtonColor:"#3085d6"})}},q=de=>{L(de),C(""),_(!0)},Y=async()=>{if(k.trim())try{await xh.updateResignationStatus(D,{status:"rejected",notes:k}),ie(de=>de.map(Ne=>Ne.id===D?{...Ne,status:"rejected",rejectedBy:"HR Director",rejectedDate:new Date().toISOString().split("T")[0],rejectionReason:k}:Ne)),lt.fire({icon:"success",title:"Resignation Rejected",text:"The resignation request has been rejected with provided reason.",confirmButtonColor:"#3085d6"}),_(!1),L(null),C(""),X()}catch(de){console.error("Error rejecting resignation:",de),lt.fire({icon:"error",title:"Error",text:"There was an error rejecting the resignation. Please try again.",confirmButtonColor:"#3085d6"})}},I=de=>{if(!de)return"N/A";const Ne={year:"numeric",month:"short",day:"numeric"};try{return new Date(de).toLocaleDateString(void 0,Ne)}catch{return de||"N/A"}},G=de=>{switch(de){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},ce=de=>{switch(de){case"approved":return n.jsx(po,{className:"w-4 h-4 text-green-600"});case"rejected":return n.jsx(_0,{className:"w-4 h-4 text-red-600"});default:return n.jsx(jr,{className:"w-4 h-4 text-yellow-600"})}},pe=()=>{a("All"),o(""),d(""),e("")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:n.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-red-800 to-gray-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Employee Termination"}),n.jsx("p",{className:"text-gray-300 text-center mt-2 text-sm sm:text-base",children:"Review and process employee resignation requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4 sm:p-6 lg:p-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Resignations"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:B})]}),n.jsx("div",{className:"p-3 bg-gray-100 rounded-xl",children:n.jsx(ar,{className:"w-6 h-6 text-gray-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:J})]}),n.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:n.jsx(jr,{className:"w-6 h-6 text-yellow-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:Q})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(Oi,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:xe})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:n.jsx(As,{className:"w-6 h-6 text-red-600"})})]})})]}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(_h,{className:"h-5 w-5 text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Requests"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:s,onChange:de=>a(de.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"All",children:"All Statuses"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),n.jsx("input",{type:"date",value:r,onChange:de=>o(de.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all duration-200 bg-white shadow-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),n.jsx("input",{type:"date",value:c,onChange:de=>d(de.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:border-red-500 focus:ring-2 focus:ring-red-200 transition-all duration-200 bg-white shadow-sm"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ga,{className:"absolute left-3 top-3.5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by employee name, number, department or reason...",value:t,onChange:de=>e(de.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("button",{onClick:pe,className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:[n.jsx(As,{className:"w-4 h-4"}),"Reset Filters"]})]})]})}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:n.jsx("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:p?n.jsxs("div",{className:"flex items-center justify-center py-20",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"}),n.jsx("p",{className:"ml-3 text-gray-600",children:"Loading resignation requests..."})]}):v?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(u5,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Data"}),n.jsx("p",{className:"text-gray-600",children:v}),n.jsx("button",{onClick:X,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Resignation Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Years of Service"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.length>0?z.map(de=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 font-medium",children:de.employeeName.split(" ").map(Ne=>Ne[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.employeeName}),n.jsx("div",{className:"text-sm text-gray-500",children:de.employeeNo})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:de.department}),n.jsx("div",{className:"text-xs text-gray-500",children:de.position})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:I(de.requestedDate)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Submitted: ",I(de.submittedDate)]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-900",children:[de.yearsOfService," years"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${G(de.status)}`,children:[ce(de.status),n.jsx("span",{className:"ml-1.5",children:de.status})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm",children:n.jsxs("div",{className:"flex justify-center space-x-2",children:[n.jsx("button",{onClick:()=>me(de.id),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:n.jsx(Qc,{size:18})}),de.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>M(de.id),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Approve & Terminate",children:n.jsx(Oi,{size:18})}),n.jsx("button",{onClick:()=>q(de.id),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Reject",children:n.jsx(As,{size:18})})]})]})})]},de.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-gray-500",children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx(gC,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("p",{className:"text-lg font-medium mb-1",children:"No resignation requests found"}),n.jsx("p",{className:"text-sm",children:"Adjust your filters or try a different search term"})]})})})})]})})})}),h!==null&&n.jsx("div",{className:"fixed inset-0  bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Resignation Request Details"}),n.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),R.find(de=>de.id===h)&&n.jsx("div",{className:"p-6",children:(()=>{const de=R.find(Ne=>Ne.id===h);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-16 w-16 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-red-600 font-medium text-xl",children:de.employeeName.split(" ").map(Ne=>Ne[0]).join("")})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:de.employeeName}),n.jsxs("p",{className:"text-gray-500",children:[de.employeeNo,"  ",de.department]})]})]}),n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${G(de.status)}`,children:[ce(de.status),n.jsx("span",{className:"ml-1.5",children:de.status})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Position"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:de.position})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Years of Service"}),n.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[de.yearsOfService," years"]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Resignation Date"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:I(de.requestedDate)})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Submitted Date"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:I(de.submittedDate)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Resignation Reason"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:de.reason})]}),de.status==="approved"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Approved By"}),n.jsx("p",{className:"text-gray-900",children:de.approvedBy}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I(de.approvedDate)})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Termination Date"}),n.jsx("p",{className:"text-gray-900",children:I(de.terminationDate)})]}),de.exitNotes&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Exit Notes"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-4 rounded-lg",children:de.exitNotes})]})]}),de.status==="rejected"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejected By"}),n.jsx("p",{className:"text-gray-900",children:de.rejectedBy}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:I(de.rejectedDate)})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Rejection Reason"}),n.jsx("p",{className:"text-red-700 bg-red-50 p-4 rounded-lg",children:de.rejectionReason})]})]})]}),de.status==="pending"&&n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsxs("button",{onClick:()=>{q(de.id),f(null)},className:"px-5 py-2 bg-white border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors flex items-center gap-2",children:[n.jsx(As,{size:16}),"Reject Request"]}),n.jsxs("button",{onClick:()=>{M(de.id),f(null)},className:"px-5 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-colors shadow flex items-center gap-2",children:[n.jsx(Oi,{size:16}),"Approve & Terminate"]})]})]})})()})]})}),$&&n.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(u5,{className:"w-6 h-6 text-amber-500 mr-3"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Approve Resignation & Terminate"})]}),n.jsx("button",{onClick:()=>W(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6",children:[R.find(de=>de.id===le)&&n.jsxs("div",{className:"mb-4 flex items-center bg-amber-50 p-4 rounded-lg border border-amber-200",children:[n.jsx(lk,{className:"flex-shrink-0 h-5 w-5 text-amber-500 mr-2"}),n.jsxs("p",{className:"text-amber-800 text-sm",children:["You are about to approve the resignation of"," ",n.jsx("span",{className:"font-semibold",children:R.find(de=>de.id===le).employeeName}),". This will initiate the termination process."]})]}),n.jsxs("div",{className:"space-y-4 mt-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Termination Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:U,onChange:de=>oe(de.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Exit Notes"}),n.jsx("textarea",{value:re,onChange:de=>O(de.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:"Add exit interview details, return of company property, final payment instructions, etc."})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:[n.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:T,disabled:!U,className:`px-4 py-2 ${U?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-green-300 cursor-not-allowed"} text-white rounded-lg transition-colors flex items-center gap-2`,children:[n.jsx(Oi,{className:"w-4 h-4"}),"Confirm Termination"]})]})]})}),N&&n.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Resignation Request"}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Rejection"," ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:k,onChange:de=>C(de.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none",placeholder:"Please provide a reason for rejecting this resignation request..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Y,disabled:!k.trim(),className:`px-4 py-2 ${k.trim()?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"} text-white rounded-lg transition-colors`,children:"Confirm Rejection"})]})]})]})})]})})})},aB=()=>{const[t,e]=P.useState([]),[s,a]=P.useState(!0),[r,o]=P.useState(null),[c,d]=P.useState(""),[h,f]=P.useState("all"),[p,x]=P.useState([]),[v,y]=P.useState(null),N=ee=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2,maximumFractionDigits:2}).format(ee),_=ee=>ee?new Date(ee).toLocaleDateString("en-LK",{year:"numeric",month:"short",day:"numeric"}):"N/A";P.useEffect(()=>{(async()=>{a(!0);try{const U=await tR();e(U),x(U)}catch(U){o("Failed to load loan data. Please try again later."),console.error("Error loading loans:",U)}finally{a(!1)}})()},[]),P.useEffect(()=>{if(c.trim()===""){x(t);return}const ee=t.filter(U=>{const oe=c.toLowerCase();return h==="all"?U.loan_id.toLowerCase().includes(oe)||U.employee_id.toString().toLowerCase().includes(oe):h==="loan_id"?U.loan_id.toLowerCase().includes(oe):h==="employee_id"?U.employee_id.toString().toLowerCase().includes(oe):!0});x(ee)},[c,h,t]);const k=ee=>{y(ee)},C=()=>{if(p.length===0)return;const ee=["Loan ID","Employee ID","Amount","Interest Rate","Installment","Start Date","With Interest"],U=p.map(ie=>[ie.loan_id,ie.employee_id,ie.loan_amount,ie.interest_rate_per_annum+"%",ie.installment_amount,ie.start_from,ie.with_interest?"Yes":"No"]),oe=[ee,...U].map(ie=>ie.join(",")).join(`
`),re=new Blob([oe],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(re),R=document.createElement("a");R.href=O,R.setAttribute("download",`loans_export_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(R),R.click(),document.body.removeChild(R)},D=()=>{d(""),f("all")},L=p.length,$=p.reduce((ee,U)=>ee+parseFloat(U.loan_amount||0),0),W=p.filter(ee=>ee.with_interest).length,le=p.filter(ee=>!ee.with_interest).length;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 py-4 sm:py-8",children:[n.jsx("div",{className:"container mx-auto px-3 sm:px-4 max-w-7xl",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl border border-gray-200/50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-4 sm:px-8 py-6 sm:py-8",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white text-center",children:"Employee Loans Management"}),n.jsx("p",{className:"text-blue-200 text-center mt-2 text-sm sm:text-base",children:"View and manage employee loan information"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 p-4 sm:p-6 lg:p-8",children:[n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Loans"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:L})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:N($)})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:n.jsx(wa,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"With Interest"}),n.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:W})]}),n.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:n.jsx(IC,{className:"w-6 h-6 text-indigo-600"})})]})}),n.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"No Interest"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:le})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:n.jsx(sg,{className:"w-6 h-6 text-green-600"})})]})})]}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-6",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(_h,{className:"h-5 w-5 text-gray-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Loans"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"relative flex-1 md:col-span-2",children:[n.jsx(ga,{className:"absolute left-3 top-3.5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by loan ID, employee ID...",value:c,onChange:ee=>d(ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[n.jsxs("select",{value:h,onChange:ee=>f(ee.target.value),className:"w-full md:w-auto p-3 border border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 bg-white shadow-sm",children:[n.jsx("option",{value:"all",children:"All Fields"}),n.jsx("option",{value:"loan_id",children:"Loan ID"}),n.jsx("option",{value:"employee_id",children:"Employee ID"})]}),n.jsx("button",{onClick:D,className:"w-full md:w-auto px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors flex items-center justify-center gap-2",children:"Reset Filters"}),n.jsxs("button",{onClick:C,className:"w-full md:w-auto flex items-center justify-center gap-2 px-5 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors shadow",disabled:p.length===0,children:[n.jsx(bh,{size:16,strokeWidth:2}),"Export CSV"]})]})]})]})}),n.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-8",children:n.jsxs("div",{className:"bg-white rounded-xl shadow border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-6 py-4",children:n.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[n.jsx(ar,{className:"w-5 h-5 mr-2"}),"Loan Records"]})}),n.jsx("div",{className:"overflow-x-auto",children:s?n.jsxs("div",{className:"flex justify-center items-center py-20",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),n.jsx("p",{className:"ml-3 text-lg text-gray-600",children:"Loading loans..."})]}):r?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:n.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:r})]}):p.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100",children:n.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2h-2a2 2 0 01-2-2v-6a2 2 0 012-2h2v6z"})})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No loans found"}),n.jsx("p",{className:"mt-2 text-gray-500",children:c?"Try adjusting your search filters":"There are no loans in the system yet"})]}):n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-50",children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan ID"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loan Amount"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interest Rate"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Installment"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(ee=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium",children:ee.loan_id.slice(-2)})}),n.jsx("div",{className:"ml-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.loan_id})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:ee.employee_id})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-mono",children:n.jsx("div",{className:"text-sm text-gray-900",children:N(ee.loan_amount)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsxs("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${parseFloat(ee.interest_rate_per_annum)>0?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"}`,children:[ee.interest_rate_per_annum,"%"]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsx("div",{className:"text-sm font-mono font-bold text-green-600",children:N(ee.installment_amount)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(hn,{className:"h-4 w-4 text-gray-400 mr-2"}),n.jsx("div",{className:"text-sm text-gray-900",children:_(ee.start_from)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n.jsx("button",{onClick:()=>k(ee),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:n.jsx(Qc,{size:18})})})]},ee.id))})]})})]})})]})}),v&&n.jsx("div",{className:"fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Loan Details"}),n.jsx("button",{onClick:()=>y(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(wa,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900",children:v.loan_id}),n.jsxs("p",{className:"text-gray-500",children:["Employee ID: ",v.employee_id]})]})]}),n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${v.with_interest?"bg-indigo-100 text-indigo-800":"bg-green-100 text-green-800"}`,children:v.with_interest?"With Interest":"No Interest"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Loan Amount"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 font-mono",children:N(v.loan_amount)})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Interest Rate"}),n.jsxs("p",{className:"text-lg font-medium text-gray-900",children:[v.interest_rate_per_annum,"%"]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Installment Amount"}),n.jsx("p",{className:"text-lg font-medium text-green-600 font-mono",children:N(v.installment_amount)})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Start Date"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:_(v.start_from)})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"text-sm font-medium text-gray-500 mb-1",children:"Created At"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:_(v.created_at)})]})]})]}),n.jsx("div",{className:"flex justify-end p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl",children:n.jsx("button",{onClick:()=>y(null),className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow",children:"Close"})})]})})]})},rB=async()=>{try{return(await bt.get("/salary")).data}catch(t){throw console.error("Error fetching salary data:",t),t}},iB=async(t,e)=>{try{return(await bt.put(`/salary/${t}`,e)).data}catch(s){throw console.error("Error fetching salary data:",s),s}},oB=async t=>{try{return(await bt.delete(`/salary/${t}`)).data}catch(e){throw console.error("Error fetching salary data:",e),e}},lB=async()=>{try{return(await bt.get("/salary/process/csv",{responseType:"blob"})).data}catch(t){throw console.error("Error fetching salary data:",t),t}},MN=({isOpen:t,onClose:e,children:s})=>{if(!t)return null;const a=o=>{o.target===o.currentTarget&&e()},r=o=>{o.key==="Escape"&&e()};return P.useEffect(()=>(t&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}),[t]),n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:a,children:[n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-all duration-300 ease-out","aria-hidden":"true"}),n.jsx("div",{className:"relative w-full max-w-2xl transform transition-all duration-300 ease-out scale-100 opacity-100",style:{animation:t?"modalEnter 0.3s ease-out":"modalExit 0.2s ease-in"},children:n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl ring-1 ring-black/5 overflow-hidden",children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors duration-200 group","aria-label":"Close modal",children:n.jsx("svg",{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("div",{className:"relative",children:s})]})}),n.jsx("style",{jsx:!0,children:`
        @keyframes modalEnter {
          from {
            opacity: 0;
            transform: scale(0.95) translateY(-10px);
          }
          to {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
        }

        @keyframes modalExit {
          from {
            opacity: 1;
            transform: scale(1) translateY(0);
          }
          to {
            opacity: 0;
            transform: scale(0.95) translateY(-10px);
          }
        }
      `})]})},cB=()=>{const[t,e]=P.useState([]),[s,a]=P.useState([]),[r,o]=P.useState(""),[c,d]=P.useState(!1),[h,f]=P.useState(!1),[p,x]=P.useState(!1),[v,y]=P.useState(null),[N,_]=P.useState({basic_salary:"",increment_active:!1,increment_value:"",increment_effected_date:"",ot_morning:!1,ot_evening:!1,enable_epf_etf:!1,br1:!1,br2:!1,total_loan_amount:"",installment_count:"",installment_amount:"",approved_no_pay_days:0,status:"pending",month:"",year:""}),k=async()=>{d(!0);try{const X=await rB();e(X),a(X)}catch(X){console.error("Error fetching salary data:",X)}finally{d(!1)}},C=async(X,se)=>{try{await iB(X,se),k(),f(!1)}catch(z){console.error("Error updating salary record:",z),alert("Failed to update record")}},D=async X=>{try{await oB(X),k(),x(!1)}catch(se){console.error("Error deleting salary record:",se),alert("Failed to delete record")}},L=X=>{const{name:se,value:z,type:J,checked:Q}=X.target;_({...N,[se]:J==="checkbox"?Q:z})},$=X=>{var se;y(X),_({basic_salary:X.basic_salary,increment_active:X.increment_active,increment_value:X.increment_value||"",increment_effected_date:((se=X.increment_effected_date)==null?void 0:se.split("T")[0])||"",ot_morning:X.ot_morning,ot_evening:X.ot_evening,enable_epf_etf:X.enable_epf_etf,br1:X.br1,br2:X.br2,total_loan_amount:X.total_loan_amount,installment_count:X.installment_count||"",installment_amount:X.installment_amount||"",approved_no_pay_days:X.approved_no_pay_days,status:X.status,month:X.month,year:X.year}),f(!0)},W=X=>{X.preventDefault(),C(v.id,N)};P.useEffect(()=>{if(r==="")a(t);else{const X=t.filter(se=>se.company_name===r);a(X)}},[r,t]),P.useEffect(()=>{k()},[]);const le=[...new Set(t.map(X=>X.company_name))].sort(),[ee,U]=P.useState(""),[oe,re]=P.useState({key:null,direction:"asc"}),[O,R]=P.useState(null),ie=async()=>{try{const se=await await lB(),z=window.URL.createObjectURL(se),J=document.createElement("a");J.href=z,J.download="salary_records.csv",document.body.appendChild(J),J.click(),document.body.removeChild(J)}catch(X){console.error("Download failed:",X),alert("Failed to download CSV")}};return n.jsxs("div",{className:"container mx-auto px-4 py-8 min-h-screen bg-gray-50",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Salary Records"})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Company"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsxs("select",{value:r,onChange:X=>o(X.target.value),className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm",children:[n.jsx("option",{value:"",children:"All Companies"}),le.map(X=>n.jsx("option",{value:X,children:X},X))]}),n.jsx(Zd,{className:"pointer-events-none absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center",children:[n.jsx(o0,{size:18,className:"mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:ie,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center",children:[n.jsx(ar,{size:18,className:"mr-2"}),"Download CSV"]})]})]})}),c&&n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(di,{className:"animate-spin h-12 w-12 text-blue-500"})}),!c&&n.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company/Dept"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Basic Salary"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Salary"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(X=>{var se,z;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"flex items-center",children:n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.full_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",X.employee_no]})]})})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:X.company_name}),n.jsx("div",{className:"text-sm text-gray-500",children:X.department_name})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:parseFloat(X.basic_salary).toLocaleString("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${X.status==="processed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:X.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(z=(se=X.salary_breakdown)==null?void 0:se.net_salary)==null?void 0:z.toLocaleString("en-US",{style:"currency",currency:"LKR",minimumFractionDigits:2})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[n.jsx("button",{onClick:()=>$(X),className:"text-blue-600 hover:text-blue-900 mr-4",title:"Edit",children:n.jsx(Py,{size:18})}),n.jsx("button",{onClick:()=>{y(X),x(!0)},className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(or,{size:18})})]})]},X.id)})})]})})}),!c&&s.length===0&&n.jsx("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:n.jsxs("div",{className:"mx-auto max-w-md",children:[n.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:n.jsx(Nr,{size:48,className:"mx-auto"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No salary records found"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filter criteria"})]})}),n.jsx(MN,{isOpen:h,onClose:()=>f(!1),children:v&&n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Salary Record"}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:n.jsx(As,{size:20})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-medium mb-2",children:v.full_name}),n.jsxs("p",{className:"text-gray-600",children:[v.company_name," - ",v.department_name]})]}),n.jsxs("form",{onSubmit:W,children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Basic Salary"}),n.jsxs("div",{className:"relative rounded-md shadow-sm",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(wa,{className:"h-5 w-5 text-gray-400"})}),n.jsx("input",{type:"number",name:"basic_salary",value:N.basic_salary,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00",step:"0.01"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),n.jsxs("select",{name:"status",value:N.status,onChange:L,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"processed",children:"Processed"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"increment_active",name:"increment_active",type:"checkbox",checked:N.increment_active,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"increment_active",className:"ml-2 block text-sm text-gray-700",children:"Active Increment"})]}),N.increment_active&&n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",name:"increment_value",value:N.increment_value,onChange:L,className:"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",placeholder:"Increment value (e.g. 10%)"}),n.jsx("input",{type:"date",name:"increment_effected_date",value:N.increment_effected_date,onChange:L,className:"mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Overtime"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"ot_morning",name:"ot_morning",type:"checkbox",checked:N.ot_morning,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"ot_morning",className:"ml-2 block text-sm text-gray-700",children:"Morning"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"ot_evening",name:"ot_evening",type:"checkbox",checked:N.ot_evening,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"ot_evening",className:"ml-2 block text-sm text-gray-700",children:"Evening"})]})]})]}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"enable_epf_etf",name:"enable_epf_etf",type:"checkbox",checked:N.enable_epf_etf,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"enable_epf_etf",className:"ml-2 block text-sm text-gray-700",children:"Enable EPF/ETF"})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"BR Status"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"br1",name:"br1",type:"checkbox",checked:N.br1,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"br1",className:"ml-2 block text-sm text-gray-700",children:"BR1"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"br2",name:"br2",type:"checkbox",checked:N.br2,onChange:L,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"br2",className:"ml-2 block text-sm text-gray-700",children:"BR2"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loan Amount"}),n.jsx("input",{type:"number",name:"total_loan_amount",value:N.total_loan_amount,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00",step:"0.01"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Installment Count"}),n.jsx("input",{type:"number",name:"installment_count",value:N.installment_count,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Installment Amount"}),n.jsx("input",{type:"number",name:"installment_amount",value:N.installment_amount,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00",step:"0.01"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Approved No Pay Days"}),n.jsx("input",{type:"number",name:"approved_no_pay_days",value:N.approved_no_pay_days,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Month"}),n.jsx("input",{type:"text",name:"month",value:N.month,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"MM",maxLength:"2"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),n.jsx("input",{type:"text",name:"year",value:N.year,onChange:L,className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-3 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"YYYY",maxLength:"4"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[n.jsx(Kj,{size:18,className:"mr-2"}),"Save Changes"]})]})]})]})}),n.jsx(MN,{isOpen:p,onClose:()=>x(!1),children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Confirm Deletion"}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-500",children:n.jsx(As,{size:20})})]}),n.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete the salary record for"," ",n.jsx("span",{className:"font-semibold",children:v==null?void 0:v.full_name}),"?"]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),n.jsxs("button",{onClick:()=>D(v.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",children:[n.jsx(or,{size:18,className:"mr-2"}),"Delete"]})]})]})})]})};cg.register(Ib,qb,f0,pE,jE,fE,Hf,h0,$f);const dB="employeeFormData",uB=()=>{localStorage.removeItem(dB)},hB=()=>{const t=[{name:"Total Employees",value:"2,847",change:"+12%",icon:Ha,gradient:"from-blue-500 to-blue-600",lightBg:"bg-blue-50",iconBg:"bg-blue-500",shadowColor:"shadow-blue-200"},{name:"Present Today",value:"2,234",change:"+2.3%",icon:Va,gradient:"from-green-500 to-green-600",lightBg:"bg-green-50",iconBg:"bg-green-500",shadowColor:"shadow-green-200"},{name:"On Leave",value:"89",change:"-5.4%",icon:hn,gradient:"from-yellow-500 to-orange-500",lightBg:"bg-yellow-50",iconBg:"bg-yellow-500",shadowColor:"shadow-yellow-200"},{name:"Departments",value:"24",change:"+1",icon:Nr,gradient:"from-purple-500 to-purple-600",lightBg:"bg-purple-50",iconBg:"bg-purple-500",shadowColor:"shadow-purple-200"}];return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:t.map((e,s)=>n.jsx("div",{className:`${e.lightBg} rounded-2xl shadow-lg ${e.shadowColor} p-6 hover:shadow-xl hover:scale-105 transition-all duration-300 border border-white/50 backdrop-blur-sm`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-1",children:e.name}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.value}),n.jsxs("p",{className:`text-sm mt-3 font-semibold ${e.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[e.change," from last month"]})]}),n.jsx("div",{className:`${e.iconBg} p-4 rounded-2xl shadow-lg`,children:n.jsx(e.icon,{className:"h-8 w-8 text-white"})})]})},s))})},fB=()=>{const t={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Present",data:[2100,2150,2200,2180,2250,1800,800],backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgba(16, 185, 129, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1},{label:"Absent",data:[150,120,100,90,80,200,400],backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:2,borderRadius:8,borderSkipped:!1}]},e={labels:["Sales","Marketing","Development","HR","Finance","Operations"],datasets:[{data:[300,250,500,100,150,200],backgroundColor:["rgba(239, 68, 68, 0.8)","rgba(59, 130, 246, 0.8)","rgba(251, 191, 36, 0.8)","rgba(16, 185, 129, 0.8)","rgba(139, 92, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgba(239, 68, 68, 1)","rgba(59, 130, 246, 1)","rgba(251, 191, 36, 1)","rgba(16, 185, 129, 1)","rgba(139, 92, 246, 1)","rgba(251, 146, 60, 1)"],borderWidth:2}]},s={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"Total Salary Paid (LKR)",data:[85e6,87e6,89e6,91e6,93e6,95e6,97e6],fill:!0,backgroundColor:"rgba(139, 92, 246, 0.2)",borderColor:"rgba(139, 92, 246, 1)",borderWidth:3,tension:.4,pointBackgroundColor:"rgba(139, 92, 246, 1)",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:6}]};return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"bg-blue-100 p-2 rounded-xl mr-3",children:n.jsx(jr,{className:"h-6 w-6 text-blue-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Weekly Attendance"})]}),n.jsx("div",{className:"h-80",children:n.jsx(FE,{data:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(a){return a.toLocaleString()},font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}}})})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"bg-green-100 p-2 rounded-xl mr-3",children:n.jsx(Nr,{className:"h-6 w-6 text-green-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Department Distribution"})]}),n.jsx("div",{className:"h-80",children:n.jsx(BE,{data:e,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}}}}})})]}),n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300 lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("div",{className:"bg-purple-100 p-2 rounded-xl mr-3",children:n.jsx(wa,{className:"h-6 w-6 text-purple-600"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Monthly Salary Trend"})]}),n.jsx("div",{className:"h-80",children:n.jsx(RE,{data:s,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"bold"}}}},scales:{y:{grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{callback:function(a){return"LKR "+(a/1e6).toFixed(1)+"M"},font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}}})})]})]})},mB=()=>{const t=[{icon:Ha,label:"Add Employee",action:"employeeAdd",color:"from-blue-500 to-blue-600",iconBg:"bg-blue-100",iconColor:"text-blue-600"},{icon:hn,label:"Leave Approval",action:"leaveMaster",color:"from-green-500 to-green-600",iconBg:"bg-green-100",iconColor:"text-green-600"},{icon:jr,label:"Time Cards",action:"TimeCard",color:"from-yellow-500 to-yellow-600",iconBg:"bg-yellow-100",iconColor:"text-yellow-600"},{icon:wa,label:"Process Salary",action:"SalaryProcessPage",color:"from-purple-500 to-purple-600",iconBg:"bg-purple-100",iconColor:"text-purple-600"},{icon:WA,label:"Reports",action:"reports",color:"from-pink-500 to-pink-600",iconBg:"bg-pink-100",iconColor:"text-pink-600"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/20 mb-8",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Quick Actions"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:t.map((e,s)=>n.jsxs("button",{className:"group flex flex-col items-center justify-center p-6 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 hover:from-white hover:to-gray-50 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105",children:[n.jsx("div",{className:`${e.iconBg} p-3 rounded-xl mb-3 group-hover:scale-110 transition-transform duration-300`,children:n.jsx(e.icon,{className:`h-6 w-6 ${e.iconColor}`})}),n.jsx("span",{className:"text-sm font-semibold text-gray-700 group-hover:text-gray-900 transition-colors duration-300",children:e.label})]},s))})]})},pB=({user:t,onLogout:e})=>{const[s,a]=P.useState("dashboard"),[r,o]=P.useState(!1);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex",children:[n.jsx(zE,{user:t,onLogout:e,activeItem:s,setActiveItem:a,isOpen:r,setIsOpen:o}),n.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[n.jsx("nav",{className:"bg-white/80 backdrop-blur-sm shadow-lg border-b border-white/20",children:n.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsx("div",{className:"flex items-center lg:hidden",children:n.jsx("button",{onClick:()=>o(!0),className:"text-gray-500 hover:text-gray-700 focus:outline-none p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:n.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),n.jsx("div",{className:"hidden lg:flex items-center",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:n.jsx(Nr,{className:"h-5 w-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"HRM Dashboard"})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-gray-700 flex items-center gap-2",children:["Welcome, ",t.name,n.jsxs("span",{className:"inline-flex items-center gap-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm font-semibold px-3 py-1 rounded-full",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M10 2a4 4 0 00-4 4v1H4a2 2 0 00-2 2v2h16V9a2 2 0 00-2-2h-2V6a4 4 0 00-4-4zm-2 5V6a2 2 0 114 0v1H8zm-4 6v3a2 2 0 002 2h8a2 2 0 002-2v-3H4z"})}),t.role]})]}),n.jsx("button",{onClick:e,className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:"Logout"})]})]})})}),n.jsx("div",{className:"py-6 sm:px-6 lg:px-8 flex-1",children:n.jsx("div",{className:"px-4 py-6 sm:px-0 h-full",children:s==="employeeMaster"?n.jsx(LO,{}):s==="employeeAdd"?n.jsx(MO,{}):s==="show"?n.jsx(PO,{}):s==="createNewDeduction"?n.jsx(qO,{}):s==="shiftTime"?n.jsx(HO,{}):s==="createNewAllowance"?n.jsx(JO,{}):s==="employeeLoan"?n.jsx(nR,{}):s==="viewLoans"?n.jsx(aB,{}):s==="noPayManagement"?n.jsx(H9,{}):s==="hrLeaveApproval"?n.jsx(tB,{}):s==="leaveApproval"?n.jsx(eB,{}):s==="leaveMaster"?n.jsx(NR,{}):s==="TimeCard"?n.jsx(aR,{}):s==="Overtime"?n.jsx(oR,{}):s==="departmentMaster"?n.jsx(cR,{}):s==="grouproster"?n.jsx(pR,{}):s==="leavecalendar"?n.jsx($9,{}):s==="SalaryProcessPage"?n.jsx(QF,{}):s==="termination"?n.jsx(nB,{}):s==="SalaryPage"?n.jsx(cB,{}):s==="resignation"?n.jsx(sB,{}):n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"HRM Dashboard"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Welcome to your comprehensive HR management system"})]}),n.jsx(hB,{}),n.jsx(mB,{}),n.jsx(fB,{}),n.jsx("div",{className:"flex justify-center",children:n.jsx("button",{onClick:uB,className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:"Clear Form Data"})})]})})})]})]})};async function gB(t){const{data:e}=await bt.post("/login",t);await m3(e.token)}async function dy(){const{data:t}=await bt.get("/user");return t}async function xB(){await bt.get("/logout",{}),await m3(null)}const z6=P.createContext({});function bB(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const w2=typeof window<"u",yB=w2?P.useLayoutEffect:P.useEffect,N2=P.createContext(null);function j2(t,e){t.indexOf(e)===-1&&t.push(e)}function S2(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Kl=(t,e,s)=>s>e?e:s<t?t:s;let _2=()=>{};const Zl={},I6=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function q6(t){return typeof t=="object"&&t!==null}const U6=t=>/^0[^.\s]+$/u.test(t);function A2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Fi=t=>t,vB=(t,e)=>s=>e(t(s)),Mm=(...t)=>t.reduce(vB),xm=(t,e,s)=>{const a=e-t;return a===0?1:(s-t)/a};class C2{constructor(){this.subscriptions=[]}add(e){return j2(this.subscriptions,e),()=>S2(this.subscriptions,e)}notify(e,s,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,s,a);else for(let o=0;o<r;o++){const c=this.subscriptions[o];c&&c(e,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ol=t=>t*1e3,ll=t=>t/1e3;function V6(t,e){return e?t*(1e3/e):0}const H6=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,wB=1e-7,NB=12;function jB(t,e,s,a,r){let o,c,d=0;do c=e+(s-e)/2,o=H6(c,a,r)-t,o>0?s=c:e=c;while(Math.abs(o)>wB&&++d<NB);return c}function Pm(t,e,s,a){if(t===e&&s===a)return Fi;const r=o=>jB(o,0,1,t,s);return o=>o===0||o===1?o:H6(r(o),e,a)}const $6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y6=t=>e=>1-t(1-e),W6=Pm(.33,1.53,.69,.99),k2=Y6(W6),G6=$6(k2),X6=t=>(t*=2)<1?.5*k2(t):.5*(2-Math.pow(2,-10*(t-1))),D2=t=>1-Math.sin(Math.acos(t)),K6=Y6(D2),Z6=$6(D2),SB=Pm(.42,0,1,1),_B=Pm(0,0,.58,1),J6=Pm(.42,0,.58,1),AB=t=>Array.isArray(t)&&typeof t[0]!="number",Q6=t=>Array.isArray(t)&&typeof t[0]=="number",CB={linear:Fi,easeIn:SB,easeInOut:J6,easeOut:_B,circIn:D2,circInOut:Z6,circOut:K6,backIn:k2,backInOut:G6,backOut:W6,anticipate:X6},kB=t=>typeof t=="string",PN=t=>{if(Q6(t)){_2(t.length===4);const[e,s,a,r]=t;return Pm(e,s,a,r)}else if(kB(t))return CB[t];return t},n0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DB(t,e){let s=new Set,a=new Set,r=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(p){c.has(p)&&(f.schedule(p),t()),p(d)}const f={schedule:(p,x=!1,v=!1)=>{const N=v&&r?s:a;return x&&c.add(p),N.has(p)||N.add(p),p},cancel:p=>{a.delete(p),c.delete(p)},process:p=>{if(d=p,r){o=!0;return}r=!0,[s,a]=[a,s],s.forEach(h),s.clear(),r=!1,o&&(o=!1,f.process(p))}};return f}const EB=40;function eS(t,e){let s=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,c=n0.reduce((L,$)=>(L[$]=DB(o),L),{}),{setup:d,read:h,resolveKeyframes:f,preUpdate:p,update:x,preRender:v,render:y,postRender:N}=c,_=()=>{const L=Zl.useManualTiming?r.timestamp:performance.now();s=!1,Zl.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(L-r.timestamp,EB),1)),r.timestamp=L,r.isProcessing=!0,d.process(r),h.process(r),f.process(r),p.process(r),x.process(r),v.process(r),y.process(r),N.process(r),r.isProcessing=!1,s&&e&&(a=!1,t(_))},k=()=>{s=!0,a=!0,r.isProcessing||t(_)};return{schedule:n0.reduce((L,$)=>{const W=c[$];return L[$]=(le,ee=!1,U=!1)=>(s||k(),W.schedule(le,ee,U)),L},{}),cancel:L=>{for(let $=0;$<n0.length;$++)c[n0[$]].cancel(L)},state:r,steps:c}}const{schedule:kn,cancel:ad,state:Ua,steps:gb}=eS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fi,!0);let w0;function LB(){w0=void 0}const qr={now:()=>(w0===void 0&&qr.set(Ua.isProcessing||Zl.useManualTiming?Ua.timestamp:performance.now()),w0),set:t=>{w0=t,queueMicrotask(LB)}},tS=t=>e=>typeof e=="string"&&e.startsWith(t),E2=tS("--"),TB=tS("var(--"),L2=t=>TB(t)?MB.test(t.split("/*")[0].trim()):!1,MB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bm={...Mh,transform:t=>Kl(0,1,t)},a0={...Mh,default:1},tm=t=>Math.round(t*1e5)/1e5,T2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PB(t){return t==null}const OB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M2=(t,e)=>s=>!!(typeof s=="string"&&OB.test(s)&&s.startsWith(t)||e&&!PB(s)&&Object.prototype.hasOwnProperty.call(s,e)),sS=(t,e,s)=>a=>{if(typeof a!="string")return a;const[r,o,c,d]=a.match(T2);return{[t]:parseFloat(r),[e]:parseFloat(o),[s]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},RB=t=>Kl(0,255,t),xb={...Mh,transform:t=>Math.round(RB(t))},Xd={test:M2("rgb","red"),parse:sS("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:a=1})=>"rgba("+xb.transform(t)+", "+xb.transform(e)+", "+xb.transform(s)+", "+tm(bm.transform(a))+")"};function FB(t){let e="",s="",a="",r="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),a=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),a=t.substring(3,4),r=t.substring(4,5),e+=e,s+=s,a+=a,r+=r),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const uy={test:M2("#"),parse:FB,transform:Xd.transform},Om=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Uc=Om("deg"),cl=Om("%"),ls=Om("px"),BB=Om("vh"),zB=Om("vw"),ON={...cl,parse:t=>cl.parse(t)/100,transform:t=>cl.transform(t*100)},sh={test:M2("hsl","hue"),parse:sS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:a=1})=>"hsla("+Math.round(t)+", "+cl.transform(tm(e))+", "+cl.transform(tm(s))+", "+tm(bm.transform(a))+")"},pa={test:t=>Xd.test(t)||uy.test(t)||sh.test(t),parse:t=>Xd.test(t)?Xd.parse(t):sh.test(t)?sh.parse(t):uy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xd.transform(t):sh.transform(t),getAnimatableNone:t=>{const e=pa.parse(t);return e.alpha=0,pa.transform(e)}},IB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qB(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(T2))==null?void 0:e.length)||0)+(((s=t.match(IB))==null?void 0:s.length)||0)>0}const nS="number",aS="color",UB="var",VB="var(",RN="${}",HB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ym(t){const e=t.toString(),s=[],a={color:[],number:[],var:[]},r=[];let o=0;const d=e.replace(HB,h=>(pa.test(h)?(a.color.push(o),r.push(aS),s.push(pa.parse(h))):h.startsWith(VB)?(a.var.push(o),r.push(UB),s.push(h)):(a.number.push(o),r.push(nS),s.push(parseFloat(h))),++o,RN)).split(RN);return{values:s,split:d,indexes:a,types:r}}function rS(t){return ym(t).values}function iS(t){const{split:e,types:s}=ym(t),a=e.length;return r=>{let o="";for(let c=0;c<a;c++)if(o+=e[c],r[c]!==void 0){const d=s[c];d===nS?o+=tm(r[c]):d===aS?o+=pa.transform(r[c]):o+=r[c]}return o}}const $B=t=>typeof t=="number"?0:pa.test(t)?pa.getAnimatableNone(t):t;function YB(t){const e=rS(t);return iS(t)(e.map($B))}const rd={test:qB,parse:rS,createTransformer:iS,getAnimatableNone:YB};function bb(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function WB({hue:t,saturation:e,lightness:s,alpha:a}){t/=360,e/=100,s/=100;let r=0,o=0,c=0;if(!e)r=o=c=s;else{const d=s<.5?s*(1+e):s+e-s*e,h=2*s-d;r=bb(h,d,t+1/3),o=bb(h,d,t),c=bb(h,d,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:a}}function Z0(t,e){return s=>s>0?e:t}const Fn=(t,e,s)=>t+(e-t)*s,yb=(t,e,s)=>{const a=t*t,r=s*(e*e-a)+a;return r<0?0:Math.sqrt(r)},GB=[uy,Xd,sh],XB=t=>GB.find(e=>e.test(t));function FN(t){const e=XB(t);if(!e)return!1;let s=e.parse(t);return e===sh&&(s=WB(s)),s}const BN=(t,e)=>{const s=FN(t),a=FN(e);if(!s||!a)return Z0(t,e);const r={...s};return o=>(r.red=yb(s.red,a.red,o),r.green=yb(s.green,a.green,o),r.blue=yb(s.blue,a.blue,o),r.alpha=Fn(s.alpha,a.alpha,o),Xd.transform(r))},hy=new Set(["none","hidden"]);function KB(t,e){return hy.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function ZB(t,e){return s=>Fn(t,e,s)}function P2(t){return typeof t=="number"?ZB:typeof t=="string"?L2(t)?Z0:pa.test(t)?BN:ez:Array.isArray(t)?oS:typeof t=="object"?pa.test(t)?BN:JB:Z0}function oS(t,e){const s=[...t],a=s.length,r=t.map((o,c)=>P2(o)(o,e[c]));return o=>{for(let c=0;c<a;c++)s[c]=r[c](o);return s}}function JB(t,e){const s={...t,...e},a={};for(const r in s)t[r]!==void 0&&e[r]!==void 0&&(a[r]=P2(t[r])(t[r],e[r]));return r=>{for(const o in a)s[o]=a[o](r);return s}}function QB(t,e){const s=[],a={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],c=t.indexes[o][a[o]],d=t.values[c]??0;s[r]=d,a[o]++}return s}const ez=(t,e)=>{const s=rd.createTransformer(e),a=ym(t),r=ym(e);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?hy.has(t)&&!r.values.length||hy.has(e)&&!a.values.length?KB(t,e):Mm(oS(QB(a,r),r.values),s):Z0(t,e)};function lS(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Fn(t,e,s):P2(t)(t,e)}const tz=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>kn.update(e,s),stop:()=>ad(e),now:()=>Ua.isProcessing?Ua.timestamp:qr.now()}},cS=(t,e,s=10)=>{let a="";const r=Math.max(Math.round(e/s),2);for(let o=0;o<r;o++)a+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},J0=2e4;function O2(t){let e=0;const s=50;let a=t.next(e);for(;!a.done&&e<J0;)e+=s,a=t.next(e);return e>=J0?1/0:e}function sz(t,e=100,s){const a=s({...t,keyframes:[0,e]}),r=Math.min(O2(a),J0);return{type:"keyframes",ease:o=>a.next(r*o).value/e,duration:ll(r)}}const nz=5;function dS(t,e,s){const a=Math.max(e-nz,0);return V6(s-t(a),e-a)}const $n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vb=.001;function az({duration:t=$n.duration,bounce:e=$n.bounce,velocity:s=$n.velocity,mass:a=$n.mass}){let r,o,c=1-e;c=Kl($n.minDamping,$n.maxDamping,c),t=Kl($n.minDuration,$n.maxDuration,ll(t)),c<1?(r=f=>{const p=f*c,x=p*t,v=p-s,y=fy(f,c),N=Math.exp(-x);return vb-v/y*N},o=f=>{const x=f*c*t,v=x*s+s,y=Math.pow(c,2)*Math.pow(f,2)*t,N=Math.exp(-x),_=fy(Math.pow(f,2),c);return(-r(f)+vb>0?-1:1)*((v-y)*N)/_}):(r=f=>{const p=Math.exp(-f*t),x=(f-s)*t+1;return-vb+p*x},o=f=>{const p=Math.exp(-f*t),x=(s-f)*(t*t);return p*x});const d=5/t,h=iz(r,o,d);if(t=ol(t),isNaN(h))return{stiffness:$n.stiffness,damping:$n.damping,duration:t};{const f=Math.pow(h,2)*a;return{stiffness:f,damping:c*2*Math.sqrt(a*f),duration:t}}}const rz=12;function iz(t,e,s){let a=s;for(let r=1;r<rz;r++)a=a-t(a)/e(a);return a}function fy(t,e){return t*Math.sqrt(1-e*e)}const oz=["duration","bounce"],lz=["stiffness","damping","mass"];function zN(t,e){return e.some(s=>t[s]!==void 0)}function cz(t){let e={velocity:$n.velocity,stiffness:$n.stiffness,damping:$n.damping,mass:$n.mass,isResolvedFromDuration:!1,...t};if(!zN(t,lz)&&zN(t,oz))if(t.visualDuration){const s=t.visualDuration,a=2*Math.PI/(s*1.2),r=a*a,o=2*Kl(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:$n.mass,stiffness:r,damping:o}}else{const s=az(t);e={...e,...s,mass:$n.mass},e.isResolvedFromDuration=!0}return e}function Q0(t=$n.visualDuration,e=$n.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:r}=s;const o=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:x,velocity:v,isResolvedFromDuration:y}=cz({...s,velocity:-ll(s.velocity||0)}),N=v||0,_=f/(2*Math.sqrt(h*p)),k=c-o,C=ll(Math.sqrt(h/p)),D=Math.abs(k)<5;a||(a=D?$n.restSpeed.granular:$n.restSpeed.default),r||(r=D?$n.restDelta.granular:$n.restDelta.default);let L;if(_<1){const W=fy(C,_);L=le=>{const ee=Math.exp(-_*C*le);return c-ee*((N+_*C*k)/W*Math.sin(W*le)+k*Math.cos(W*le))}}else if(_===1)L=W=>c-Math.exp(-C*W)*(k+(N+C*k)*W);else{const W=C*Math.sqrt(_*_-1);L=le=>{const ee=Math.exp(-_*C*le),U=Math.min(W*le,300);return c-ee*((N+_*C*k)*Math.sinh(U)+W*k*Math.cosh(U))/W}}const $={calculatedDuration:y&&x||null,next:W=>{const le=L(W);if(y)d.done=W>=x;else{let ee=W===0?N:0;_<1&&(ee=W===0?ol(N):dS(L,W,le));const U=Math.abs(ee)<=a,oe=Math.abs(c-le)<=r;d.done=U&&oe}return d.value=d.done?c:le,d},toString:()=>{const W=Math.min(O2($),J0),le=cS(ee=>$.next(W*ee).value,W,30);return W+"ms "+le},toTransition:()=>{}};return $}Q0.applyToOptions=t=>{const e=sz(t,100,Q0);return t.ease=e.ease,t.duration=ol(e.duration),t.type="keyframes",t};function my({keyframes:t,velocity:e=0,power:s=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:p}){const x=t[0],v={done:!1,value:x},y=U=>d!==void 0&&U<d||h!==void 0&&U>h,N=U=>d===void 0?h:h===void 0||Math.abs(d-U)<Math.abs(h-U)?d:h;let _=s*e;const k=x+_,C=c===void 0?k:c(k);C!==k&&(_=C-x);const D=U=>-_*Math.exp(-U/a),L=U=>C+D(U),$=U=>{const oe=D(U),re=L(U);v.done=Math.abs(oe)<=f,v.value=v.done?C:re};let W,le;const ee=U=>{y(v.value)&&(W=U,le=Q0({keyframes:[v.value,N(v.value)],velocity:dS(L,U,v.value),damping:r,stiffness:o,restDelta:f,restSpeed:p}))};return ee(0),{calculatedDuration:null,next:U=>{let oe=!1;return!le&&W===void 0&&(oe=!0,$(U),ee(U)),W!==void 0&&U>=W?le.next(U-W):(!oe&&$(U),v)}}}function dz(t,e,s){const a=[],r=s||Zl.mix||lS,o=t.length-1;for(let c=0;c<o;c++){let d=r(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Fi:e;d=Mm(h,d)}a.push(d)}return a}function uz(t,e,{clamp:s=!0,ease:a,mixer:r}={}){const o=t.length;if(_2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=dz(e,a,r),h=d.length,f=p=>{if(c&&p<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const v=xm(t[x],t[x+1],p);return d[x](v)};return s?p=>f(Kl(t[0],t[o-1],p)):f}function hz(t,e){const s=t[t.length-1];for(let a=1;a<=e;a++){const r=xm(0,e,a);t.push(Fn(s,1,r))}}function fz(t){const e=[0];return hz(e,t.length-1),e}function mz(t,e){return t.map(s=>s*e)}function pz(t,e){return t.map(()=>e||J6).splice(0,t.length-1)}function sm({duration:t=300,keyframes:e,times:s,ease:a="easeInOut"}){const r=AB(a)?a.map(PN):PN(a),o={done:!1,value:e[0]},c=mz(s&&s.length===e.length?s:fz(e),t),d=uz(c,e,{ease:Array.isArray(r)?r:pz(e,r)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}const gz=t=>t!==null;function R2(t,{repeat:e,repeatType:s="loop"},a,r=1){const o=t.filter(gz),d=r<0||e&&s!=="loop"&&e%2===1?0:o.length-1;return!d||a===void 0?o[d]:a}const xz={decay:my,inertia:my,tween:sm,keyframes:sm,spring:Q0};function uS(t){typeof t.type=="string"&&(t.type=xz[t.type])}class F2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const bz=t=>t/100;class B2 extends F2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:s}=this.options;s&&s.updatedAt!==qr.now()&&this.tick(qr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uS(e);const{type:s=sm,repeat:a=0,repeatDelay:r=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const h=s||sm;h!==sm&&typeof d[0]!="number"&&(this.mixKeyframes=Mm(bz,lS(d[0],d[1])),d=[0,100]);const f=h({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=O2(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=f}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:a,totalDuration:r,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:f=0,keyframes:p,repeat:x,repeatType:v,repeatDelay:y,type:N,onUpdate:_,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>r;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let L=this.currentTime,$=a;if(x){const U=Math.min(this.currentTime,r)/d;let oe=Math.floor(U),re=U%1;!re&&U>=1&&(re=1),re===1&&oe--,oe=Math.min(oe,x+1),!!(oe%2)&&(v==="reverse"?(re=1-re,y&&(re-=y/d)):v==="mirror"&&($=c)),L=Kl(0,1,re)*d}const W=D?{done:!1,value:p[0]}:$.next(L);o&&(W.value=o(W.value));let{done:le}=W;!D&&h!==null&&(le=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const ee=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return ee&&N!==my&&(W.value=R2(p,this.options,k,this.speed)),_&&_(W.value),ee&&this.finish(),W}then(e,s){return this.finished.then(e,s)}get duration(){return ll(this.calculatedDuration)}get time(){return ll(this.currentTime)}set time(e){var s;e=ol(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qr.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=ll(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:e=tz,startTime:s}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(r=this.options).onPlay)==null||o.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function yz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Kd=t=>t*180/Math.PI,py=t=>{const e=Kd(Math.atan2(t[1],t[0]));return gy(e)},vz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:py,rotateZ:py,skewX:t=>Kd(Math.atan(t[1])),skewY:t=>Kd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},gy=t=>(t=t%360,t<0&&(t+=360),t),IN=py,qN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),wz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qN,scaleY:UN,scale:t=>(qN(t)+UN(t))/2,rotateX:t=>gy(Kd(Math.atan2(t[6],t[5]))),rotateY:t=>gy(Kd(Math.atan2(-t[2],t[0]))),rotateZ:IN,rotate:IN,skewX:t=>Kd(Math.atan(t[4])),skewY:t=>Kd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function xy(t){return t.includes("scale")?1:0}function by(t,e){if(!t||t==="none")return xy(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(s)a=wz,r=s;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=vz,r=d}if(!r)return xy(e);const o=a[e],c=r[1].split(",").map(jz);return typeof o=="function"?o(c):c[o]}const Nz=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return by(s,e)};function jz(t){return parseFloat(t.trim())}const Ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oh=new Set(Ph),VN=t=>t===Mh||t===ls,Sz=new Set(["x","y","z"]),_z=Ph.filter(t=>!Sz.has(t));function Az(t){const e=[];return _z.forEach(s=>{const a=t.getValue(s);a!==void 0&&(e.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),e}const nu={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>by(e,"x"),y:(t,{transform:e})=>by(e,"y")};nu.translateX=nu.x;nu.translateY=nu.y;const au=new Set;let yy=!1,vy=!1,wy=!1;function hS(){if(vy){const t=Array.from(au).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),s=new Map;e.forEach(a=>{const r=Az(a);r.length&&(s.set(a,r),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const r=s.get(a);r&&r.forEach(([o,c])=>{var d;(d=a.getValue(o))==null||d.set(c)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}vy=!1,yy=!1,au.forEach(t=>t.complete(wy)),au.clear()}function fS(){au.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vy=!0)})}function Cz(){wy=!0,fS(),hS(),wy=!1}class z2{constructor(e,s,a,r,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=a,this.motionValue=r,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(au.add(this),yy||(yy=!0,kn.read(fS),kn.resolveKeyframes(hS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:a,motionValue:r}=this;if(e[0]===null){const o=r==null?void 0:r.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(a&&s){const d=a.readValue(s,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),r&&o===void 0&&r.set(e[0])}yz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),au.delete(this)}cancel(){this.state==="scheduled"&&(au.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kz=t=>t.startsWith("--");function Dz(t,e,s){kz(e)?t.style.setProperty(e,s):t.style[e]=s}const Ez=A2(()=>window.ScrollTimeline!==void 0),Lz={};function Tz(t,e){const s=A2(t);return()=>Lz[e]??s()}const mS=Tz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xf=([t,e,s,a])=>`cubic-bezier(${t}, ${e}, ${s}, ${a})`,HN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xf([0,.65,.55,1]),circOut:Xf([.55,0,1,.45]),backIn:Xf([.31,.01,.66,-.59]),backOut:Xf([.33,1.53,.69,.99])};function pS(t,e){if(t)return typeof t=="function"?mS()?cS(t,e):"ease-out":Q6(t)?Xf(t):Array.isArray(t)?t.map(s=>pS(s,e)||HN.easeOut):HN[t]}function Mz(t,e,s,{delay:a=0,duration:r=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:h}={},f=void 0){const p={[e]:s};h&&(p.offset=h);const x=pS(d,r);Array.isArray(x)&&(p.easing=x);const v={delay:a,duration:r,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(p,v)}function gS(t){return typeof t=="function"&&"applyToOptions"in t}function Pz({type:t,...e}){return gS(t)&&mS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Oz extends F2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:a,keyframes:r,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,_2(typeof e.type!="string");const f=Pz(e);this.animation=Mz(s,a,r,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=R2(r,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):Dz(s,a,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,a;const e=((a=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:a.call(s).duration)||0;return ll(Number(e))}get time(){return ll(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ol(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ez()?(this.animation.timeline=e,Fi):s(this)}}const xS={anticipate:X6,backInOut:G6,circInOut:Z6};function Rz(t){return t in xS}function Fz(t){typeof t.ease=="string"&&Rz(t.ease)&&(t.ease=xS[t.ease])}const $N=10;class Bz extends Oz{constructor(e){Fz(e),uS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:a,onComplete:r,element:o,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const d=new B2({...c,autoplay:!1}),h=ol(this.finishedTime??this.time);s.setWithVelocity(d.sample(h-$N).value,d.sample(h).value,$N),d.stop()}}const YN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rd.test(t)||t==="0")&&!t.startsWith("url("));function zz(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function Iz(t,e,s,a){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=YN(r,e),d=YN(o,e);return!c||!d?!1:zz(t)||(s==="spring"||gS(s))&&a}const qz=new Set(["opacity","clipPath","filter","transform"]),Uz=A2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Vz(t){var p;const{motionValue:e,name:s,repeatDelay:a,repeatType:r,damping:o,type:c}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=e.owner.getProps();return Uz()&&s&&qz.has(s)&&(s!=="transform"||!f)&&!h&&!a&&r!=="mirror"&&o!==0&&c!=="inertia"}const Hz=40;class $z extends F2{constructor({autoplay:e=!0,delay:s=0,type:a="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:h,motionValue:f,element:p,...x}){var N;super(),this.stop=()=>{var _,k;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=qr.now();const v={autoplay:e,delay:s,type:a,repeat:r,repeatDelay:o,repeatType:c,name:h,motionValue:f,element:p,...x},y=(p==null?void 0:p.KeyframeResolver)||z2;this.keyframeResolver=new y(d,(_,k,C)=>this.onKeyframesResolved(_,k,v,!C),h,f,p),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,s,a,r){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:h,isHandoff:f,onUpdate:p}=a;this.resolvedAt=qr.now(),Iz(e,o,c,d)||((Zl.instantAnimations||!h)&&(p==null||p(R2(e,a,s))),e[0]=e[e.length-1],a.duration=0,a.repeat=0);const v={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>Hz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:e},y=!f&&Vz(v)?new Bz({...v,element:v.motionValue.owner.current}):new B2(v);y.finished.then(()=>this.notifyFinished()).catch(Fi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Cz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Yz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wz(t){const e=Yz.exec(t);if(!e)return[,];const[,s,a,r]=e;return[`--${s??a}`,r]}function bS(t,e,s=1){const[a,r]=Wz(t);if(!a)return;const o=window.getComputedStyle(e).getPropertyValue(a);if(o){const c=o.trim();return I6(c)?parseFloat(c):c}return L2(r)?bS(r,e,s+1):r}function I2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const yS=new Set(["width","height","top","left","right","bottom",...Ph]),Gz={test:t=>t==="auto",parse:t=>t},vS=t=>e=>e.test(t),wS=[Mh,ls,cl,Uc,zB,BB,Gz],WN=t=>wS.find(vS(t));function Xz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||U6(t):!0}const Kz=new Set(["brightness","contrast","saturate","opacity"]);function Zz(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=s.match(T2)||[];if(!a)return t;const r=s.replace(a,"");let o=Kz.has(e)?1:0;return a!==s&&(o*=100),e+"("+o+r+")"}const Jz=/\b([a-z-]*)\(.*?\)/gu,Ny={...rd,getAnimatableNone:t=>{const e=t.match(Jz);return e?e.map(Zz).join(" "):t}},GN={...Mh,transform:Math.round},Qz={rotate:Uc,rotateX:Uc,rotateY:Uc,rotateZ:Uc,scale:a0,scaleX:a0,scaleY:a0,scaleZ:a0,skew:Uc,skewX:Uc,skewY:Uc,distance:ls,translateX:ls,translateY:ls,translateZ:ls,x:ls,y:ls,z:ls,perspective:ls,transformPerspective:ls,opacity:bm,originX:ON,originY:ON,originZ:ls},q2={borderWidth:ls,borderTopWidth:ls,borderRightWidth:ls,borderBottomWidth:ls,borderLeftWidth:ls,borderRadius:ls,radius:ls,borderTopLeftRadius:ls,borderTopRightRadius:ls,borderBottomRightRadius:ls,borderBottomLeftRadius:ls,width:ls,maxWidth:ls,height:ls,maxHeight:ls,top:ls,right:ls,bottom:ls,left:ls,padding:ls,paddingTop:ls,paddingRight:ls,paddingBottom:ls,paddingLeft:ls,margin:ls,marginTop:ls,marginRight:ls,marginBottom:ls,marginLeft:ls,backgroundPositionX:ls,backgroundPositionY:ls,...Qz,zIndex:GN,fillOpacity:bm,strokeOpacity:bm,numOctaves:GN},eI={...q2,color:pa,backgroundColor:pa,outlineColor:pa,fill:pa,stroke:pa,borderColor:pa,borderTopColor:pa,borderRightColor:pa,borderBottomColor:pa,borderLeftColor:pa,filter:Ny,WebkitFilter:Ny},NS=t=>eI[t];function jS(t,e){let s=NS(t);return s!==Ny&&(s=rd),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const tI=new Set(["auto","none","0"]);function sI(t,e,s){let a=0,r;for(;a<t.length&&!r;){const o=t[a];typeof o=="string"&&!tI.has(o)&&ym(o).values.length&&(r=t[a]),a++}if(r&&s)for(const o of e)t[o]=jS(s,r)}class nI extends z2{constructor(e,s,a,r,o){super(e,s,a,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),L2(f))){const p=bS(f,s.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!yS.has(a)||e.length!==2)return;const[r,o]=e,c=WN(r),d=WN(o);if(c!==d)if(VN(c)&&VN(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else nu[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,a=[];for(let r=0;r<e.length;r++)(e[r]===null||Xz(e[r]))&&a.push(r);a.length&&sI(e,a,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nu[a](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&e.getValue(a,r).jump(r,!1)}measureEndState(){var d;const{element:e,name:s,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const r=e.getValue(s);r&&r.jump(this.measuredOrigin,!1);const o=a.length-1,c=a[o];a[o]=nu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function aI(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const r=(s==null?void 0:s[t])??a.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const SS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rI(t){return q6(t)&&"offsetHeight"in t}const XN=30,iI=t=>!isNaN(parseFloat(t));class oI{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,r=!0)=>{var c,d;const o=qr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();r&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=qr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new C2);const a=this.events[e].add(s);return e==="change"?()=>{a(),kn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XN)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,XN);return V6(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jh(t,e){return new oI(t,e)}const{schedule:U2}=eS(queueMicrotask,!1),ho={x:!1,y:!1};function _S(){return ho.x||ho.y}function lI(t){return t==="x"||t==="y"?ho[t]?null:(ho[t]=!0,()=>{ho[t]=!1}):ho.x||ho.y?null:(ho.x=ho.y=!0,()=>{ho.x=ho.y=!1})}function AS(t,e){const s=aI(t),a=new AbortController,r={passive:!0,...e,signal:a.signal};return[s,r,()=>a.abort()]}function KN(t){return!(t.pointerType==="touch"||_S())}function cI(t,e,s={}){const[a,r,o]=AS(t,s),c=d=>{if(!KN(d))return;const{target:h}=d,f=e(h,d);if(typeof f!="function"||!h)return;const p=x=>{KN(x)&&(f(x),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,r)};return a.forEach(d=>{d.addEventListener("pointerenter",c,r)}),o}const CS=(t,e)=>e?t===e?!0:CS(t,e.parentElement):!1,V2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uI(t){return dI.has(t.tagName)||t.tabIndex!==-1}const N0=new WeakSet;function ZN(t){return e=>{e.key==="Enter"&&t(e)}}function wb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hI=(t,e)=>{const s=t.currentTarget;if(!s)return;const a=ZN(()=>{if(N0.has(s))return;wb(s,"down");const r=ZN(()=>{wb(s,"up")}),o=()=>wb(s,"cancel");s.addEventListener("keyup",r,e),s.addEventListener("blur",o,e)});s.addEventListener("keydown",a,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),e)};function JN(t){return V2(t)&&!_S()}function fI(t,e,s={}){const[a,r,o]=AS(t,s),c=d=>{const h=d.currentTarget;if(!JN(d))return;N0.add(h);const f=e(h,d),p=(y,N)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),N0.has(h)&&N0.delete(h),JN(y)&&typeof f=="function"&&f(y,{success:N})},x=y=>{p(y,h===window||h===document||s.useGlobalTarget||CS(h,y.target))},v=y=>{p(y,!1)};window.addEventListener("pointerup",x,r),window.addEventListener("pointercancel",v,r)};return a.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",c,r),rI(d)&&(d.addEventListener("focus",f=>hI(f,r)),!uI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function kS(t){return q6(t)&&"ownerSVGElement"in t}function mI(t){return kS(t)&&t.tagName==="svg"}const dr=t=>!!(t&&t.getVelocity),pI=[...wS,pa,rd],gI=t=>pI.find(vS(t)),DS=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xI(t=!0){const e=P.useContext(N2);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:r}=e,o=P.useId();P.useEffect(()=>{if(t)return r(o)},[t]);const c=P.useCallback(()=>t&&a&&a(o),[o,a,t]);return!s&&a?[!1,c]:[!0]}const ES=P.createContext({strict:!1}),QN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sh={};for(const t in QN)Sh[t]={isEnabled:e=>QN[t].some(s=>!!e[s])};function bI(t){for(const e in t)Sh[e]={...Sh[e],...t[e]}}const yI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yI.has(t)}let LS=t=>!eg(t);function vI(t){typeof t=="function"&&(LS=e=>e.startsWith("on")?!eg(e):t(e))}try{vI(require("@emotion/is-prop-valid").default)}catch{}function wI(t,e,s){const a={};for(const r in t)r==="values"&&typeof t.values=="object"||(LS(r)||s===!0&&eg(r)||!e&&!eg(r)||t.draggable&&r.startsWith("onDrag"))&&(a[r]=t[r]);return a}const Cg=P.createContext({});function kg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vm(t){return typeof t=="string"||Array.isArray(t)}const H2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$2=["initial",...H2];function Dg(t){return kg(t.animate)||$2.some(e=>vm(t[e]))}function TS(t){return!!(Dg(t)||t.variants)}function NI(t,e){if(Dg(t)){const{initial:s,animate:a}=t;return{initial:s===!1||vm(s)?s:void 0,animate:vm(a)?a:void 0}}return t.inherit!==!1?e:{}}function jI(t){const{initial:e,animate:s}=NI(t,P.useContext(Cg));return P.useMemo(()=>({initial:e,animate:s}),[ej(e),ej(s)])}function ej(t){return Array.isArray(t)?t.join(" "):t}const wm={};function SI(t){for(const e in t)wm[e]=t[e],E2(e)&&(wm[e].isCSSVariable=!0)}function MS(t,{layout:e,layoutId:s}){return Oh.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!wm[t]||t==="opacity")}const _I={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AI=Ph.length;function CI(t,e,s){let a="",r=!0;for(let o=0;o<AI;o++){const c=Ph[o],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||s){const f=SS(d,q2[c]);if(!h){r=!1;const p=_I[c]||c;a+=`${p}(${f}) `}s&&(e[c]=f)}}return a=a.trim(),s?a=s(e,r?"":a):r&&(a="none"),a}function Y2(t,e,s){const{style:a,vars:r,transformOrigin:o}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(Oh.has(h)){c=!0;continue}else if(E2(h)){r[h]=f;continue}else{const p=SS(f,q2[h]);h.startsWith("origin")?(d=!0,o[h]=p):a[h]=p}}if(e.transform||(c||s?a.transform=CI(e,t.transform,s):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;a.transformOrigin=`${h} ${f} ${p}`}}const W2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function PS(t,e,s){for(const a in e)!dr(e[a])&&!MS(a,s)&&(t[a]=e[a])}function kI({transformTemplate:t},e){return P.useMemo(()=>{const s=W2();return Y2(s,e,t),Object.assign({},s.vars,s.style)},[e])}function DI(t,e){const s=t.style||{},a={};return PS(a,s,t),Object.assign(a,kI(t,e)),a}function EI(t,e){const s={},a=DI(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=a,s}const LI={offset:"stroke-dashoffset",array:"stroke-dasharray"},TI={offset:"strokeDashoffset",array:"strokeDasharray"};function MI(t,e,s=1,a=0,r=!0){t.pathLength=1;const o=r?LI:TI;t[o.offset]=ls.transform(-a);const c=ls.transform(e),d=ls.transform(s);t[o.array]=`${c} ${d}`}function OS(t,{attrX:e,attrY:s,attrScale:a,pathLength:r,pathSpacing:o=1,pathOffset:c=0,...d},h,f,p){if(Y2(t,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:v}=t;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),a!==void 0&&(x.scale=a),r!==void 0&&MI(x,r,o,c,!1)}const RS=()=>({...W2(),attrs:{}}),FS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PI(t,e,s,a){const r=P.useMemo(()=>{const o=RS();return OS(o,e,FS(a),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};PS(o,t.style,t),r.style={...o,...r.style}}return r}const OI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G2(t){return typeof t!="string"||t.includes("-")?!1:!!(OI.indexOf(t)>-1||/[A-Z]/u.test(t))}function RI(t,e,s,{latestValues:a},r,o=!1){const d=(G2(t)?PI:EI)(e,a,r,t),h=wI(e,typeof t=="string",o),f=t!==P.Fragment?{...h,...d,ref:s}:{},{children:p}=e,x=P.useMemo(()=>dr(p)?p.get():p,[p]);return P.createElement(t,{...f,children:x})}function tj(t){const e=[{},{}];return t==null||t.values.forEach((s,a)=>{e[0][a]=s.get(),e[1][a]=s.getVelocity()}),e}function X2(t,e,s,a){if(typeof e=="function"){const[r,o]=tj(a);e=e(s!==void 0?s:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=tj(a);e=e(s!==void 0?s:t.custom,r,o)}return e}function j0(t){return dr(t)?t.get():t}function FI({scrapeMotionValuesFromProps:t,createRenderState:e},s,a,r){return{latestValues:BI(s,a,r,t),renderState:e()}}function BI(t,e,s,a){const r={},o=a(t,{});for(const v in o)r[v]=j0(o[v]);let{initial:c,animate:d}=t;const h=Dg(t),f=TS(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=s?s.initial===!1:!1;p=p||c===!1;const x=p?d:c;if(x&&typeof x!="boolean"&&!kg(x)){const v=Array.isArray(x)?x:[x];for(let y=0;y<v.length;y++){const N=X2(t,v[y]);if(N){const{transitionEnd:_,transition:k,...C}=N;for(const D in C){let L=C[D];if(Array.isArray(L)){const $=p?L.length-1:0;L=L[$]}L!==null&&(r[D]=L)}for(const D in _)r[D]=_[D]}}}return r}const BS=t=>(e,s)=>{const a=P.useContext(Cg),r=P.useContext(N2),o=()=>FI(t,e,a,r);return s?o():bB(o)};function K2(t,e,s){var o;const{style:a}=t,r={};for(const c in a)(dr(a[c])||e.style&&dr(e.style[c])||MS(c,t)||((o=s==null?void 0:s.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(r[c]=a[c]);return r}const zI=BS({scrapeMotionValuesFromProps:K2,createRenderState:W2});function zS(t,e,s){const a=K2(t,e,s);for(const r in t)if(dr(t[r])||dr(e[r])){const o=Ph.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[o]=t[r]}return a}const II=BS({scrapeMotionValuesFromProps:zS,createRenderState:RS}),qI=Symbol.for("motionComponentSymbol");function nh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function UI(t,e,s){return P.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),s&&(typeof s=="function"?s(a):nh(s)&&(s.current=a))},[e])}const Z2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VI="framerAppearId",IS="data-"+Z2(VI),qS=P.createContext({});function HI(t,e,s,a,r){var _,k;const{visualElement:o}=P.useContext(Cg),c=P.useContext(ES),d=P.useContext(N2),h=P.useContext(DS).reducedMotion,f=P.useRef(null);a=a||c.renderer,!f.current&&a&&(f.current=a(t,{visualState:e,parent:o,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,x=P.useContext(qS);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&$I(f.current,s,r,x);const v=P.useRef(!1);P.useInsertionEffect(()=>{p&&v.current&&p.update(s,d)});const y=s[IS],N=P.useRef(!!y&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,y))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,y)));return yB(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),N.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!N.current&&p.animationState&&p.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,y)}),N.current=!1))}),p}function $I(t,e,s,a){const{layoutId:r,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:US(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!c||d&&nh(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:h,layoutRoot:f})}function US(t){if(t)return t.options.allowProjection!==!1?t.projection:US(t.parent)}function Nb(t,{forwardMotionProps:e=!1}={},s,a){s&&bI(s);const r=G2(t)?II:zI;function o(d,h){let f;const p={...P.useContext(DS),...d,layoutId:YI(d)},{isStatic:x}=p,v=jI(d),y=r(d,x);if(!x&&w2){WI();const N=GI(p);f=N.MeasureLayout,v.visualElement=HI(t,y,p,a,N.ProjectionNode)}return n.jsxs(Cg.Provider,{value:v,children:[f&&v.visualElement?n.jsx(f,{visualElement:v.visualElement,...p}):null,RI(t,d,UI(y,v.visualElement,h),y,x,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=P.forwardRef(o);return c[qI]=t,c}function YI({layoutId:t}){const e=P.useContext(z6).id;return e&&t!==void 0?e+"-"+t:t}function WI(t,e){P.useContext(ES).strict}function GI(t){const{drag:e,layout:s}=Sh;if(!e&&!s)return{};const a={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function XI(t,e){if(typeof Proxy>"u")return Nb;const s=new Map,a=(o,c)=>Nb(o,c,t,e),r=(o,c)=>a(o,c);return new Proxy(r,{get:(o,c)=>c==="create"?a:(s.has(c)||s.set(c,Nb(c,void 0,t,e)),s.get(c))})}function VS({top:t,left:e,right:s,bottom:a}){return{x:{min:e,max:s},y:{min:t,max:a}}}function KI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZI(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function jb(t){return t===void 0||t===1}function jy({scale:t,scaleX:e,scaleY:s}){return!jb(t)||!jb(e)||!jb(s)}function $d(t){return jy(t)||HS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function HS(t){return sj(t.x)||sj(t.y)}function sj(t){return t&&t!=="0%"}function tg(t,e,s){const a=t-s,r=e*a;return s+r}function nj(t,e,s,a,r){return r!==void 0&&(t=tg(t,r,a)),tg(t,s,a)+e}function Sy(t,e=0,s=1,a,r){t.min=nj(t.min,e,s,a,r),t.max=nj(t.max,e,s,a,r)}function $S(t,{x:e,y:s}){Sy(t.x,e.translate,e.scale,e.originPoint),Sy(t.y,s.translate,s.scale,s.originPoint)}const aj=.999999999999,rj=1.0000000000001;function JI(t,e,s,a=!1){const r=s.length;if(!r)return;e.x=e.y=1;let o,c;for(let d=0;d<r;d++){o=s[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&rh(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,$S(t,c)),a&&$d(o.latestValues)&&rh(t,o.latestValues))}e.x<rj&&e.x>aj&&(e.x=1),e.y<rj&&e.y>aj&&(e.y=1)}function ah(t,e){t.min=t.min+e,t.max=t.max+e}function ij(t,e,s,a,r=.5){const o=Fn(t.min,t.max,r);Sy(t,e,s,o,a)}function rh(t,e){ij(t.x,e.x,e.scaleX,e.scale,e.originX),ij(t.y,e.y,e.scaleY,e.scale,e.originY)}function YS(t,e){return VS(ZI(t.getBoundingClientRect(),e))}function QI(t,e,s){const a=YS(t,s),{scroll:r}=e;return r&&(ah(a.x,r.offset.x),ah(a.y,r.offset.y)),a}const oj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ih=()=>({x:oj(),y:oj()}),lj=()=>({min:0,max:0}),ea=()=>({x:lj(),y:lj()}),_y={current:null},WS={current:!1};function eq(){if(WS.current=!0,!!w2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_y.current=t.matches;t.addEventListener("change",e),e()}else _y.current=!1}const tq=new WeakMap;function sq(t,e,s){for(const a in e){const r=e[a],o=s[a];if(dr(r))t.addValue(a,r);else if(dr(o))t.addValue(a,jh(r,{owner:t}));else if(o!==r)if(t.hasValue(a)){const c=t.getValue(a);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=t.getStaticValue(a);t.addValue(a,jh(c!==void 0?c:r,{owner:t}))}}for(const a in s)e[a]===void 0&&t.removeValue(a);return e}const cj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nq{scrapeMotionValuesFromProps(e,s,a){return{}}constructor({parent:e,props:s,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=qr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,kn.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=s,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Dg(s),this.isVariantNode=TS(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in x){const y=x[v];h[v]!==void 0&&dr(y)&&y.set(h[v],!1)}}mount(e){this.current=e,tq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),WS.current||eq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_y.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ad(this.notifyUpdate),ad(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=Oh.has(e);a&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&kn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),o=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{r(),o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sh){const s=Sh[e];if(!s)continue;const{isEnabled:a,Feature:r}=s;if(!this.features[e]&&r&&a(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ea()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<cj.length;a++){const r=cj[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,c=e[o];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=sq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const a=this.values.get(e);s!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&s!==void 0&&(a=jh(s===null?void 0:s,{owner:this}),this.addValue(e,a)),a}readValue(e,s){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(I6(a)||U6(a))?a=parseFloat(a):!gI(a)&&rd.test(s)&&(a=jS(e,s)),this.setBaseTarget(e,dr(a)?a.get():a)),dr(a)?a.get():a}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var o;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=X2(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);c&&(a=c[e])}if(s&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!dr(r)?r:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new C2),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){U2.render(this.render)}}class GS extends nq{constructor(){super(...arguments),this.KeyframeResolver=nI}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:a}){delete s[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dr(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function XS(t,{style:e,vars:s},a,r){const o=t.style;let c;for(c in e)o[c]=e[c];r==null||r.applyProjectionStyles(o,a);for(c in s)o.setProperty(c,s[c])}function aq(t){return window.getComputedStyle(t)}class rq extends GS{constructor(){super(...arguments),this.type="html",this.renderInstance=XS}readValueFromInstance(e,s){var a;if(Oh.has(s))return(a=this.projection)!=null&&a.isProjecting?xy(s):Nz(e,s);{const r=aq(e),o=(E2(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:s}){return YS(e,s)}build(e,s,a){Y2(e,s,a.transformTemplate)}scrapeMotionValuesFromProps(e,s,a){return K2(e,s,a)}}const KS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iq(t,e,s,a){XS(t,e,void 0,a);for(const r in e.attrs)t.setAttribute(KS.has(r)?r:Z2(r),e.attrs[r])}class oq extends GS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ea}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Oh.has(s)){const a=NS(s);return a&&a.default||0}return s=KS.has(s)?s:Z2(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,a){return zS(e,s,a)}build(e,s,a){OS(e,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,s,a,r){iq(e,s,a,r)}mount(e){this.isSVGTag=FS(e.tagName),super.mount(e)}}const lq=(t,e)=>G2(t)?new oq(e):new rq(e,{allowProjection:t!==P.Fragment});function Nm(t,e,s){const a=t.getProps();return X2(a,e,s!==void 0?s:a.custom,t)}const Ay=t=>Array.isArray(t);function cq(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,jh(s))}function dq(t){return Ay(t)?t[t.length-1]||0:t}function uq(t,e){const s=Nm(t,e);let{transitionEnd:a={},transition:r={},...o}=s||{};o={...o,...a};for(const c in o){const d=dq(o[c]);cq(t,c,d)}}function hq(t){return!!(dr(t)&&t.add)}function Cy(t,e){const s=t.getValue("willChange");if(hq(s))return s.add(e);if(!s&&Zl.WillChange){const a=new Zl.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function ZS(t){return t.props[IS]}const fq=t=>t!==null;function mq(t,{repeat:e,repeatType:s="loop"},a){const r=t.filter(fq),o=e&&s!=="loop"&&e%2===1?0:r.length-1;return r[o]}const pq={type:"spring",stiffness:500,damping:25,restSpeed:10},gq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xq={type:"keyframes",duration:.8},bq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yq=(t,{keyframes:e})=>e.length>2?xq:Oh.has(t)?t.startsWith("scale")?gq(e[1]):pq:bq;function vq({when:t,delay:e,delayChildren:s,staggerChildren:a,staggerDirection:r,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const J2=(t,e,s,a={},r,o)=>c=>{const d=I2(a,t)||{},h=d.delay||a.delay||0;let{elapsed:f=0}=a;f=f-ol(h);const p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:r};vq(d)||Object.assign(p,yq(t,p)),p.duration&&(p.duration=ol(p.duration)),p.repeatDelay&&(p.repeatDelay=ol(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),(Zl.instantAnimations||Zl.skipAnimations)&&(x=!0,p.duration=0,p.delay=0),p.allowFlatten=!d.type&&!d.ease,x&&!o&&e.get()!==void 0){const v=mq(p.keyframes,d);if(v!==void 0){kn.update(()=>{p.onUpdate(v),p.onComplete()});return}}return d.isSync?new B2(p):new $z(p)};function wq({protectedKeys:t,needsAnimating:e},s){const a=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,a}function JS(t,e,{delay:s=0,transitionOverride:a,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;a&&(o=a);const h=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const p in d){const x=t.getValue(p,t.latestValues[p]??null),v=d[p];if(v===void 0||f&&wq(f,p))continue;const y={delay:s,...I2(o||{},p)},N=x.get();if(N!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===N&&!y.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const C=ZS(t);if(C){const D=window.MotionHandoffAnimation(C,p,kn);D!==null&&(y.startTime=D,_=!0)}}Cy(t,p),x.start(J2(p,x,v,t.shouldReduceMotion&&yS.has(p)?{type:!1}:y,t,_));const k=x.animation;k&&h.push(k)}return c&&Promise.all(h).then(()=>{kn.update(()=>{c&&uq(t,c)})}),h}function ky(t,e,s={}){var h;const a=Nm(t,e,s.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(r=s.transitionOverride);const o=a?()=>Promise.all(JS(t,a,s)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:v}=r;return Nq(t,e,f,p,x,v,s)}:()=>Promise.resolve(),{when:d}=r;if(d){const[f,p]=d==="beforeChildren"?[o,c]:[c,o];return f().then(()=>p())}else return Promise.all([o(),c(s.delay)])}function Nq(t,e,s=0,a=0,r=0,o=1,c){const d=[],h=t.variantChildren.size,f=(h-1)*r,p=typeof a=="function",x=p?v=>a(v,h):o===1?(v=0)=>v*r:(v=0)=>f-v*r;return Array.from(t.variantChildren).sort(jq).forEach((v,y)=>{v.notify("AnimationStart",e),d.push(ky(v,e,{...c,delay:s+(p?0:a)+x(y)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(d)}function jq(t,e){return t.sortNodePosition(e)}function Sq(t,e,s={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const r=e.map(o=>ky(t,o,s));a=Promise.all(r)}else if(typeof e=="string")a=ky(t,e,s);else{const r=typeof e=="function"?Nm(t,e,s.custom):e;a=Promise.all(JS(t,r,s))}return a.then(()=>{t.notify("AnimationComplete",e)})}function QS(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let a=0;a<s;a++)if(e[a]!==t[a])return!1;return!0}const _q=$2.length;function e_(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?e_(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<_q;s++){const a=$2[s],r=t.props[a];(vm(r)||r===!1)&&(e[a]=r)}return e}const Aq=[...H2].reverse(),Cq=H2.length;function kq(t){return e=>Promise.all(e.map(({animation:s,options:a})=>Sq(t,s,a)))}function Dq(t){let e=kq(t),s=dj(),a=!0;const r=h=>(f,p)=>{var v;const x=Nm(t,p,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(x){const{transition:y,transitionEnd:N,..._}=x;f={...f,..._,...N}}return f};function o(h){e=h(t)}function c(h){const{props:f}=t,p=e_(t.parent)||{},x=[],v=new Set;let y={},N=1/0;for(let k=0;k<Cq;k++){const C=Aq[k],D=s[C],L=f[C]!==void 0?f[C]:p[C],$=vm(L),W=C===h?D.isActive:null;W===!1&&(N=k);let le=L===p[C]&&L!==f[C]&&$;if(le&&a&&t.manuallyAnimateOnMount&&(le=!1),D.protectedKeys={...y},!D.isActive&&W===null||!L&&!D.prevProp||kg(L)||typeof L=="boolean")continue;const ee=Eq(D.prevProp,L);let U=ee||C===h&&D.isActive&&!le&&$||k>N&&$,oe=!1;const re=Array.isArray(L)?L:[L];let O=re.reduce(r(C),{});W===!1&&(O={});const{prevResolvedValues:R={}}=D,ie={...R,...O},X=J=>{U=!0,v.has(J)&&(oe=!0,v.delete(J)),D.needsAnimating[J]=!0;const Q=t.getValue(J);Q&&(Q.liveStyle=!1)};for(const J in ie){const Q=O[J],xe=R[J];if(y.hasOwnProperty(J))continue;let B=!1;Ay(Q)&&Ay(xe)?B=!QS(Q,xe):B=Q!==xe,B?Q!=null?X(J):v.add(J):Q!==void 0&&v.has(J)?X(J):D.protectedKeys[J]=!0}D.prevProp=L,D.prevResolvedValues=O,D.isActive&&(y={...y,...O}),a&&t.blockInitialAnimation&&(U=!1),U&&(!(le&&ee)||oe)&&x.push(...re.map(J=>({animation:J,options:{type:C}})))}if(v.size){const k={};if(typeof f.initial!="boolean"){const C=Nm(t,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(k.transition=C.transition)}v.forEach(C=>{const D=t.getBaseTarget(C),L=t.getValue(C);L&&(L.liveStyle=!0),k[C]=D??null}),x.push({animation:k})}let _=!!x.length;return a&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(_=!1),a=!1,_?e(x):Promise.resolve()}function d(h,f){var x;if(s[h].isActive===f)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(v=>{var y;return(y=v.animationState)==null?void 0:y.setActive(h,f)}),s[h].isActive=f;const p=c(h);for(const v in s)s[v].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>s,reset:()=>{s=dj(),a=!0}}}function Eq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QS(e,t):!1}function Id(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dj(){return{animate:Id(!0),whileInView:Id(),whileHover:Id(),whileTap:Id(),whileDrag:Id(),whileFocus:Id(),exit:Id()}}class od{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Lq extends od{constructor(e){super(e),e.animationState||(e.animationState=Dq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();kg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Tq=0;class Mq extends od{constructor(){super(...arguments),this.id=Tq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const r=this.node.animationState.setActive("exit",!e);s&&!e&&r.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Pq={animation:{Feature:Lq},exit:{Feature:Mq}};function jm(t,e,s,a={passive:!0}){return t.addEventListener(e,s,a),()=>t.removeEventListener(e,s)}function Rm(t){return{point:{x:t.pageX,y:t.pageY}}}const Oq=t=>e=>V2(e)&&t(e,Rm(e));function nm(t,e,s,a){return jm(t,e,Oq(s),a)}const t_=1e-4,Rq=1-t_,Fq=1+t_,s_=.01,Bq=0-s_,zq=0+s_;function wr(t){return t.max-t.min}function Iq(t,e,s){return Math.abs(t-e)<=s}function uj(t,e,s,a=.5){t.origin=a,t.originPoint=Fn(e.min,e.max,t.origin),t.scale=wr(s)/wr(e),t.translate=Fn(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Rq&&t.scale<=Fq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Bq&&t.translate<=zq||isNaN(t.translate))&&(t.translate=0)}function am(t,e,s,a){uj(t.x,e.x,s.x,a?a.originX:void 0),uj(t.y,e.y,s.y,a?a.originY:void 0)}function hj(t,e,s){t.min=s.min+e.min,t.max=t.min+wr(e)}function qq(t,e,s){hj(t.x,e.x,s.x),hj(t.y,e.y,s.y)}function fj(t,e,s){t.min=e.min-s.min,t.max=t.min+wr(e)}function rm(t,e,s){fj(t.x,e.x,s.x),fj(t.y,e.y,s.y)}function Pi(t){return[t("x"),t("y")]}const n_=({current:t})=>t?t.ownerDocument.defaultView:null,mj=(t,e)=>Math.abs(t-e);function Uq(t,e){const s=mj(t.x,e.x),a=mj(t.y,e.y);return Math.sqrt(s**2+a**2)}class a_{constructor(e,s,{transformPagePoint:a,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=_b(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,N=Uq(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!N)return;const{point:_}=v,{timestamp:k}=Ua;this.history.push({..._,timestamp:k});const{onStart:C,onMove:D}=this.handlers;y||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Sb(y,this.transformPagePoint),kn.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:N,onSessionEnd:_,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=_b(v.type==="pointercancel"?this.lastMoveEventInfo:Sb(y,this.transformPagePoint),this.history);this.startEvent&&N&&N(v,C),_&&_(v,C)},!V2(e))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=r||window;const d=Rm(e),h=Sb(d,this.transformPagePoint),{point:f}=h,{timestamp:p}=Ua;this.history=[{...f,timestamp:p}];const{onSessionStart:x}=s;x&&x(e,_b(h,this.history)),this.removeListeners=Mm(nm(this.contextWindow,"pointermove",this.handlePointerMove),nm(this.contextWindow,"pointerup",this.handlePointerUp),nm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ad(this.updatePoint)}}function Sb(t,e){return e?{point:e(t.point)}:t}function pj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _b({point:t},e){return{point:t,delta:pj(t,r_(e)),offset:pj(t,Vq(e)),velocity:Hq(e,.1)}}function Vq(t){return t[0]}function r_(t){return t[t.length-1]}function Hq(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,a=null;const r=r_(t);for(;s>=0&&(a=t[s],!(r.timestamp-a.timestamp>ol(e)));)s--;if(!a)return{x:0,y:0};const o=ll(r.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const c={x:(r.x-a.x)/o,y:(r.y-a.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $q(t,{min:e,max:s},a){return e!==void 0&&t<e?t=a?Fn(e,t,a.min):Math.max(t,e):s!==void 0&&t>s&&(t=a?Fn(s,t,a.max):Math.min(t,s)),t}function gj(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function Yq(t,{top:e,left:s,bottom:a,right:r}){return{x:gj(t.x,s,r),y:gj(t.y,e,a)}}function xj(t,e){let s=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,a]=[a,s]),{min:s,max:a}}function Wq(t,e){return{x:xj(t.x,e.x),y:xj(t.y,e.y)}}function Gq(t,e){let s=.5;const a=wr(t),r=wr(e);return r>a?s=xm(e.min,e.max-a,t.min):a>r&&(s=xm(t.min,t.max-r,e.min)),Kl(0,1,s)}function Xq(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const Dy=.35;function Kq(t=Dy){return t===!1?t=0:t===!0&&(t=Dy),{x:bj(t,"left","right"),y:bj(t,"top","bottom")}}function bj(t,e,s){return{min:yj(t,e),max:yj(t,s)}}function yj(t,e){return typeof t=="number"?t:t[e]||0}const Zq=new WeakMap;class Jq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ea(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Rm(x).point)},c=(x,v)=>{const{drag:y,dragPropagation:N,onDragStart:_}=this.getProps();if(y&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lI(y),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(C=>{let D=this.getAxisMotionValue(C).get()||0;if(cl.test(D)){const{projection:L}=this.visualElement;if(L&&L.layout){const $=L.layout.layoutBox[C];$&&(D=wr($)*(parseFloat(D)/100))}}this.originPoint[C]=D}),_&&kn.postRender(()=>_(x,v)),Cy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:N,onDirectionLock:_,onDrag:k}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=v;if(N&&this.currentDirection===null){this.currentDirection=Qq(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),k&&k(x,v)},h=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v,this.stop(x,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Pi(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new a_(e,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:a,contextWindow:n_(this.visualElement)})}stop(e,s){const a=e||this.latestPointerEvent,r=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!a)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&kn.postRender(()=>d(a,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,a){const{drag:r}=this.getProps();if(!a||!r0(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(c=$q(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;e&&nh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=Yq(a.layoutBox,e):this.constraints=!1,this.elastic=Kq(s),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Pi(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Xq(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!nh(e))return!1;const a=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=QI(a,r.root,this.visualElement.getTransformPagePoint());let c=Wq(r.layout.layoutBox,o);if(s){const d=s(KI(c));this.hasMutatedConstraints=!!d,d&&(c=VS(d))}return c}startAnimation(e){const{drag:s,dragMomentum:a,dragElastic:r,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=Pi(p=>{if(!r0(p,s,this.currentDirection))return;let x=h&&h[p]||{};c&&(x={min:0,max:0});const v=r?200:1e6,y=r?40:1e7,N={type:"inertia",velocity:a?e[p]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...x};return this.startAxisValueAnimation(p,N)});return Promise.all(f).then(d)}startAxisValueAnimation(e,s){const a=this.getAxisMotionValue(e);return Cy(this.visualElement,e),a.start(J2(e,a,0,s,this.visualElement,!1))}stopAnimation(){Pi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pi(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),r=a[s];return r||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){Pi(s=>{const{drag:a}=this.getProps();if(!r0(s,a,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(s);if(r&&r.layout){const{min:c,max:d}=r.layout.layoutBox[s];o.set(e[s]-Fn(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!nh(s)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Pi(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();r[c]=Gq({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Pi(c=>{if(!r0(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(Fn(h,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;Zq.set(this.visualElement,this);const e=this.visualElement.current,s=nm(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();nh(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),kn.read(a);const c=jm(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Pi(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())});return()=>{c(),s(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:c=Dy,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:a,dragPropagation:r,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function r0(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function Qq(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class eU extends od{constructor(e){super(e),this.removeGroupControls=Fi,this.removeListeners=Fi,this.controls=new Jq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fi}unmount(){this.removeGroupControls(),this.removeListeners()}}const vj=t=>(e,s)=>{t&&kn.postRender(()=>t(e,s))};class tU extends od{constructor(){super(...arguments),this.removePointerDownListener=Fi}onPointerDown(e){this.session=new a_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:vj(e),onStart:vj(s),onMove:a,onEnd:(o,c)=>{delete this.session,r&&kn.postRender(()=>r(o,c))}}}mount(){this.removePointerDownListener=nm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const S0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ls.test(t))t=parseFloat(t);else return t;const s=wj(t,e.target.x),a=wj(t,e.target.y);return`${s}% ${a}%`}},sU={correct:(t,{treeScale:e,projectionDelta:s})=>{const a=t,r=rd.parse(t);if(r.length>5)return a;const o=rd.createTransformer(t),c=typeof r[0]!="number"?1:0,d=s.x.scale*e.x,h=s.y.scale*e.y;r[0+c]/=d,r[1+c]/=h;const f=Fn(d,h,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),o(r)}};let Nj=!1;class nU extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:a,layoutId:r}=this.props,{projection:o}=e;SI(aU),o&&(s.group&&s.group.add(o),a&&a.register&&r&&a.register(o),Nj&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),S0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:a,drag:r,isPresent:o}=this.props,{projection:c}=a;return c&&(c.isPresent=o,Nj=!0,r||e.layoutDependency!==s||s===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||kn.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),U2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function i_(t){const[e,s]=xI(),a=P.useContext(z6);return n.jsx(nU,{...t,layoutGroup:a,switchLayoutGroup:P.useContext(qS),isPresent:e,safeToRemove:s})}const aU={borderRadius:{...zf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zf,borderTopRightRadius:zf,borderBottomLeftRadius:zf,borderBottomRightRadius:zf,boxShadow:sU};function rU(t,e,s){const a=dr(t)?t:jh(t);return a.start(J2("",a,e,s)),a.animation}const iU=(t,e)=>t.depth-e.depth;class oU{constructor(){this.children=[],this.isDirty=!1}add(e){j2(this.children,e),this.isDirty=!0}remove(e){S2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iU),this.isDirty=!1,this.children.forEach(e)}}function lU(t,e){const s=qr.now(),a=({timestamp:r})=>{const o=r-s;o>=e&&(ad(a),t(o-e))};return kn.setup(a,!0),()=>ad(a)}const o_=["TopLeft","TopRight","BottomLeft","BottomRight"],cU=o_.length,jj=t=>typeof t=="string"?parseFloat(t):t,Sj=t=>typeof t=="number"||ls.test(t);function dU(t,e,s,a,r,o){r?(t.opacity=Fn(0,s.opacity??1,uU(a)),t.opacityExit=Fn(e.opacity??1,0,hU(a))):o&&(t.opacity=Fn(e.opacity??1,s.opacity??1,a));for(let c=0;c<cU;c++){const d=`border${o_[c]}Radius`;let h=_j(e,d),f=_j(s,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Sj(h)===Sj(f)?(t[d]=Math.max(Fn(jj(h),jj(f),a),0),(cl.test(f)||cl.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||s.rotate)&&(t.rotate=Fn(e.rotate||0,s.rotate||0,a))}function _j(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uU=l_(0,.5,K6),hU=l_(.5,.95,Fi);function l_(t,e,s){return a=>a<t?0:a>e?1:s(xm(t,e,a))}function Aj(t,e){t.min=e.min,t.max=e.max}function Mi(t,e){Aj(t.x,e.x),Aj(t.y,e.y)}function Cj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kj(t,e,s,a,r){return t-=e,t=tg(t,1/s,a),r!==void 0&&(t=tg(t,1/r,a)),t}function fU(t,e=0,s=1,a=.5,r,o=t,c=t){if(cl.test(e)&&(e=parseFloat(e),e=Fn(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Fn(o.min,o.max,a);t===o&&(d-=e),t.min=kj(t.min,e,s,d,r),t.max=kj(t.max,e,s,d,r)}function Dj(t,e,[s,a,r],o,c){fU(t,e[s],e[a],e[r],e.scale,o,c)}const mU=["x","scaleX","originX"],pU=["y","scaleY","originY"];function Ej(t,e,s,a){Dj(t.x,e,mU,s?s.x:void 0,a?a.x:void 0),Dj(t.y,e,pU,s?s.y:void 0,a?a.y:void 0)}function Lj(t){return t.translate===0&&t.scale===1}function c_(t){return Lj(t.x)&&Lj(t.y)}function Tj(t,e){return t.min===e.min&&t.max===e.max}function gU(t,e){return Tj(t.x,e.x)&&Tj(t.y,e.y)}function Mj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function d_(t,e){return Mj(t.x,e.x)&&Mj(t.y,e.y)}function Pj(t){return wr(t.x)/wr(t.y)}function Oj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xU{constructor(){this.members=[]}add(e){j2(this.members,e),e.scheduleRender()}remove(e){if(S2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(r=>e===r);if(s===0)return!1;let a;for(let r=s;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(e,s){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,s&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:a}=e;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bU(t,e,s){let a="";const r=t.x.translate/e.x,o=t.y.translate/e.y,c=(s==null?void 0:s.z)||0;if((r||o||c)&&(a=`translate3d(${r}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:f,rotate:p,rotateX:x,rotateY:v,skewX:y,skewY:N}=s;f&&(a=`perspective(${f}px) ${a}`),p&&(a+=`rotate(${p}deg) `),x&&(a+=`rotateX(${x}deg) `),v&&(a+=`rotateY(${v}deg) `),y&&(a+=`skewX(${y}deg) `),N&&(a+=`skewY(${N}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(a+=`scale(${d}, ${h})`),a||"none"}const Ab=["","X","Y","Z"],yU=1e3;let vU=0;function Cb(t,e,s,a){const{latestValues:r}=e;r[t]&&(s[t]=r[t],e.setStaticValue(t,0),a&&(a[t]=0))}function u_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=ZS(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",kn,!(r||o))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&u_(a)}function h_({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(c={},d=e==null?void 0:e()){this.id=vU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jU),this.nodes.forEach(CU),this.nodes.forEach(kU),this.nodes.forEach(SU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new oU)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new C2),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=kS(c)&&!mI(c),this.instance=c;const{layoutId:d,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let p,x=0;const v=()=>this.root.updateBlockedByResize=!1;kn.read(()=>{x=window.innerWidth}),t(c,()=>{const y=window.innerWidth;y!==x&&(x=y,this.root.updateBlockedByResize=!0,p&&p(),p=lU(v,250),S0.hasAnimatedSinceResize&&(S0.hasAnimatedSinceResize=!1,this.nodes.forEach(Bj)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||MU,{onLayoutAnimationStart:_,onLayoutAnimationComplete:k}=f.getProps(),C=!this.targetLayout||!d_(this.targetLayout,y),D=!x&&v;if(this.options.layoutRoot||this.resumeFrom||D||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const L={...I2(N,"layout"),onPlay:_,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(L.delay=0,L.type=!1),this.startAnimation(L),this.setAnimationOrigin(p,D)}else x||Bj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ad(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&u_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AU),this.nodes.forEach(wU),this.nodes.forEach(NU)):this.nodes.forEach(Fj),this.clearAllSnapshots();const d=qr.now();Ua.delta=Kl(0,1e3/60,d-Ua.timestamp),Ua.timestamp=d,Ua.isProcessing=!0,gb.update.process(Ua),gb.preRender.process(Ua),gb.render.process(Ua),Ua.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,U2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_U),this.sharedNodes.forEach(EU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wr(this.snapshot.measuredBox.x)&&!wr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ea(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!c_(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(d||$d(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),PU(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return ea();const d=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(OU))){const{scroll:p}=this.root;p&&(ah(d.x,p.offset.x),ah(d.y,p.offset.y))}return d}removeElementScroll(c){var h;const d=ea();if(Mi(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:x,options:v}=p;p!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&Mi(d,c),ah(d.x,x.offset.x),ah(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const h=ea();Mi(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&rh(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),$d(p.latestValues)&&rh(h,p.latestValues)}return $d(this.latestValues)&&rh(h,this.latestValues),h}removeTransform(c){const d=ea();Mi(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!$d(f.latestValues))continue;jy(f.latestValues)&&f.updateSnapshot();const p=ea(),x=f.measurePageBox();Mi(p,x),Ej(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return $d(this.latestValues)&&Ej(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ua.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=Ua.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ea(),this.relativeTargetOrigin=ea(),rm(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ea(),this.targetWithTransforms=ea()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mi(this.target,this.layout.layoutBox),$S(this.target,this.targetDelta)):Mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ea(),this.relativeTargetOrigin=ea(),rm(this.relativeTargetOrigin,this.target,y.target),Mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jy(this.parent.latestValues)||HS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ua.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Mi(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;JI(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ea());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cj(this.prevProjectionDelta.x,this.projectionDelta.x),Cj(this.prevProjectionDelta.y,this.projectionDelta.y)),am(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!Oj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Oj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ih(),this.projectionDelta=ih(),this.projectionDeltaWithTransform=ih()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},x=ih();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=ea(),y=h?h.source:void 0,N=this.layout?this.layout.source:void 0,_=y!==N,k=this.getStack(),C=!k||k.members.length<=1,D=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(TU));this.animationProgress=0;let L;this.mixTargetDelta=$=>{const W=$/1e3;zj(x.x,c.x,W),zj(x.y,c.y,W),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rm(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LU(this.relativeTarget,this.relativeTargetOrigin,v,W),L&&gU(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=ea()),Mi(L,this.relativeTarget)),_&&(this.animationValues=p,dU(p,f,this.latestValues,W,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,f;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(),this.pendingAnimation&&(ad(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kn.update(()=>{S0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jh(0)),this.currentAnimation=rU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:p}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&f_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||ea();const x=wr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const v=wr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Mi(d,h),rh(d,p),am(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new xU),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Cb("z",c,f,this.animationValues);for(let p=0;p<Ab.length;p++)Cb(`rotate${Ab[p]}`,c,f,this.animationValues),Cb(`skew${Ab[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=j0(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=j0(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!$d(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let x=bU(this.projectionDeltaWithTransform,this.treeScale,p);h&&(x=h(p,x)),c.transform=x;const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in wm){if(p[N]===void 0)continue;const{correct:_,applyTo:k,isCSSVariable:C}=wm[N],D=x==="none"?p[N]:_(p[N],f);if(k){const L=k.length;for(let $=0;$<L;$++)c[k[$]]=D}else C?this.options.visualElement.renderState.vars[N]=D:c[N]=D}this.options.layoutId&&(c.pointerEvents=f===this?j0(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Rj),this.root.sharedNodes.clear()}}}function wU(t){t.updateLayout()}function NU(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?Pi(x=>{const v=c?e.measuredBox[x]:e.layoutBox[x],y=wr(v);v.min=a[x].min,v.max=v.min+y}):f_(o,e.layoutBox,a)&&Pi(x=>{const v=c?e.measuredBox[x]:e.layoutBox[x],y=wr(a[x]);v.max=v.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+y)});const d=ih();am(d,a,e.layoutBox);const h=ih();c?am(h,t.applyTransform(r,!0),e.measuredBox):am(h,a,e.layoutBox);const f=!c_(d);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:y}=x;if(v&&y){const N=ea();rm(N,e.layoutBox,v.layoutBox);const _=ea();rm(_,a,y.layoutBox),d_(N,_)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=N,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function jU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _U(t){t.clearSnapshot()}function Rj(t){t.clearMeasurements()}function Fj(t){t.isLayoutDirty=!1}function AU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function CU(t){t.resolveTargetDelta()}function kU(t){t.calcProjection()}function DU(t){t.resetSkewAndRotation()}function EU(t){t.removeLeadSnapshot()}function zj(t,e,s){t.translate=Fn(e.translate,0,s),t.scale=Fn(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Ij(t,e,s,a){t.min=Fn(e.min,s.min,a),t.max=Fn(e.max,s.max,a)}function LU(t,e,s,a){Ij(t.x,e.x,s.x,a),Ij(t.y,e.y,s.y,a)}function TU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const MU={duration:.45,ease:[.4,0,.1,1]},qj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Uj=qj("applewebkit/")&&!qj("chrome/")?Math.round:Fi;function Vj(t){t.min=Uj(t.min),t.max=Uj(t.max)}function PU(t){Vj(t.x),Vj(t.y)}function f_(t,e,s){return t==="position"||t==="preserve-aspect"&&!Iq(Pj(e),Pj(s),.2)}function OU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const RU=h_({attachResizeListener:(t,e)=>jm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kb={current:void 0},m_=h_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kb.current){const t=new RU({});t.mount(window),t.setOptions({layoutScroll:!0}),kb.current=t}return kb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),FU={pan:{Feature:tU},drag:{Feature:eU,ProjectionNode:m_,MeasureLayout:i_}};function Hj(t,e,s){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,o=a[r];o&&kn.postRender(()=>o(e,Rm(e)))}class BU extends od{mount(){const{current:e}=this.node;e&&(this.unmount=cI(e,(s,a)=>(Hj(this.node,a,"Start"),r=>Hj(this.node,r,"End"))))}unmount(){}}class zU extends od{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mm(jm(this.node.current,"focus",()=>this.onFocus()),jm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $j(t,e,s){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),o=a[r];o&&kn.postRender(()=>o(e,Rm(e)))}class IU extends od{mount(){const{current:e}=this.node;e&&(this.unmount=fI(e,(s,a)=>($j(this.node,a,"Start"),(r,{success:o})=>$j(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ey=new WeakMap,Db=new WeakMap,qU=t=>{const e=Ey.get(t.target);e&&e(t)},UU=t=>{t.forEach(qU)};function VU({root:t,...e}){const s=t||document;Db.has(s)||Db.set(s,{});const a=Db.get(s),r=JSON.stringify(e);return a[r]||(a[r]=new IntersectionObserver(UU,{root:t,...e})),a[r]}function HU(t,e,s){const a=VU(e);return Ey.set(t,s),a.observe(t),()=>{Ey.delete(t),a.unobserve(t)}}const $U={some:0,all:1};class YU extends od{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:a,amount:r="some",once:o}=e,c={root:s?s.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:$U[r]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),v=f?p:x;v&&v(h)};return HU(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(WU(e,s))&&this.startObserver()}unmount(){}}function WU({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const GU={inView:{Feature:YU},tap:{Feature:IU},focus:{Feature:zU},hover:{Feature:BU}},XU={layout:{ProjectionNode:m_,MeasureLayout:i_}},KU={...Pq,...GU,...FU,...XU},sr=XI(KU,lq),ZU=({message:t})=>t?n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm animate-in slide-in-from-top-1 duration-300",children:t}):null,JU=({isLogin:t,formData:e,onChange:s,onSubmit:a,loading:r,error:o,errors:c={},showPassword:d,togglePassword:h,showConfirmPassword:f,toggleConfirmPassword:p})=>n.jsxs("div",{className:"space-y-6",children:[o&&n.jsx(ZU,{message:o}),!t&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(vr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("input",{id:"name",name:"name",type:"text",required:!t,value:e.name||"",onChange:s,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Enter your full name"})]}),c.name&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.name[0]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(ag,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email||"",onChange:s,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Enter your email"})]}),c.email&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.email[0]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(d5,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("input",{id:"password",name:"password",type:d?"text":"password",required:!0,value:e.password||"",onChange:s,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Enter your password"}),n.jsx("button",{type:"button",onClick:h,className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:d?n.jsx(l5,{className:"h-5 w-5"}):n.jsx(Qc,{className:"h-5 w-5"})})]}),c.password&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.password[0]})]}),!t&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(d5,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",required:!t,value:e.confirmPassword||"",onChange:s,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-200",placeholder:"Confirm your password"}),n.jsx("button",{type:"button",onClick:p,className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:f?n.jsx(l5,{className:"h-5 w-5"}):n.jsx(Qc,{className:"h-5 w-5"})})]}),c.confirmPassword&&n.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.confirmPassword[0]})]}),n.jsx("button",{type:"button",onClick:a,disabled:r,className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2 font-medium",children:r?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t?"Signing In...":"Creating Account..."]}):n.jsxs(n.Fragment,{children:[t?"Sign In":"Create Account",n.jsx(RA,{className:"h-5 w-5"})]})})]}),QU=({onSuccess:t,loading:e})=>{const[s,a]=P.useState({email:"",password:""}),[r,o]=P.useState(!1),[c,d]=P.useState({}),[h,f]=P.useState(!1),p=v=>{a({...s,[v.target.name]:v.target.value}),d(y=>({...y,[v.target.name]:null}))},x=async()=>{if(t){const v=await t(s);v!=null&&v.errors&&d(v.errors)}};return n.jsx(sr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.2},children:n.jsx(JU,{isLogin:!0,formData:s,onChange:p,onSubmit:x,loading:r||e,errors:c,showPassword:h,togglePassword:()=>f(!h)})})};let oh=null;function Ly(t){oh=t,t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")}function eV(){if(oh)return oh;const t=localStorage.getItem("user");return t?(oh=JSON.parse(t),oh):null}function Eb(){oh=null,localStorage.removeItem("user")}function tV({onSuccess:t}){const[e,s]=P.useState(null),[a,r]=P.useState(!1),[o,c]=P.useState(!1),[d]=P.useState(new Date().getFullYear());P.useEffect(()=>{c(!0)},[]);const h=async x=>{var v,y,N,_;r(!0),s(null);try{await gB(x);const k=await dy();return Ly(k),t&&t(),{}}catch(k){const C=(y=(v=k==null?void 0:k.response)==null?void 0:v.data)==null?void 0:y.errors;return C?{errors:C}:(s(((_=(N=k==null?void 0:k.response)==null?void 0:N.data)==null?void 0:_.message)||"Login failed. Please check your credentials."),{})}finally{r(!1)}},f={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.2}}},p={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return n.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row min-h-screen",children:[n.jsxs(sr.div,{className:"bg-gradient-to-br from-blue-700 via-blue-600 to-indigo-800 text-white lg:w-1/2 p-8 lg:p-12 flex flex-col justify-between relative overflow-hidden",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.7,ease:"easeOut"},children:[n.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 rounded-full bg-blue-500 opacity-20"}),n.jsx("div",{className:"absolute top-1/4 -right-16 w-40 h-40 rounded-full bg-indigo-400 opacity-20"}),n.jsx("div",{className:"absolute bottom-1/3 right-1/3 w-24 h-24 rounded-full bg-white opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx(sr.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"mb-8",children:n.jsx("img",{src:"../../../public/logo.png",alt:"HRM System Logo",className:"h-16 w-auto"})}),n.jsx(sr.h1,{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.5},children:"HRM System"}),n.jsx(sr.p,{className:"text-lg lg:text-xl text-blue-100 mb-8 max-w-md",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,duration:.5},children:"Streamline your human resources management with our comprehensive platform."})]}),n.jsxs(sr.div,{variants:f,initial:"hidden",animate:o?"visible":"hidden",className:"relative z-10 space-y-6 mt-auto",children:[n.jsxs(sr.div,{variants:p,className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:n.jsx(Ha,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Employee Management"}),n.jsx("p",{className:"text-blue-100",children:"Manage your workforce efficiently"})]})]}),n.jsxs(sr.div,{variants:p,className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-3 rounded-xl",children:n.jsx(ig,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Secure & Reliable"}),n.jsx("p",{className:"text-blue-100",children:"Enterprise-grade security"})]})]}),n.jsxs(sr.div,{variants:p,className:"pt-8 text-sm text-blue-100 border-t border-blue-400/30 mt-8",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ag,{className:"h-4 w-4"}),n.jsx("span",{children:"support@hrmsystem.com"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hc,{className:"h-4 w-4"}),n.jsx("span",{children:"+1 (555) 123-4567"})]})]})]})]}),n.jsxs(sr.div,{className:"flex-1 flex flex-col justify-between p-8 lg:p-12 bg-gray-50",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.7,delay:.3,ease:"easeOut"},children:[n.jsxs(sr.div,{className:"max-w-md w-full mx-auto mt-auto mb-auto",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8,duration:.5},children:[n.jsxs("div",{className:"bg-white py-8 px-8 rounded-2xl shadow-xl border border-gray-100",children:[n.jsxs(sr.div,{className:"mb-8 text-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.5},children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-gray-600",children:"Please sign in to your account"})]}),e&&n.jsxs(sr.div,{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 text-sm rounded-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[n.jsx("p",{className:"font-medium",children:"Login Error"}),n.jsx("p",{children:e})]}),n.jsx(QU,{onSuccess:h,loading:a}),n.jsx(sr.div,{className:"mt-6 text-center text-sm text-gray-500",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:.5},children:n.jsx("p",{children:"Need help? Contact your system administrator"})})]}),n.jsxs(sr.div,{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg flex items-center",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.7,duration:.5},children:[n.jsx("div",{className:"bg-blue-100 rounded-full p-2 mr-3",children:n.jsx(kC,{size:18,className:"text-blue-700"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm text-blue-700",children:"Forgot your password? Please contact the IT department to reset your credentials."})})]})]}),n.jsxs(sr.div,{className:"text-center text-sm text-gray-500 mt-8 pt-4 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.5},children:[n.jsxs("p",{children:[" ",d," HRM System. All rights reserved."]}),n.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[n.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Privacy Policy"}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"text-gray-300",children:"|"}),n.jsx("a",{href:"#",className:"text-gray-600 hover:text-blue-600 transition-colors",children:"Help"})]})]})]})]})}function sV(){const[t,e]=P.useState(eV());P.useEffect(()=>{async function r(){try{const o=await dy();e(o),Ly(o)}catch{e(null),Eb()}}t||r()},[]);const s=async()=>{try{const r=await dy();e(r),Ly(r)}catch{e(null),Eb()}},a=async()=>{try{await xB()}catch{}Eb(),e(null)};return t?n.jsx(pB,{user:t,onLogout:a}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-slate-100",children:n.jsx("div",{className:"flex min-h-screen",children:n.jsx(tV,{onSuccess:s})})})}DA.createRoot(document.getElementById("root")).render(n.jsx(P.StrictMode,{children:n.jsx(sV,{})}));export{an as _,aV as c,yA as g};
